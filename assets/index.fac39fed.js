var D4=Object.defineProperty,M4=Object.defineProperties;var G4=Object.getOwnPropertyDescriptors;var lE=Object.getOwnPropertySymbols;var $4=Object.prototype.hasOwnProperty,H4=Object.prototype.propertyIsEnumerable;var k_=(e,t,r)=>t in e?D4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fE=(e,t)=>{for(var r in t||(t={}))$4.call(t,r)&&k_(e,r,t[r]);if(lE)for(var r of lE(t))H4.call(t,r)&&k_(e,r,t[r]);return e},cE=(e,t)=>M4(e,G4(t));var Ln=(e,t,r)=>(k_(e,typeof t!="symbol"?t+"":t,r),r);const j4=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};j4();var Dr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function zc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var be={exports:{}},at={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var hE=Object.getOwnPropertySymbols,W4=Object.prototype.hasOwnProperty,X4=Object.prototype.propertyIsEnumerable;function V4(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function z4(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Qy=z4()?Object.assign:function(e,t){for(var r,n=V4(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)W4.call(r,a)&&(n[a]=r[a]);if(hE){i=hE(r);for(var s=0;s<i.length;s++)X4.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=Qy,_u=60103,b2=60106;at.Fragment=60107;at.StrictMode=60108;at.Profiler=60114;var E2=60109,T2=60110,w2=60112;at.Suspense=60113;var S2=60115,C2=60116;if(typeof Symbol=="function"&&Symbol.for){var Yn=Symbol.for;_u=Yn("react.element"),b2=Yn("react.portal"),at.Fragment=Yn("react.fragment"),at.StrictMode=Yn("react.strict_mode"),at.Profiler=Yn("react.profiler"),E2=Yn("react.provider"),T2=Yn("react.context"),w2=Yn("react.forward_ref"),at.Suspense=Yn("react.suspense"),S2=Yn("react.memo"),C2=Yn("react.lazy")}var dE=typeof Symbol=="function"&&Symbol.iterator;function Y4(e){return e===null||typeof e!="object"?null:(e=dE&&e[dE]||e["@@iterator"],typeof e=="function"?e:null)}function Nf(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A2={};function mu(e,t,r){this.props=e,this.context=t,this.refs=A2,this.updater=r||I2}mu.prototype.isReactComponent={};mu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Nf(85));this.updater.enqueueSetState(this,e,t,"setState")};mu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R2(){}R2.prototype=mu.prototype;function t0(e,t,r){this.props=e,this.context=t,this.refs=A2,this.updater=r||I2}var r0=t0.prototype=new R2;r0.constructor=t0;e0(r0,mu.prototype);r0.isPureReactComponent=!0;var n0={current:null},N2=Object.prototype.hasOwnProperty,P2={key:!0,ref:!0,__self:!0,__source:!0};function O2(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)N2.call(t,n)&&!P2.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:_u,type:e,key:o,ref:a,props:i,_owner:n0.current}}function q4(e,t){return{$$typeof:_u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function i0(e){return typeof e=="object"&&e!==null&&e.$$typeof===_u}function K4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pE=/\/+/g;function F_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K4(""+e.key):t.toString(36)}function Uh(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _u:case b2:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+F_(a,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(pE,"$&/")+"/"),Uh(i,t,r,"",function(c){return c})):i!=null&&(i0(i)&&(i=q4(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(pE,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+F_(o,s);a+=Uh(o,t,r,l,i)}else if(l=Y4(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+F_(o,s++),a+=Uh(o,t,r,l,i);else if(o==="object")throw t=""+e,Error(Nf(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function Yc(e,t,r){if(e==null)return e;var n=[],i=0;return Uh(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Z4(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var L2={current:null};function oo(){var e=L2.current;if(e===null)throw Error(Nf(321));return e}var J4={ReactCurrentDispatcher:L2,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:n0,IsSomeRendererActing:{current:!1},assign:e0};at.Children={map:Yc,forEach:function(e,t,r){Yc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yc(e,function(){t++}),t},toArray:function(e){return Yc(e,function(t){return t})||[]},only:function(e){if(!i0(e))throw Error(Nf(143));return e}};at.Component=mu;at.PureComponent=t0;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J4;at.cloneElement=function(e,t,r){if(e==null)throw Error(Nf(267,e));var n=e0({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=n0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)N2.call(t,l)&&!P2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:_u,type:e.type,key:i,ref:o,props:n,_owner:a}};at.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:T2,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:E2,_context:e},e.Consumer=e};at.createElement=O2;at.createFactory=function(e){var t=O2.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:w2,render:e}};at.isValidElement=i0;at.lazy=function(e){return{$$typeof:C2,_payload:{_status:-1,_result:e},_init:Z4}};at.memo=function(e,t){return{$$typeof:S2,type:e,compare:t===void 0?null:t}};at.useCallback=function(e,t){return oo().useCallback(e,t)};at.useContext=function(e,t){return oo().useContext(e,t)};at.useDebugValue=function(){};at.useEffect=function(e,t){return oo().useEffect(e,t)};at.useImperativeHandle=function(e,t,r){return oo().useImperativeHandle(e,t,r)};at.useLayoutEffect=function(e,t){return oo().useLayoutEffect(e,t)};at.useMemo=function(e,t){return oo().useMemo(e,t)};at.useReducer=function(e,t,r){return oo().useReducer(e,t,r)};at.useRef=function(e){return oo().useRef(e)};at.useState=function(e){return oo().useState(e)};at.version="17.0.2";be.exports=at;var ve=be.exports,o0={exports:{}},Gn={},k2={exports:{}},F2={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,c=null,h=function(){if(l!==null)try{var W=e.unstable_now();l(!0,W),l=null}catch(ie){throw setTimeout(h,0),ie}};t=function(W){l!==null?setTimeout(t,0,W):(l=W,setTimeout(h,0))},r=function(W,ie){c=setTimeout(W,ie)},n=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,v=window.clearTimeout;if(typeof console!="undefined"){var _=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof _!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,x=null,m=-1,b=5,T=0;e.unstable_shouldYield=function(){return e.unstable_now()>=T},i=function(){},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<W?Math.floor(1e3/W):5};var A=new MessageChannel,P=A.port2;A.port1.onmessage=function(){if(x!==null){var W=e.unstable_now();T=W+b;try{x(!0,W)?P.postMessage(null):(y=!1,x=null)}catch(ie){throw P.postMessage(null),ie}}else y=!1},t=function(W){x=W,y||(y=!0,P.postMessage(null))},r=function(W,ie){m=p(function(){W(e.unstable_now())},ie)},n=function(){v(m),m=-1}}function R(W,ie){var ce=W.length;W.push(ie);e:for(;;){var Ie=ce-1>>>1,Fe=W[Ie];if(Fe!==void 0&&0<j(Fe,ie))W[Ie]=ie,W[ce]=Fe,ce=Ie;else break e}}function I(W){return W=W[0],W===void 0?null:W}function U(W){var ie=W[0];if(ie!==void 0){var ce=W.pop();if(ce!==ie){W[0]=ce;e:for(var Ie=0,Fe=W.length;Ie<Fe;){var Me=2*(Ie+1)-1,ut=W[Me],lt=Me+1,Ke=W[lt];if(ut!==void 0&&0>j(ut,ce))Ke!==void 0&&0>j(Ke,ut)?(W[Ie]=Ke,W[lt]=ce,Ie=lt):(W[Ie]=ut,W[Me]=ce,Ie=Me);else if(Ke!==void 0&&0>j(Ke,ce))W[Ie]=Ke,W[lt]=ce,Ie=lt;else break e}}return ie}return null}function j(W,ie){var ce=W.sortIndex-ie.sortIndex;return ce!==0?ce:W.id-ie.id}var D=[],z=[],pe=1,ue=null,_e=3,qe=!1,le=!1,fe=!1;function Se(W){for(var ie=I(z);ie!==null;){if(ie.callback===null)U(z);else if(ie.startTime<=W)U(z),ie.sortIndex=ie.expirationTime,R(D,ie);else break;ie=I(z)}}function Ue(W){if(fe=!1,Se(W),!le)if(I(D)!==null)le=!0,t(vt);else{var ie=I(z);ie!==null&&r(Ue,ie.startTime-W)}}function vt(W,ie){le=!1,fe&&(fe=!1,n()),qe=!0;var ce=_e;try{for(Se(ie),ue=I(D);ue!==null&&(!(ue.expirationTime>ie)||W&&!e.unstable_shouldYield());){var Ie=ue.callback;if(typeof Ie=="function"){ue.callback=null,_e=ue.priorityLevel;var Fe=Ie(ue.expirationTime<=ie);ie=e.unstable_now(),typeof Fe=="function"?ue.callback=Fe:ue===I(D)&&U(D),Se(ie)}else U(D);ue=I(D)}if(ue!==null)var Me=!0;else{var ut=I(z);ut!==null&&r(Ue,ut.startTime-ie),Me=!1}return Me}finally{ue=null,_e=ce,qe=!1}}var J=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){le||qe||(le=!0,t(vt))},e.unstable_getCurrentPriorityLevel=function(){return _e},e.unstable_getFirstCallbackNode=function(){return I(D)},e.unstable_next=function(W){switch(_e){case 1:case 2:case 3:var ie=3;break;default:ie=_e}var ce=_e;_e=ie;try{return W()}finally{_e=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=J,e.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=_e;_e=W;try{return ie()}finally{_e=ce}},e.unstable_scheduleCallback=function(W,ie,ce){var Ie=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ie+ce:Ie):ce=Ie,W){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,W={id:pe++,callback:ie,priorityLevel:W,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>Ie?(W.sortIndex=ce,R(z,W),I(D)===null&&W===I(z)&&(fe?n():fe=!0,r(Ue,ce-Ie))):(W.sortIndex=Fe,R(D,W),le||qe||(le=!0,t(vt))),W},e.unstable_wrapCallback=function(W){var ie=_e;return function(){var ce=_e;_e=ie;try{return W.apply(this,arguments)}finally{_e=ce}}}})(F2);k2.exports=F2;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=be.exports,Mt=Qy,gr=k2.exports;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Yd)throw Error(oe(227));var U2=new Set,Kl={};function $a(e,t){ou(e,t),ou(e+"Capture",t)}function ou(e,t){for(Kl[e]=t,e=0;e<t.length;e++)U2.add(t[e])}var Ji=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Q4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vE=Object.prototype.hasOwnProperty,_E={},mE={};function eB(e){return vE.call(mE,e)?!0:vE.call(_E,e)?!1:Q4.test(e)?mE[e]=!0:(_E[e]=!0,!1)}function tB(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rB(e,t,r,n){if(t===null||typeof t=="undefined"||tB(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qr(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pr[e]=new qr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pr[t]=new qr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pr[e]=new qr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pr[e]=new qr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pr[e]=new qr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pr[e]=new qr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pr[e]=new qr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pr[e]=new qr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pr[e]=new qr(e,5,!1,e.toLowerCase(),null,!1,!1)});var a0=/[\-:]([a-z])/g;function s0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(a0,s0);Pr[t]=new qr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(a0,s0);Pr[t]=new qr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(a0,s0);Pr[t]=new qr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pr[e]=new qr(e,1,!1,e.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pr[e]=new qr(e,1,!1,e.toLowerCase(),null,!0,!0)});function u0(e,t,r,n){var i=Pr.hasOwnProperty(t)?Pr[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(rB(t,r,i,n)&&(r=null),n||i===null?eB(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ha=Yd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Il=60103,wa=60106,To=60107,l0=60108,Ll=60114,f0=60109,c0=60110,qd=60112,kl=60113,id=60120,Kd=60115,h0=60116,d0=60121,p0=60128,B2=60129,v0=60130,rg=60131;if(typeof Symbol=="function"&&Symbol.for){var pr=Symbol.for;Il=pr("react.element"),wa=pr("react.portal"),To=pr("react.fragment"),l0=pr("react.strict_mode"),Ll=pr("react.profiler"),f0=pr("react.provider"),c0=pr("react.context"),qd=pr("react.forward_ref"),kl=pr("react.suspense"),id=pr("react.suspense_list"),Kd=pr("react.memo"),h0=pr("react.lazy"),d0=pr("react.block"),pr("react.scope"),p0=pr("react.opaque.id"),B2=pr("react.debug_trace_mode"),v0=pr("react.offscreen"),rg=pr("react.legacy_hidden")}var gE=typeof Symbol=="function"&&Symbol.iterator;function il(e){return e===null||typeof e!="object"?null:(e=gE&&e[gE]||e["@@iterator"],typeof e=="function"?e:null)}var U_;function Al(e){if(U_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);U_=t&&t[1]||""}return`
`+U_+e}var B_=!1;function qc(e,t){if(!e||B_)return"";B_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{B_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Al(e):""}function nB(e){switch(e.tag){case 5:return Al(e.type);case 16:return Al("Lazy");case 13:return Al("Suspense");case 19:return Al("SuspenseList");case 0:case 2:case 15:return e=qc(e.type,!1),e;case 11:return e=qc(e.type.render,!1),e;case 22:return e=qc(e.type._render,!1),e;case 1:return e=qc(e.type,!0),e;default:return""}}function $s(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case To:return"Fragment";case wa:return"Portal";case Ll:return"Profiler";case l0:return"StrictMode";case kl:return"Suspense";case id:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case c0:return(e.displayName||"Context")+".Consumer";case f0:return(e._context.displayName||"Context")+".Provider";case qd:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Kd:return $s(e.type);case d0:return $s(e._render);case h0:t=e._payload,e=e._init;try{return $s(e(t))}catch{}}return null}function Mo(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function D2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iB(e){var t=D2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kc(e){e._valueTracker||(e._valueTracker=iB(e))}function M2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=D2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function od(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function ng(e,t){var r=t.checked;return Mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function yE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G2(e,t){t=t.checked,t!=null&&u0(e,"checked",t,!1)}function ig(e,t){G2(e,t);var r=Mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?og(e,t.type,r):t.hasOwnProperty("defaultValue")&&og(e,t.type,Mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function og(e,t,r){(t!=="number"||od(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function oB(e){var t="";return Yd.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function ag(e,t){return e=Mt({children:void 0},t),(t=oB(t.children))&&(e.children=t),e}function Hs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mo(r)}}function $2(e,t){var r=Mo(t.value),n=Mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function EE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var ug={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function H2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zc,j2=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==ug.svg||"innerHTML"in e)e.innerHTML=t;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aB=["Webkit","ms","Moz","O"];Object.keys(Fl).forEach(function(e){aB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fl[t]=Fl[e]})});function W2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fl.hasOwnProperty(e)&&Fl[e]?(""+t).trim():t+"px"}function X2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=W2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var sB=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fg(e,t){if(t){if(sB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function cg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hg=null,js=null,Ws=null;function TE(e){if(e=Of(e)){if(typeof hg!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=rp(t),hg(e.stateNode,e.type,t))}}function V2(e){js?Ws?Ws.push(e):Ws=[e]:js=e}function z2(){if(js){var e=js,t=Ws;if(Ws=js=null,TE(e),t)for(e=0;e<t.length;e++)TE(t[e])}}function m0(e,t){return e(t)}function Y2(e,t,r,n,i){return e(t,r,n,i)}function g0(){}var q2=m0,Sa=!1,D_=!1;function y0(){(js!==null||Ws!==null)&&(g0(),z2())}function uB(e,t,r){if(D_)return e(t,r);D_=!0;try{return q2(e,t,r)}finally{D_=!1,y0()}}function Jl(e,t){var r=e.stateNode;if(r===null)return null;var n=rp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var dg=!1;if(Ji)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){dg=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{dg=!1}function lB(e,t,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(h){this.onError(h)}}var Ul=!1,ad=null,sd=!1,pg=null,fB={onError:function(e){Ul=!0,ad=e}};function cB(e,t,r,n,i,o,a,s,l){Ul=!1,ad=null,lB.apply(fB,arguments)}function hB(e,t,r,n,i,o,a,s,l){if(cB.apply(this,arguments),Ul){if(Ul){var c=ad;Ul=!1,ad=null}else throw Error(oe(198));sd||(sd=!0,pg=c)}}function ja(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function K2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wE(e){if(ja(e)!==e)throw Error(oe(188))}function dB(e){var t=e.alternate;if(!t){if(t=ja(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return wE(i),e;if(o===n)return wE(i),t;o=o.sibling}throw Error(oe(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function Z2(e){if(e=dB(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function SE(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var J2,x0,Q2,eI,vg=!1,vi=[],No=null,Po=null,Oo=null,Ql=new Map,ef=new Map,al=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _g(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function IE(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":Ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ef.delete(t.pointerId)}}function sl(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=_g(t,r,n,i,o),t!==null&&(t=Of(t),t!==null&&x0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pB(e,t,r,n,i){switch(t){case"focusin":return No=sl(No,e,t,r,n,i),!0;case"dragenter":return Po=sl(Po,e,t,r,n,i),!0;case"mouseover":return Oo=sl(Oo,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ql.set(o,sl(Ql.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,ef.set(o,sl(ef.get(o)||null,e,t,r,n,i)),!0}return!1}function vB(e){var t=Ca(e.target);if(t!==null){var r=ja(t);if(r!==null){if(t=r.tag,t===13){if(t=K2(r),t!==null){e.blockedOn=t,eI(e.lanePriority,function(){gr.unstable_runWithPriority(e.priority,function(){Q2(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=w0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Of(r),t!==null&&x0(t),e.blockedOn=r,!1;t.shift()}return!0}function AE(e,t,r){Bh(e)&&r.delete(t)}function _B(){for(vg=!1;0<vi.length;){var e=vi[0];if(e.blockedOn!==null){e=Of(e.blockedOn),e!==null&&J2(e);break}for(var t=e.targetContainers;0<t.length;){var r=w0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&vi.shift()}No!==null&&Bh(No)&&(No=null),Po!==null&&Bh(Po)&&(Po=null),Oo!==null&&Bh(Oo)&&(Oo=null),Ql.forEach(AE),ef.forEach(AE)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,vg||(vg=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,_B)))}function tI(e){function t(i){return ul(i,e)}if(0<vi.length){ul(vi[0],e);for(var r=1;r<vi.length;r++){var n=vi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(No!==null&&ul(No,e),Po!==null&&ul(Po,e),Oo!==null&&ul(Oo,e),Ql.forEach(t),ef.forEach(t),r=0;r<al.length;r++)n=al[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<al.length&&(r=al[0],r.blockedOn===null);)vB(r),r.blockedOn===null&&al.shift()}function Jc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var As={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},M_={},rI={};Ji&&(rI=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Zd(e){if(M_[e])return M_[e];if(!As[e])return e;var t=As[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rI)return M_[e]=t[r];return e}var nI=Zd("animationend"),iI=Zd("animationiteration"),oI=Zd("animationstart"),aI=Zd("transitionend"),sI=new Map,b0=new Map,mB=["abort","abort",nI,"animationEnd",iI,"animationIteration",oI,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",aI,"transitionEnd","waiting","waiting"];function E0(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),b0.set(n,t),sI.set(n,i),$a(i,[n])}}var gB=gr.unstable_now;gB();var St=8;function Ss(e){if((1&e)!==0)return St=15,1;if((2&e)!==0)return St=14,2;if((4&e)!==0)return St=13,4;var t=24&e;return t!==0?(St=12,t):(e&32)!==0?(St=11,32):(t=192&e,t!==0?(St=10,t):(e&256)!==0?(St=9,256):(t=3584&e,t!==0?(St=8,t):(e&4096)!==0?(St=7,4096):(t=4186112&e,t!==0?(St=6,t):(t=62914560&e,t!==0?(St=5,t):e&67108864?(St=4,67108864):(e&134217728)!==0?(St=3,134217728):(t=805306368&e,t!==0?(St=2,t):(1073741824&e)!==0?(St=1,1073741824):(St=8,e))))))}function yB(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function xB(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(oe(358,e))}}function tf(e,t){var r=e.pendingLanes;if(r===0)return St=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(o!==0)n=o,i=St=15;else if(o=r&134217727,o!==0){var l=o&~a;l!==0?(n=Ss(l),i=St):(s&=o,s!==0&&(n=Ss(s),i=St))}else o=r&~a,o!==0?(n=Ss(o),i=St):s!==0&&(n=Ss(s),i=St);if(n===0)return 0;if(n=31-Go(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&a)===0){if(Ss(t),i<=St)return t;St=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Go(t),i=1<<r,n|=e[r],t&=~i;return n}function uI(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ud(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Cs(24&~t),e===0?ud(10,t):e;case 10:return e=Cs(192&~t),e===0?ud(8,t):e;case 8:return e=Cs(3584&~t),e===0&&(e=Cs(4186112&~t),e===0&&(e=512)),e;case 2:return t=Cs(805306368&~t),t===0&&(t=268435456),t}throw Error(oe(358,e))}function Cs(e){return e&-e}function G_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Jd(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-Go(t),e[t]=r}var Go=Math.clz32?Math.clz32:TB,bB=Math.log,EB=Math.LN2;function TB(e){return e===0?32:31-(bB(e)/EB|0)|0}var wB=gr.unstable_UserBlockingPriority,SB=gr.unstable_runWithPriority,Dh=!0;function CB(e,t,r,n){Sa||g0();var i=T0,o=Sa;Sa=!0;try{Y2(i,e,t,r,n)}finally{(Sa=o)||y0()}}function IB(e,t,r,n){SB(wB,T0.bind(null,e,t,r,n))}function T0(e,t,r,n){if(Dh){var i;if((i=(t&4)===0)&&0<vi.length&&-1<CE.indexOf(e))e=_g(null,e,t,r,n),vi.push(e);else{var o=w0(e,t,r,n);if(o===null)i&&IE(e,n);else{if(i){if(-1<CE.indexOf(e)){e=_g(o,e,t,r,n),vi.push(e);return}if(pB(o,e,t,r,n))return;IE(e,n)}bI(e,t,n,null,r)}}}}function w0(e,t,r,n){var i=_0(n);if(i=Ca(i),i!==null){var o=ja(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=K2(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return bI(e,t,n,i,r),null}var So=null,S0=null,Mh=null;function lI(){if(Mh)return Mh;var e,t=S0,r=t.length,n,i="value"in So?So.value:So.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return Mh=i.slice(e,1<n?1-n:void 0)}function Gh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qc(){return!0}function RE(){return!1}function bn(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qc:RE,this.isPropagationStopped=RE,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),t}var gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C0=bn(gu),Pf=Mt({},gu,{view:0,detail:0}),AB=bn(Pf),$_,H_,ll,Qd=Mt({},Pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ll&&(ll&&e.type==="mousemove"?($_=e.screenX-ll.screenX,H_=e.screenY-ll.screenY):H_=$_=0,ll=e),$_)},movementY:function(e){return"movementY"in e?e.movementY:H_}}),NE=bn(Qd),RB=Mt({},Qd,{dataTransfer:0}),NB=bn(RB),PB=Mt({},Pf,{relatedTarget:0}),j_=bn(PB),OB=Mt({},gu,{animationName:0,elapsedTime:0,pseudoElement:0}),LB=bn(OB),kB=Mt({},gu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FB=bn(kB),UB=Mt({},gu,{data:0}),PE=bn(UB),BB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MB[e])?!!t[e]:!1}function I0(){return GB}var $B=Mt({},Pf,{key:function(e){if(e.key){var t=BB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(e){return e.type==="keypress"?Gh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HB=bn($B),jB=Mt({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OE=bn(jB),WB=Mt({},Pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),XB=bn(WB),VB=Mt({},gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),zB=bn(VB),YB=Mt({},Qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qB=bn(YB),KB=[9,13,27,32],A0=Ji&&"CompositionEvent"in window,Bl=null;Ji&&"documentMode"in document&&(Bl=document.documentMode);var ZB=Ji&&"TextEvent"in window&&!Bl,fI=Ji&&(!A0||Bl&&8<Bl&&11>=Bl),LE=String.fromCharCode(32),kE=!1;function cI(e,t){switch(e){case"keyup":return KB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function JB(e,t){switch(e){case"compositionend":return hI(t);case"keypress":return t.which!==32?null:(kE=!0,LE);case"textInput":return e=t.data,e===LE&&kE?null:e;default:return null}}function QB(e,t){if(Rs)return e==="compositionend"||!A0&&cI(e,t)?(e=lI(),Mh=S0=So=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fI&&t.locale!=="ko"?null:t.data;default:return null}}var eD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eD[e.type]:t==="textarea"}function dI(e,t,r,n){V2(n),t=ld(t,"onChange"),0<t.length&&(r=new C0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dl=null,rf=null;function tD(e){gI(e,0)}function ep(e){var t=Ps(e);if(M2(t))return e}function rD(e,t){if(e==="change")return t}var pI=!1;if(Ji){var W_;if(Ji){var X_="oninput"in document;if(!X_){var UE=document.createElement("div");UE.setAttribute("oninput","return;"),X_=typeof UE.oninput=="function"}W_=X_}else W_=!1;pI=W_&&(!document.documentMode||9<document.documentMode)}function BE(){Dl&&(Dl.detachEvent("onpropertychange",vI),rf=Dl=null)}function vI(e){if(e.propertyName==="value"&&ep(rf)){var t=[];if(dI(t,rf,e,_0(e)),e=tD,Sa)e(t);else{Sa=!0;try{m0(e,t)}finally{Sa=!1,y0()}}}}function nD(e,t,r){e==="focusin"?(BE(),Dl=t,rf=r,Dl.attachEvent("onpropertychange",vI)):e==="focusout"&&BE()}function iD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ep(rf)}function oD(e,t){if(e==="click")return ep(t)}function aD(e,t){if(e==="input"||e==="change")return ep(t)}function sD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:sD,uD=Object.prototype.hasOwnProperty;function nf(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!uD.call(t,r[n])||!kn(e[r[n]],t[r[n]]))return!1;return!0}function DE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ME(e,t){var r=DE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=DE(r)}}function _I(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_I(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GE(){for(var e=window,t=od();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=od(e.document)}return t}function mg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lD=Ji&&"documentMode"in document&&11>=document.documentMode,Ns=null,gg=null,Ml=null,yg=!1;function $E(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yg||Ns==null||Ns!==od(n)||(n=Ns,"selectionStart"in n&&mg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ml&&nf(Ml,n)||(Ml=n,n=ld(gg,"onSelect"),0<n.length&&(t=new C0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ns)))}E0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);E0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);E0(mB,2);for(var HE="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),V_=0;V_<HE.length;V_++)b0.set(HE[V_],0);ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function jE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hB(n,t,void 0,e),e.currentTarget=null}function gI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jE(i,s,c),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jE(i,s,c),o=l}}}if(sd)throw e=pg,sd=!1,pg=null,e}function Rt(e,t){var r=TI(t),n=e+"__bubble";r.has(n)||(xI(t,e,2,!1),r.add(n))}var WE="_reactListening"+Math.random().toString(36).slice(2);function yI(e){e[WE]||(e[WE]=!0,U2.forEach(function(t){mI.has(t)||XE(t,!1,e,null),XE(t,!0,e,null)}))}function XE(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&mI.has(e)){if(e!=="scroll")return;i|=2,o=n}var a=TI(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),xI(o,e,i,t),a.add(s))}function xI(e,t,r,n){var i=b0.get(t);switch(i===void 0?2:i){case 0:i=CB;break;case 1:i=IB;break;default:i=T0}r=i.bind(null,t,r,e),i=void 0,!dg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function bI(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ca(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}uB(function(){var c=o,h=_0(r),p=[];e:{var v=sI.get(e);if(v!==void 0){var _=C0,y=e;switch(e){case"keypress":if(Gh(r)===0)break e;case"keydown":case"keyup":_=HB;break;case"focusin":y="focus",_=j_;break;case"focusout":y="blur",_=j_;break;case"beforeblur":case"afterblur":_=j_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=NE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=NB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=XB;break;case nI:case iI:case oI:_=LB;break;case aI:_=zB;break;case"scroll":_=AB;break;case"wheel":_=qB;break;case"copy":case"cut":case"paste":_=FB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=OE}var x=(t&4)!==0,m=!x&&e==="scroll",b=x?v!==null?v+"Capture":null:v;x=[];for(var T=c,A;T!==null;){A=T;var P=A.stateNode;if(A.tag===5&&P!==null&&(A=P,b!==null&&(P=Jl(T,b),P!=null&&x.push(of(T,P,A)))),m)break;T=T.return}0<x.length&&(v=new _(v,y,null,r,h),p.push({event:v,listeners:x}))}}if((t&7)===0){e:{if(v=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",v&&(t&16)===0&&(y=r.relatedTarget||r.fromElement)&&(Ca(y)||y[yu]))break e;if((_||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,_?(y=r.relatedTarget||r.toElement,_=c,y=y?Ca(y):null,y!==null&&(m=ja(y),y!==m||y.tag!==5&&y.tag!==6)&&(y=null)):(_=null,y=c),_!==y)){if(x=NE,P="onMouseLeave",b="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(x=OE,P="onPointerLeave",b="onPointerEnter",T="pointer"),m=_==null?v:Ps(_),A=y==null?v:Ps(y),v=new x(P,T+"leave",_,r,h),v.target=m,v.relatedTarget=A,P=null,Ca(h)===c&&(x=new x(b,T+"enter",y,r,h),x.target=A,x.relatedTarget=m,P=x),m=P,_&&y)t:{for(x=_,b=y,T=0,A=x;A;A=vs(A))T++;for(A=0,P=b;P;P=vs(P))A++;for(;0<T-A;)x=vs(x),T--;for(;0<A-T;)b=vs(b),A--;for(;T--;){if(x===b||b!==null&&x===b.alternate)break t;x=vs(x),b=vs(b)}x=null}else x=null;_!==null&&VE(p,v,_,x,!1),y!==null&&m!==null&&VE(p,m,y,x,!0)}}e:{if(v=c?Ps(c):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var R=rD;else if(FE(v))if(pI)R=aD;else{R=iD;var I=nD}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(R=oD);if(R&&(R=R(e,c))){dI(p,R,r,h);break e}I&&I(e,v,c),e==="focusout"&&(I=v._wrapperState)&&I.controlled&&v.type==="number"&&og(v,"number",v.value)}switch(I=c?Ps(c):window,e){case"focusin":(FE(I)||I.contentEditable==="true")&&(Ns=I,gg=c,Ml=null);break;case"focusout":Ml=gg=Ns=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,$E(p,r,h);break;case"selectionchange":if(lD)break;case"keydown":case"keyup":$E(p,r,h)}var U;if(A0)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Rs?cI(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(fI&&r.locale!=="ko"&&(Rs||j!=="onCompositionStart"?j==="onCompositionEnd"&&Rs&&(U=lI()):(So=h,S0="value"in So?So.value:So.textContent,Rs=!0)),I=ld(c,j),0<I.length&&(j=new PE(j,e,null,r,h),p.push({event:j,listeners:I}),U?j.data=U:(U=hI(r),U!==null&&(j.data=U)))),(U=ZB?JB(e,r):QB(e,r))&&(c=ld(c,"onBeforeInput"),0<c.length&&(h=new PE("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:c}),h.data=U))}gI(p,t)})}function of(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ld(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Jl(e,r),o!=null&&n.unshift(of(e,o,i)),o=Jl(e,t),o!=null&&n.push(of(e,o,i))),e=e.return}return n}function vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function VE(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Jl(r,o),l!=null&&a.unshift(of(r,l,s))):i||(l=Jl(r,o),l!=null&&a.push(of(r,l,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}function fd(){}var z_=null,Y_=null;function EI(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xg(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zE=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0;function R0(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function YE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var q_=0;function cD(e){return{$$typeof:p0,toString:e,valueOf:e}}var tp=Math.random().toString(36).slice(2),Co="__reactFiber$"+tp,cd="__reactProps$"+tp,yu="__reactContainer$"+tp,qE="__reactEvents$"+tp;function Ca(e){var t=e[Co];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yu]||r[Co]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=YE(e);e!==null;){if(r=e[Co])return r;e=YE(e)}return t}e=r,r=e.parentNode}return null}function Of(e){return e=e[Co]||e[yu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function rp(e){return e[cd]||null}function TI(e){var t=e[qE];return t===void 0&&(t=e[qE]=new Set),t}var bg=[],Os=-1;function qo(e){return{current:e}}function Ot(e){0>Os||(e.current=bg[Os],bg[Os]=null,Os--)}function qt(e,t){Os++,bg[Os]=e.current,e.current=t}var $o={},$r=qo($o),on=qo(!1),La=$o;function au(e,t){var r=e.type.contextTypes;if(!r)return $o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function an(e){return e=e.childContextTypes,e!=null}function hd(){Ot(on),Ot($r)}function KE(e,t,r){if($r.current!==$o)throw Error(oe(168));qt($r,t),qt(on,r)}function wI(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(oe(108,$s(t)||"Unknown",i));return Mt({},r,n)}function $h(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,La=$r.current,qt($r,e),qt(on,on.current),!0}function ZE(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=wI(e,t,La),n.__reactInternalMemoizedMergedChildContext=e,Ot(on),Ot($r),qt($r,e)):Ot(on),qt(on,r)}var N0=null,Ra=null,hD=gr.unstable_runWithPriority,P0=gr.unstable_scheduleCallback,Eg=gr.unstable_cancelCallback,dD=gr.unstable_shouldYield,JE=gr.unstable_requestPaint,Tg=gr.unstable_now,pD=gr.unstable_getCurrentPriorityLevel,np=gr.unstable_ImmediatePriority,SI=gr.unstable_UserBlockingPriority,CI=gr.unstable_NormalPriority,II=gr.unstable_LowPriority,AI=gr.unstable_IdlePriority,K_={},vD=JE!==void 0?JE:function(){},ji=null,Hh=null,Z_=!1,QE=Tg(),Mr=1e4>QE?Tg:function(){return Tg()-QE};function su(){switch(pD()){case np:return 99;case SI:return 98;case CI:return 97;case II:return 96;case AI:return 95;default:throw Error(oe(332))}}function RI(e){switch(e){case 99:return np;case 98:return SI;case 97:return CI;case 96:return II;case 95:return AI;default:throw Error(oe(332))}}function ka(e,t){return e=RI(e),hD(e,t)}function af(e,t,r){return e=RI(e),P0(e,t,r)}function Si(){if(Hh!==null){var e=Hh;Hh=null,Eg(e)}NI()}function NI(){if(!Z_&&ji!==null){Z_=!0;var e=0;try{var t=ji;ka(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),ji=null}catch(r){throw ji!==null&&(ji=ji.slice(e+1)),P0(np,Si),r}finally{Z_=!1}}}var _D=Ha.ReactCurrentBatchConfig;function Jn(e,t){if(e&&e.defaultProps){t=Mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var dd=qo(null),pd=null,Ls=null,vd=null;function O0(){vd=Ls=pd=null}function L0(e){var t=dd.current;Ot(dd),e.type._context._currentValue=t}function PI(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function Vs(e,t){pd=e,vd=Ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ri=!0),e.firstContext=null)}function Bn(e,t){if(vd!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(vd=e,t=1073741823),t={context:e,observedBits:t,next:null},Ls===null){if(pd===null)throw Error(oe(308));Ls=t,pd.dependencies={lanes:0,firstContext:t,responders:null}}else Ls=Ls.next=t;return e._currentValue}var bo=!1;function k0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function OI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ko(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function eT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sf(e,t,r,n){var i=e.updateQueue;bo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var h=e.alternate;if(h!==null){h=h.updateQueue;var p=h.lastBaseUpdate;p!==a&&(p===null?h.firstBaseUpdate=c:p.next=c,h.lastBaseUpdate=l)}}if(o!==null){p=i.baseState,a=0,h=c=l=null;do{s=o.lane;var v=o.eventTime;if((n&s)===s){h!==null&&(h=h.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,y=o;switch(s=t,v=r,y.tag){case 1:if(_=y.payload,typeof _=="function"){p=_.call(v,p,s);break e}p=_;break e;case 3:_.flags=_.flags&-4097|64;case 0:if(_=y.payload,s=typeof _=="function"?_.call(v,p,s):_,s==null)break e;p=Mt({},p,s);break e;case 2:bo=!0}}o.callback!==null&&(e.flags|=32,s=i.effects,s===null?i.effects=[o]:s.push(o))}else v={eventTime:v,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=v,l=p):h=h.next=v,a|=s;if(o=o.next,o===null){if(s=i.shared.pending,s===null)break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,kf|=a,e.lanes=a,e.memoizedState=p}}function tT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(oe(191,i));i.call(n)}}}var LI=new Yd.Component().refs;function _d(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ip={isMounted:function(e){return(e=e._reactInternals)?ja(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gn(),i=Fo(e),o=Lo(n,i);o.payload=t,r!=null&&(o.callback=r),ko(e,o),Uo(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gn(),i=Fo(e),o=Lo(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),ko(e,o),Uo(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gn(),n=Fo(e),i=Lo(r,n);i.tag=2,t!=null&&(i.callback=t),ko(e,i),Uo(e,n,r)}};function rT(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!nf(r,n)||!nf(i,o):!0}function kI(e,t,r){var n=!1,i=$o,o=t.contextType;return typeof o=="object"&&o!==null?o=Bn(o):(i=an(t)?La:$r.current,n=t.contextTypes,o=(n=n!=null)?au(e,i):$o),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ip,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function nT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ip.enqueueReplaceState(t,t.state,null)}function wg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=LI,k0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Bn(o):(o=an(t)?La:$r.current,i.context=au(e,o)),sf(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(_d(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ip.enqueueReplaceState(i,i.state,null),sf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var eh=Array.isArray;function fl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;a===LI&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function th(e,t){if(e.type!=="textarea")throw Error(oe(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function FI(e){function t(m,b){if(e){var T=m.lastEffect;T!==null?(T.nextEffect=b,m.lastEffect=b):m.firstEffect=m.lastEffect=b,b.nextEffect=null,b.flags=8}}function r(m,b){if(!e)return null;for(;b!==null;)t(m,b),b=b.sibling;return null}function n(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function i(m,b){return m=jo(m,b),m.index=0,m.sibling=null,m}function o(m,b,T){return m.index=T,e?(T=m.alternate,T!==null?(T=T.index,T<b?(m.flags=2,b):T):(m.flags=2,b)):b}function a(m){return e&&m.alternate===null&&(m.flags=2),m}function s(m,b,T,A){return b===null||b.tag!==6?(b=rm(T,m.mode,A),b.return=m,b):(b=i(b,T),b.return=m,b)}function l(m,b,T,A){return b!==null&&b.elementType===T.type?(A=i(b,T.props),A.ref=fl(m,b,T),A.return=m,A):(A=Vh(T.type,T.key,T.props,null,m.mode,A),A.ref=fl(m,b,T),A.return=m,A)}function c(m,b,T,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=nm(T,m.mode,A),b.return=m,b):(b=i(b,T.children||[]),b.return=m,b)}function h(m,b,T,A,P){return b===null||b.tag!==7?(b=Ks(T,m.mode,A,P),b.return=m,b):(b=i(b,T),b.return=m,b)}function p(m,b,T){if(typeof b=="string"||typeof b=="number")return b=rm(""+b,m.mode,T),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Il:return T=Vh(b.type,b.key,b.props,null,m.mode,T),T.ref=fl(m,null,b),T.return=m,T;case wa:return b=nm(b,m.mode,T),b.return=m,b}if(eh(b)||il(b))return b=Ks(b,m.mode,T,null),b.return=m,b;th(m,b)}return null}function v(m,b,T,A){var P=b!==null?b.key:null;if(typeof T=="string"||typeof T=="number")return P!==null?null:s(m,b,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Il:return T.key===P?T.type===To?h(m,b,T.props.children,A,P):l(m,b,T,A):null;case wa:return T.key===P?c(m,b,T,A):null}if(eh(T)||il(T))return P!==null?null:h(m,b,T,A,null);th(m,T)}return null}function _(m,b,T,A,P){if(typeof A=="string"||typeof A=="number")return m=m.get(T)||null,s(b,m,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Il:return m=m.get(A.key===null?T:A.key)||null,A.type===To?h(b,m,A.props.children,P,A.key):l(b,m,A,P);case wa:return m=m.get(A.key===null?T:A.key)||null,c(b,m,A,P)}if(eh(A)||il(A))return m=m.get(T)||null,h(b,m,A,P,null);th(b,A)}return null}function y(m,b,T,A){for(var P=null,R=null,I=b,U=b=0,j=null;I!==null&&U<T.length;U++){I.index>U?(j=I,I=null):j=I.sibling;var D=v(m,I,T[U],A);if(D===null){I===null&&(I=j);break}e&&I&&D.alternate===null&&t(m,I),b=o(D,b,U),R===null?P=D:R.sibling=D,R=D,I=j}if(U===T.length)return r(m,I),P;if(I===null){for(;U<T.length;U++)I=p(m,T[U],A),I!==null&&(b=o(I,b,U),R===null?P=I:R.sibling=I,R=I);return P}for(I=n(m,I);U<T.length;U++)j=_(I,m,U,T[U],A),j!==null&&(e&&j.alternate!==null&&I.delete(j.key===null?U:j.key),b=o(j,b,U),R===null?P=j:R.sibling=j,R=j);return e&&I.forEach(function(z){return t(m,z)}),P}function x(m,b,T,A){var P=il(T);if(typeof P!="function")throw Error(oe(150));if(T=P.call(T),T==null)throw Error(oe(151));for(var R=P=null,I=b,U=b=0,j=null,D=T.next();I!==null&&!D.done;U++,D=T.next()){I.index>U?(j=I,I=null):j=I.sibling;var z=v(m,I,D.value,A);if(z===null){I===null&&(I=j);break}e&&I&&z.alternate===null&&t(m,I),b=o(z,b,U),R===null?P=z:R.sibling=z,R=z,I=j}if(D.done)return r(m,I),P;if(I===null){for(;!D.done;U++,D=T.next())D=p(m,D.value,A),D!==null&&(b=o(D,b,U),R===null?P=D:R.sibling=D,R=D);return P}for(I=n(m,I);!D.done;U++,D=T.next())D=_(I,m,U,D.value,A),D!==null&&(e&&D.alternate!==null&&I.delete(D.key===null?U:D.key),b=o(D,b,U),R===null?P=D:R.sibling=D,R=D);return e&&I.forEach(function(pe){return t(m,pe)}),P}return function(m,b,T,A){var P=typeof T=="object"&&T!==null&&T.type===To&&T.key===null;P&&(T=T.props.children);var R=typeof T=="object"&&T!==null;if(R)switch(T.$$typeof){case Il:e:{for(R=T.key,P=b;P!==null;){if(P.key===R){switch(P.tag){case 7:if(T.type===To){r(m,P.sibling),b=i(P,T.props.children),b.return=m,m=b;break e}break;default:if(P.elementType===T.type){r(m,P.sibling),b=i(P,T.props),b.ref=fl(m,P,T),b.return=m,m=b;break e}}r(m,P);break}else t(m,P);P=P.sibling}T.type===To?(b=Ks(T.props.children,m.mode,A,T.key),b.return=m,m=b):(A=Vh(T.type,T.key,T.props,null,m.mode,A),A.ref=fl(m,b,T),A.return=m,m=A)}return a(m);case wa:e:{for(P=T.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){r(m,b.sibling),b=i(b,T.children||[]),b.return=m,m=b;break e}else{r(m,b);break}else t(m,b);b=b.sibling}b=nm(T,m.mode,A),b.return=m,m=b}return a(m)}if(typeof T=="string"||typeof T=="number")return T=""+T,b!==null&&b.tag===6?(r(m,b.sibling),b=i(b,T),b.return=m,m=b):(r(m,b),b=rm(T,m.mode,A),b.return=m,m=b),a(m);if(eh(T))return y(m,b,T,A);if(il(T))return x(m,b,T,A);if(R&&th(m,T),typeof T=="undefined"&&!P)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(oe(152,$s(m.type)||"Component"))}return r(m,b)}}var md=FI(!0),UI=FI(!1),Lf={},bi=qo(Lf),uf=qo(Lf),lf=qo(Lf);function Ia(e){if(e===Lf)throw Error(oe(174));return e}function Sg(e,t){switch(qt(lf,t),qt(uf,e),qt(bi,Lf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lg(t,e)}Ot(bi),qt(bi,t)}function uu(){Ot(bi),Ot(uf),Ot(lf)}function iT(e){Ia(lf.current);var t=Ia(bi.current),r=lg(t,e.type);t!==r&&(qt(uf,e),qt(bi,r))}function F0(e){uf.current===e&&(Ot(bi),Ot(uf))}var zt=qo(0);function gd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vi=null,Io=null,Ei=!1;function BI(e,t){var r=Fn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function oT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Cg(e){if(Ei){var t=Io;if(t){var r=t;if(!oT(e,t)){if(t=Xs(r.nextSibling),!t||!oT(e,t)){e.flags=e.flags&-1025|2,Ei=!1,Vi=e;return}BI(Vi,r)}Vi=e,Io=Xs(t.firstChild)}else e.flags=e.flags&-1025|2,Ei=!1,Vi=e}}function aT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vi=e}function rh(e){if(e!==Vi)return!1;if(!Ei)return aT(e),Ei=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!xg(t,e.memoizedProps))for(t=Io;t;)BI(e,t),t=Xs(t.nextSibling);if(aT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Io=Xs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Io=null}}else Io=Vi?Xs(e.stateNode.nextSibling):null;return!0}function J_(){Io=Vi=null,Ei=!1}var zs=[];function U0(){for(var e=0;e<zs.length;e++)zs[e]._workInProgressVersionPrimary=null;zs.length=0}var Gl=Ha.ReactCurrentDispatcher,Un=Ha.ReactCurrentBatchConfig,ff=0,rr=null,Ur=null,Ir=null,yd=!1,$l=!1;function tn(){throw Error(oe(321))}function B0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kn(e[r],t[r]))return!1;return!0}function D0(e,t,r,n,i,o){if(ff=o,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gl.current=e===null||e.memoizedState===null?gD:yD,e=r(n,i),$l){o=0;do{if($l=!1,!(25>o))throw Error(oe(301));o+=1,Ir=Ur=null,t.updateQueue=null,Gl.current=xD,e=r(n,i)}while($l)}if(Gl.current=Td,t=Ur!==null&&Ur.next!==null,ff=0,Ir=Ur=rr=null,yd=!1,t)throw Error(oe(300));return e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?rr.memoizedState=Ir=e:Ir=Ir.next=e,Ir}function Wa(){if(Ur===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Ur.next;var t=Ir===null?rr.memoizedState:Ir.next;if(t!==null)Ir=t,Ur=e;else{if(e===null)throw Error(oe(310));Ur=e,e={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Ir===null?rr.memoizedState=Ir=e:Ir=Ir.next=e}return Ir}function _i(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=Wa(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=Ur,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=a=o=null,l=i;do{var c=l.lane;if((ff&c)===c)s!==null&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};s===null?(a=s=h,o=n):s=s.next=h,rr.lanes|=c,kf|=c}l=l.next}while(l!==null&&l!==i);s===null?o=n:s.next=a,kn(n,t.memoizedState)||(ri=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=s,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function hl(e){var t=Wa(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);kn(o,t.memoizedState)||(ri=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function sT(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(ff&e)===e)&&(t._workInProgressVersionPrimary=n,zs.push(t))),e)return r(t._source);throw zs.push(t),Error(oe(350))}function DI(e,t,r,n){var i=zr;if(i===null)throw Error(oe(349));var o=t._getVersion,a=o(t._source),s=Gl.current,l=s.useState(function(){return sT(i,t,r)}),c=l[1],h=l[0];l=Ir;var p=e.memoizedState,v=p.refs,_=v.getSnapshot,y=p.source;p=p.subscribe;var x=rr;return e.memoizedState={refs:v,source:t,subscribe:n},s.useEffect(function(){v.getSnapshot=r,v.setSnapshot=c;var m=o(t._source);if(!kn(a,m)){m=r(t._source),kn(h,m)||(c(m),m=Fo(x),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var b=i.entanglements,T=m;0<T;){var A=31-Go(T),P=1<<A;b[A]|=m,T&=~P}}},[r,t,n]),s.useEffect(function(){return n(t._source,function(){var m=v.getSnapshot,b=v.setSnapshot;try{b(m(t._source));var T=Fo(x);i.mutableReadLanes|=T&i.pendingLanes}catch(A){b(function(){throw A})}})},[t,n]),kn(_,r)&&kn(y,t)&&kn(p,n)||(e={pending:null,dispatch:null,lastRenderedReducer:_i,lastRenderedState:h},e.dispatch=c=$0.bind(null,rr,e),l.queue=e,l.baseQueue=null,h=sT(i,t,r),l.memoizedState=l.baseState=h),h}function MI(e,t,r){var n=Wa();return DI(n,e,t,r)}function dl(e){var t=Aa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},e=e.dispatch=$0.bind(null,rr,e),[t.memoizedState,e]}function xd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null},rr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uT(e){var t=Aa();return e={current:e},t.memoizedState=e}function bd(){return Wa().memoizedState}function Ig(e,t,r,n){var i=Aa();rr.flags|=e,i.memoizedState=xd(1|t,r,void 0,n===void 0?null:n)}function M0(e,t,r,n){var i=Wa();n=n===void 0?null:n;var o=void 0;if(Ur!==null){var a=Ur.memoizedState;if(o=a.destroy,n!==null&&B0(n,a.deps)){xd(t,r,o,n);return}}rr.flags|=e,i.memoizedState=xd(1|t,r,o,n)}function lT(e,t){return Ig(516,4,e,t)}function Ed(e,t){return M0(516,4,e,t)}function GI(e,t){return M0(4,2,e,t)}function $I(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HI(e,t,r){return r=r!=null?r.concat([e]):null,M0(4,2,$I.bind(null,t,e),r)}function G0(){}function jI(e,t){var r=Wa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&B0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function WI(e,t){var r=Wa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&B0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function mD(e,t){var r=su();ka(98>r?98:r,function(){e(!0)}),ka(97<r?97:r,function(){var n=Un.transition;Un.transition=1;try{e(!1),t()}finally{Un.transition=n}})}function $0(e,t,r){var n=gn(),i=Fo(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===rr||a!==null&&a===rr)$l=yd=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,r);if(o.eagerReducer=a,o.eagerState=l,kn(l,s))return}catch{}finally{}Uo(e,i,n)}}var Td={readContext:Bn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useOpaqueIdentifier:tn,unstable_isNewReconciler:!1},gD={readContext:Bn,useCallback:function(e,t){return Aa().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:lT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ig(4,2,$I.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ig(4,2,e,t)},useMemo:function(e,t){var r=Aa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Aa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=$0.bind(null,rr,e),[n.memoizedState,e]},useRef:uT,useState:dl,useDebugValue:G0,useDeferredValue:function(e){var t=dl(e),r=t[0],n=t[1];return lT(function(){var i=Un.transition;Un.transition=1;try{n(e)}finally{Un.transition=i}},[e]),r},useTransition:function(){var e=dl(!1),t=e[0];return e=mD.bind(null,e[1]),uT(e),[e,t]},useMutableSource:function(e,t,r){var n=Aa();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},DI(n,e,t,r)},useOpaqueIdentifier:function(){if(Ei){var e=!1,t=cD(function(){throw e||(e=!0,r("r:"+(q_++).toString(36))),Error(oe(355))}),r=dl(t)[1];return(rr.mode&2)===0&&(rr.flags|=516,xd(5,function(){r("r:"+(q_++).toString(36))},void 0,null)),t}return t="r:"+(q_++).toString(36),dl(t),t},unstable_isNewReconciler:!1},yD={readContext:Bn,useCallback:jI,useContext:Bn,useEffect:Ed,useImperativeHandle:HI,useLayoutEffect:GI,useMemo:WI,useReducer:cl,useRef:bd,useState:function(){return cl(_i)},useDebugValue:G0,useDeferredValue:function(e){var t=cl(_i),r=t[0],n=t[1];return Ed(function(){var i=Un.transition;Un.transition=1;try{n(e)}finally{Un.transition=i}},[e]),r},useTransition:function(){var e=cl(_i)[0];return[bd().current,e]},useMutableSource:MI,useOpaqueIdentifier:function(){return cl(_i)[0]},unstable_isNewReconciler:!1},xD={readContext:Bn,useCallback:jI,useContext:Bn,useEffect:Ed,useImperativeHandle:HI,useLayoutEffect:GI,useMemo:WI,useReducer:hl,useRef:bd,useState:function(){return hl(_i)},useDebugValue:G0,useDeferredValue:function(e){var t=hl(_i),r=t[0],n=t[1];return Ed(function(){var i=Un.transition;Un.transition=1;try{n(e)}finally{Un.transition=i}},[e]),r},useTransition:function(){var e=hl(_i)[0];return[bd().current,e]},useMutableSource:MI,useOpaqueIdentifier:function(){return hl(_i)[0]},unstable_isNewReconciler:!1},bD=Ha.ReactCurrentOwner,ri=!1;function rn(e,t,r,n){t.child=e===null?UI(t,null,r,n):md(t,e.child,r,n)}function fT(e,t,r,n,i){r=r.render;var o=t.ref;return Vs(t,i),n=D0(e,t,r,n,o,i),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,zi(e,t,i)):(t.flags|=1,rn(e,t,n,i),t.child)}function cT(e,t,r,n,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!z0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,XI(e,t,a,n,i,o)):(e=Vh(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,(i&o)===0&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:nf,r(i,n)&&e.ref===t.ref)?zi(e,t,o):(t.flags|=1,e=jo(a,n),e.ref=t.ref,e.return=t,t.child=e)}function XI(e,t,r,n,i,o){if(e!==null&&nf(e.memoizedProps,n)&&e.ref===t.ref)if(ri=!1,(o&i)!==0)(e.flags&16384)!==0&&(ri=!0);else return t.lanes=e.lanes,zi(e,t,o);return Ag(e,t,r,n,o)}function Q_(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},ih(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},ih(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ih(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ih(t,n);return rn(e,t,i,r),t.child}function VI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function Ag(e,t,r,n,i){var o=an(r)?La:$r.current;return o=au(t,o),Vs(t,i),r=D0(e,t,r,n,o,i),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,zi(e,t,i)):(t.flags|=1,rn(e,t,r,i),t.child)}function hT(e,t,r,n,i){if(an(r)){var o=!0;$h(t)}else o=!1;if(Vs(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),kI(t,r,n),wg(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=an(r)?La:$r.current,c=au(t,c));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&nT(t,a,n,c),bo=!1;var v=t.memoizedState;a.state=v,sf(t,n,a,i),l=t.memoizedState,s!==n||v!==l||on.current||bo?(typeof h=="function"&&(_d(t,r,h,n),l=t.memoizedState),(s=bo||rT(t,r,s,n,v,l,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{a=t.stateNode,OI(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Jn(t.type,s),a.props=c,p=t.pendingProps,v=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=an(r)?La:$r.current,l=au(t,l));var _=r.getDerivedStateFromProps;(h=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==p||v!==l)&&nT(t,a,n,l),bo=!1,v=t.memoizedState,a.state=v,sf(t,n,a,i);var y=t.memoizedState;s!==p||v!==y||on.current||bo?(typeof _=="function"&&(_d(t,r,_,n),y=t.memoizedState),(c=bo||rT(t,r,c,n,v,y,l))?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),n=!1)}return Rg(e,t,r,n,o,i)}function Rg(e,t,r,n,i,o){VI(e,t);var a=(t.flags&64)!==0;if(!n&&!a)return i&&ZE(t,r,!1),zi(e,t,o);n=t.stateNode,bD.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=md(t,e.child,null,o),t.child=md(t,null,s,o)):rn(e,t,s,o),t.memoizedState=n.state,i&&ZE(t,r,!0),t.child}function dT(e){var t=e.stateNode;t.pendingContext?KE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KE(e,t.context,!1),Sg(e,t.containerInfo)}var nh={dehydrated:null,retryLane:0};function pT(e,t,r){var n=t.pendingProps,i=zt.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),qt(zt,i&1),e===null?(n.fallback!==void 0&&Cg(t),e=n.children,i=n.fallback,o?(e=vT(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=nh,e):typeof n.unstable_expectedLoadTime=="number"?(e=vT(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=nh,t.lanes=33554432,e):(r=Y0({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=mT(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=nh,n):(r=_T(e,t,n.children,r),t.memoizedState=null,r):o?(n=mT(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=nh,n):(r=_T(e,t,n.children,r),t.memoizedState=null,r)}function vT(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=Y0(t,i,0,null),r=Ks(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function _T(e,t,r,n){var i=e.child;return e=i.sibling,r=jo(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function mT(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return(o&2)===0&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=s,a=r.lastEffect,a!==null?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=jo(a,s),e!==null?n=jo(e,n):(n=Ks(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function gT(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),PI(e.return,t)}function em(e,t,r,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function yT(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(rn(e,t,n.children,r),n=zt.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gT(e,r);else if(e.tag===19)gT(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qt(zt,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&gd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),em(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}em(t,!0,r,null,o,t.lastEffect);break;case"together":em(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function zi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kf|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=jo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=jo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var zI,Ng,YI,qI;zI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ng=function(){};YI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ia(bi.current);var o=null;switch(r){case"input":i=ng(e,i),n=ng(e,n),o=[];break;case"option":i=ag(e,i),n=ag(e,n),o=[];break;case"select":i=Mt({},i,{value:void 0}),n=Mt({},n,{value:void 0}),o=[];break;case"textarea":i=sg(e,i),n=sg(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fd)}fg(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rt("scroll",e),o||s===l||(o=[])):typeof l=="object"&&l!==null&&l.$$typeof===p0?l.toString():(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};qI=function(e,t,r,n){r!==n&&(t.flags|=4)};function pl(e,t){if(!Ei)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ED(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return an(t.type)&&hd(),null;case 3:return uu(),Ot(on),Ot($r),U0(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rh(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Ng(t),null;case 5:F0(t);var i=Ia(lf.current);if(r=t.type,e!==null&&t.stateNode!=null)YI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return null}if(e=Ia(bi.current),rh(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Co]=t,n[cd]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(e=0;e<Rl.length;e++)Rt(Rl[e],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":yE(n,o),Rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Rt("invalid",n);break;case"textarea":bE(n,o),Rt("invalid",n)}fg(r,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):Kl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Rt("scroll",n));switch(r){case"input":Kc(n),xE(n,o,!0);break;case"textarea":Kc(n),EE(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=fd)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===ug.html&&(e=H2(r)),e===ug.html?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Co]=t,e[cd]=n,zI(e,t,!1,!1),t.stateNode=e,a=cg(r,n),r){case"dialog":Rt("cancel",e),Rt("close",e),i=n;break;case"iframe":case"object":case"embed":Rt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Rl.length;i++)Rt(Rl[i],e);i=n;break;case"source":Rt("error",e),i=n;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),i=n;break;case"details":Rt("toggle",e),i=n;break;case"input":yE(e,n),i=ng(e,n),Rt("invalid",e);break;case"option":i=ag(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Mt({},n,{value:void 0}),Rt("invalid",e);break;case"textarea":bE(e,n),i=sg(e,n),Rt("invalid",e);break;default:i=n}fg(r,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?X2(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j2(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Kl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Rt("scroll",e):l!=null&&u0(e,o,l,a))}switch(r){case"input":Kc(e),xE(e,n,!1);break;case"textarea":Kc(e),EE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Hs(e,!!n.multiple,o,!1):n.defaultValue!=null&&Hs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fd)}EI(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)qI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));r=Ia(lf.current),Ia(bi.current),rh(t)?(n=t.stateNode,r=t.memoizedProps,n[Co]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Co]=t,t.stateNode=n)}return null;case 13:return Ot(zt),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&rh(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(zt.current&1)!==0?Ar===0&&(Ar=3):((Ar===0||Ar===3)&&(Ar=4),zr===null||(kf&134217727)===0&&(bu&134217727)===0||Ys(zr,Gr))),(n||r)&&(t.flags|=4),null);case 4:return uu(),Ng(t),e===null&&yI(t.stateNode.containerInfo),null;case 10:return L0(t),null;case 17:return an(t.type)&&hd(),null;case 19:if(Ot(zt),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,a=n.rendering,a===null)if(o)pl(n,!1);else{if(Ar!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(a=gd(e),a!==null){for(t.flags|=64,pl(n,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(zt,zt.current&1|2),t.child}e=e.sibling}n.tail!==null&&Mr()>Ug&&(t.flags|=64,o=!0,pl(n,!1),t.lanes=33554432)}else{if(!o)if(e=gd(a),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!Ei)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Mr()-n.renderingStartTime>Ug&&r!==1073741824&&(t.flags|=64,o=!0,pl(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Mr(),r.sibling=null,t=zt.current,qt(zt,o?t&1|2:t&1),r):null;case 23:case 24:return V0(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(oe(156,t.tag))}function TD(e){switch(e.tag){case 1:an(e.type)&&hd();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(uu(),Ot(on),Ot($r),U0(),t=e.flags,(t&64)!==0)throw Error(oe(285));return e.flags=t&-4097|64,e;case 5:return F0(e),null;case 13:return Ot(zt),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Ot(zt),null;case 4:return uu(),null;case 10:return L0(e),null;case 23:case 24:return V0(),null;default:return null}}function H0(e,t){try{var r="",n=t;do r+=nB(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function Pg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wD=typeof WeakMap=="function"?WeakMap:Map;function KI(e,t,r){r=Lo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sd||(Sd=!0,Bg=n),Pg(e,t)},r}function ZI(e,t,r){r=Lo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return Pg(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(mi===null?mi=new Set([this]):mi.add(this),Pg(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}var SD=typeof WeakSet=="function"?WeakSet:Set;function xT(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Bo(e,r)}else t.current=null}function CD(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Jn(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&R0(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(oe(163))}function ID(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(aA(r,e),FD(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Jn(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&tT(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}tT(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&EI(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&tI(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(oe(163))}function bT(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=W2("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ET(e,t){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(N0,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)aA(t,r);else{n=t;try{i()}catch(o){Bo(n,o)}}r=r.next}while(r!==e)}break;case 1:if(xT(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bo(t,o)}break;case 5:xT(t);break;case 4:JI(e,t)}}function TT(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wT(e){return e.tag===5||e.tag===3||e.tag===4}function ST(e){e:{for(var t=e.return;t!==null;){if(wT(t))break e;t=t.return}throw Error(oe(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(oe(161))}r.flags&16&&(Zl(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||wT(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Og(e,r,t):Lg(e,r,t)}function Og(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fd));else if(n!==4&&(e=e.child,e!==null))for(Og(e,t,r),e=e.sibling;e!==null;)Og(e,t,r),e=e.sibling}function Lg(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lg(e,t,r),e=e.sibling;e!==null;)Lg(e,t,r),e=e.sibling}function JI(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(oe(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=e,s=r,l=s;;)if(ET(a,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}o?(a=i,s=r.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(ET(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function tm(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[cd]=n,e==="input"&&n.type==="radio"&&n.name!=null&&G2(r,n),cg(e,i),t=cg(e,n),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];a==="style"?X2(r,s):a==="dangerouslySetInnerHTML"?j2(r,s):a==="children"?Zl(r,s):u0(r,a,s,t)}switch(e){case"input":ig(r,n);break;case"textarea":$2(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Hs(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Hs(r,!!n.multiple,n.defaultValue,!0):Hs(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(oe(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,tI(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(X0=Mr(),bT(t.child,!0)),CT(t);return;case 19:CT(t);return;case 17:return;case 23:case 24:bT(t,t.memoizedState!==null);return}throw Error(oe(163))}function CT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new SD),t.forEach(function(n){var i=DD.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function AD(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var RD=Math.ceil,wd=Ha.ReactCurrentDispatcher,j0=Ha.ReactCurrentOwner,Be=0,zr=null,fr=null,Gr=0,Fa=0,kg=qo(0),Ar=0,op=null,xu=0,kf=0,bu=0,W0=0,Fg=null,X0=0,Ug=1/0;function Eu(){Ug=Mr()+500}var ge=null,Sd=!1,Bg=null,mi=null,Ho=!1,Hl=null,Nl=90,Dg=[],Mg=[],qi=null,jl=0,Gg=null,jh=-1,Wi=0,Wh=0,Wl=null,Xh=!1;function gn(){return(Be&48)!==0?Mr():jh!==-1?jh:jh=Mr()}function Fo(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return su()===99?1:2;if(Wi===0&&(Wi=xu),_D.transition!==0){Wh!==0&&(Wh=Fg!==null?Fg.pendingLanes:0),e=Wi;var t=4186112&~Wh;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=su(),(Be&4)!==0&&e===98?e=ud(12,Wi):(e=yB(e),e=ud(e,Wi)),e}function Uo(e,t,r){if(50<jl)throw jl=0,Gg=null,Error(oe(185));if(e=ap(e,t),e===null)return null;Jd(e,t,r),e===zr&&(bu|=t,Ar===4&&Ys(e,Gr));var n=su();t===1?(Be&8)!==0&&(Be&48)===0?$g(e):(Dn(e,r),Be===0&&(Eu(),Si())):((Be&4)===0||n!==98&&n!==99||(qi===null?qi=new Set([e]):qi.add(e)),Dn(e,r)),Fg=e}function ap(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Dn(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Go(a),l=1<<s,c=o[s];if(c===-1){if((l&n)===0||(l&i)!==0){c=t,Ss(l);var h=St;o[s]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);a&=~l}if(n=tf(e,e===zr?Gr:0),t=St,n===0)r!==null&&(r!==K_&&Eg(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==K_&&Eg(r)}t===15?(r=$g.bind(null,e),ji===null?(ji=[r],Hh=P0(np,NI)):ji.push(r),r=K_):t===14?r=af(99,$g.bind(null,e)):(r=xB(t),r=af(r,QI.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function QI(e){if(jh=-1,Wh=Wi=0,(Be&48)!==0)throw Error(oe(327));var t=e.callbackNode;if(Ko()&&e.callbackNode!==t)return null;var r=tf(e,e===zr?Gr:0);if(r===0)return null;var n=r,i=Be;Be|=16;var o=nA();(zr!==e||Gr!==n)&&(Eu(),qs(e,n));do try{OD();break}catch(s){rA(e,s)}while(1);if(O0(),wd.current=o,Be=i,fr!==null?n=0:(zr=null,Gr=0,n=Ar),(xu&bu)!==0)qs(e,0);else if(n!==0){if(n===2&&(Be|=64,e.hydrate&&(e.hydrate=!1,R0(e.containerInfo)),r=uI(e),r!==0&&(n=Pl(e,r))),n===1)throw t=op,qs(e,0),Ys(e,r),Dn(e,Mr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(oe(345));case 2:ma(e);break;case 3:if(Ys(e,r),(r&62914560)===r&&(n=X0+500-Mr(),10<n)){if(tf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){gn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zE(ma.bind(null,e),n);break}ma(e);break;case 4:if(Ys(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-Go(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=Mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RD(r/1960))-r,10<r){e.timeoutHandle=zE(ma.bind(null,e),r);break}ma(e);break;case 5:ma(e);break;default:throw Error(oe(329))}}return Dn(e,Mr()),e.callbackNode===t?QI.bind(null,e):null}function Ys(e,t){for(t&=~W0,t&=~bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Go(t),n=1<<r;e[r]=-1,t&=~n}}function $g(e){if((Be&48)!==0)throw Error(oe(327));if(Ko(),e===zr&&(e.expiredLanes&Gr)!==0){var t=Gr,r=Pl(e,t);(xu&bu)!==0&&(t=tf(e,t),r=Pl(e,t))}else t=tf(e,0),r=Pl(e,t);if(e.tag!==0&&r===2&&(Be|=64,e.hydrate&&(e.hydrate=!1,R0(e.containerInfo)),t=uI(e),t!==0&&(r=Pl(e,t))),r===1)throw r=op,qs(e,0),Ys(e,t),Dn(e,Mr()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ma(e),Dn(e,Mr()),null}function ND(){if(qi!==null){var e=qi;qi=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Dn(t,Mr())})}Si()}function eA(e,t){var r=Be;Be|=1;try{return e(t)}finally{Be=r,Be===0&&(Eu(),Si())}}function tA(e,t){var r=Be;Be&=-2,Be|=8;try{return e(t)}finally{Be=r,Be===0&&(Eu(),Si())}}function ih(e,t){qt(kg,Fa),Fa|=t,xu|=t}function V0(){Fa=kg.current,Ot(kg)}function qs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fD(r)),fr!==null)for(r=fr.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&hd();break;case 3:uu(),Ot(on),Ot($r),U0();break;case 5:F0(n);break;case 4:uu();break;case 13:Ot(zt);break;case 19:Ot(zt);break;case 10:L0(n);break;case 23:case 24:V0()}r=r.return}zr=e,fr=jo(e.current,null),Gr=Fa=xu=t,Ar=0,op=null,W0=bu=kf=0}function rA(e,t){do{var r=fr;try{if(O0(),Gl.current=Td,yd){for(var n=rr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yd=!1}if(ff=0,Ir=Ur=rr=null,$l=!1,j0.current=null,r===null||r.return===null){Ar=1,op=t,fr=null;break}e:{var o=e,a=r.return,s=r,l=t;if(t=Gr,s.flags|=2048,s.firstEffect=s.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if((s.mode&2)===0){var h=s.alternate;h?(s.updateQueue=h.updateQueue,s.memoizedState=h.memoizedState,s.lanes=h.lanes):(s.updateQueue=null,s.memoizedState=null)}var p=(zt.current&1)!==0,v=a;do{var _;if(_=v.tag===13){var y=v.memoizedState;if(y!==null)_=y.dehydrated!==null;else{var x=v.memoizedProps;_=x.fallback===void 0?!1:x.unstable_avoidThisFallback!==!0?!0:!p}}if(_){var m=v.updateQueue;if(m===null){var b=new Set;b.add(c),v.updateQueue=b}else m.add(c);if((v.mode&2)===0){if(v.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var T=Lo(-1,1);T.tag=2,ko(s,T)}s.lanes|=1;break e}l=void 0,s=t;var A=o.pingCache;if(A===null?(A=o.pingCache=new wD,l=new Set,A.set(c,l)):(l=A.get(c),l===void 0&&(l=new Set,A.set(c,l))),!l.has(s)){l.add(s);var P=BD.bind(null,o,c,s);c.then(P,P)}v.flags|=4096,v.lanes=t;break e}v=v.return}while(v!==null);l=Error(($s(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ar!==5&&(Ar=2),l=H0(l,s),v=a;do{switch(v.tag){case 3:o=l,v.flags|=4096,t&=-t,v.lanes|=t;var R=KI(v,o,t);eT(v,R);break e;case 1:o=l;var I=v.type,U=v.stateNode;if((v.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(mi===null||!mi.has(U)))){v.flags|=4096,t&=-t,v.lanes|=t;var j=ZI(v,o,t);eT(v,j);break e}}v=v.return}while(v!==null)}oA(r)}catch(D){t=D,fr===r&&r!==null&&(fr=r=r.return);continue}break}while(1)}function nA(){var e=wd.current;return wd.current=Td,e===null?Td:e}function Pl(e,t){var r=Be;Be|=16;var n=nA();zr===e&&Gr===t||qs(e,t);do try{PD();break}catch(i){rA(e,i)}while(1);if(O0(),Be=r,wd.current=n,fr!==null)throw Error(oe(261));return zr=null,Gr=0,Ar}function PD(){for(;fr!==null;)iA(fr)}function OD(){for(;fr!==null&&!dD();)iA(fr)}function iA(e){var t=sA(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,t===null?oA(e):fr=t,j0.current=null}function oA(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=ED(r,t,Fa),r!==null){fr=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Fa&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=TD(t),r!==null){r.flags&=2047,fr=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){fr=t;return}fr=t=e}while(t!==null);Ar===0&&(Ar=5)}function ma(e){var t=su();return ka(99,LD.bind(null,e,t)),null}function LD(e,t){do Ko();while(Hl!==null);if((Be&48)!==0)throw Error(oe(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var l=31-Go(o),c=1<<l;i[l]=0,a[l]=-1,s[l]=-1,o&=~c}if(qi!==null&&(n&24)===0&&qi.has(e)&&qi.delete(e),e===zr&&(fr=zr=null,Gr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Be,Be|=32,j0.current=null,z_=Dh,a=GE(),mg(a)){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&c.rangeCount!==0){s=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var h=0,p=-1,v=-1,_=0,y=0,x=a,m=null;t:for(;;){for(var b;x!==s||o!==0&&x.nodeType!==3||(p=h+o),x!==l||c!==0&&x.nodeType!==3||(v=h+c),x.nodeType===3&&(h+=x.nodeValue.length),(b=x.firstChild)!==null;)m=x,x=b;for(;;){if(x===a)break t;if(m===s&&++_===o&&(p=h),m===l&&++y===c&&(v=h),(b=x.nextSibling)!==null)break;x=m,m=x.parentNode}x=b}s=p===-1||v===-1?null:{start:p,end:v}}else s=null;s=s||{start:0,end:0}}else s=null;Y_={focusedElem:a,selectionRange:s},Dh=!1,Wl=null,Xh=!1,ge=n;do try{kD()}catch(D){if(ge===null)throw Error(oe(330));Bo(ge,D),ge=ge.nextEffect}while(ge!==null);Wl=null,ge=n;do try{for(a=e;ge!==null;){var T=ge.flags;if(T&16&&Zl(ge.stateNode,""),T&128){var A=ge.alternate;if(A!==null){var P=A.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(T&1038){case 2:ST(ge),ge.flags&=-3;break;case 6:ST(ge),ge.flags&=-3,tm(ge.alternate,ge);break;case 1024:ge.flags&=-1025;break;case 1028:ge.flags&=-1025,tm(ge.alternate,ge);break;case 4:tm(ge.alternate,ge);break;case 8:s=ge,JI(a,s);var R=s.alternate;TT(s),R!==null&&TT(R)}ge=ge.nextEffect}}catch(D){if(ge===null)throw Error(oe(330));Bo(ge,D),ge=ge.nextEffect}while(ge!==null);if(P=Y_,A=GE(),T=P.focusedElem,a=P.selectionRange,A!==T&&T&&T.ownerDocument&&_I(T.ownerDocument.documentElement,T)){for(a!==null&&mg(T)&&(A=a.start,P=a.end,P===void 0&&(P=A),"selectionStart"in T?(T.selectionStart=A,T.selectionEnd=Math.min(P,T.value.length)):(P=(A=T.ownerDocument||document)&&A.defaultView||window,P.getSelection&&(P=P.getSelection(),s=T.textContent.length,R=Math.min(a.start,s),a=a.end===void 0?R:Math.min(a.end,s),!P.extend&&R>a&&(s=a,a=R,R=s),s=ME(T,R),o=ME(T,a),s&&o&&(P.rangeCount!==1||P.anchorNode!==s.node||P.anchorOffset!==s.offset||P.focusNode!==o.node||P.focusOffset!==o.offset)&&(A=A.createRange(),A.setStart(s.node,s.offset),P.removeAllRanges(),R>a?(P.addRange(A),P.extend(o.node,o.offset)):(A.setEnd(o.node,o.offset),P.addRange(A)))))),A=[],P=T;P=P.parentNode;)P.nodeType===1&&A.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<A.length;T++)P=A[T],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}Dh=!!z_,Y_=z_=null,e.current=r,ge=n;do try{for(T=e;ge!==null;){var I=ge.flags;if(I&36&&ID(T,ge.alternate,ge),I&128){A=void 0;var U=ge.ref;if(U!==null){var j=ge.stateNode;switch(ge.tag){case 5:A=j;break;default:A=j}typeof U=="function"?U(A):U.current=A}}ge=ge.nextEffect}}catch(D){if(ge===null)throw Error(oe(330));Bo(ge,D),ge=ge.nextEffect}while(ge!==null);ge=null,vD(),Be=i}else e.current=r;if(Ho)Ho=!1,Hl=e,Nl=t;else for(ge=n;ge!==null;)t=ge.nextEffect,ge.nextEffect=null,ge.flags&8&&(I=ge,I.sibling=null,I.stateNode=null),ge=t;if(n=e.pendingLanes,n===0&&(mi=null),n===1?e===Gg?jl++:(jl=0,Gg=e):jl=0,r=r.stateNode,Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(N0,r,void 0,(r.current.flags&64)===64)}catch{}if(Dn(e,Mr()),Sd)throw Sd=!1,e=Bg,Bg=null,e;return(Be&8)!==0||Si(),null}function kD(){for(;ge!==null;){var e=ge.alternate;Xh||Wl===null||((ge.flags&8)!==0?SE(ge,Wl)&&(Xh=!0):ge.tag===13&&AD(e,ge)&&SE(ge,Wl)&&(Xh=!0));var t=ge.flags;(t&256)!==0&&CD(e,ge),(t&512)===0||Ho||(Ho=!0,af(97,function(){return Ko(),null})),ge=ge.nextEffect}}function Ko(){if(Nl!==90){var e=97<Nl?97:Nl;return Nl=90,ka(e,UD)}return!1}function FD(e,t){Dg.push(t,e),Ho||(Ho=!0,af(97,function(){return Ko(),null}))}function aA(e,t){Mg.push(t,e),Ho||(Ho=!0,af(97,function(){return Ko(),null}))}function UD(){if(Hl===null)return!1;var e=Hl;if(Hl=null,(Be&48)!==0)throw Error(oe(331));var t=Be;Be|=32;var r=Mg;Mg=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(l){if(o===null)throw Error(oe(330));Bo(o,l)}}for(r=Dg,Dg=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var s=i.create;i.destroy=s()}catch(l){if(o===null)throw Error(oe(330));Bo(o,l)}}for(s=e.current.firstEffect;s!==null;)e=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=e;return Be=t,Si(),!0}function IT(e,t,r){t=H0(r,t),t=KI(e,t,1),ko(e,t),t=gn(),e=ap(e,1),e!==null&&(Jd(e,1,t),Dn(e,t))}function Bo(e,t){if(e.tag===3)IT(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){IT(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mi===null||!mi.has(n))){e=H0(t,e);var i=ZI(r,e,1);if(ko(r,i),i=gn(),r=ap(r,1),r!==null)Jd(r,1,i),Dn(r,i);else if(typeof n.componentDidCatch=="function"&&(mi===null||!mi.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function BD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gn(),e.pingedLanes|=e.suspendedLanes&r,zr===e&&(Gr&r)===r&&(Ar===4||Ar===3&&(Gr&62914560)===Gr&&500>Mr()-X0?qs(e,0):W0|=r),Dn(e,t)}function DD(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=su()===99?1:2:(Wi===0&&(Wi=xu),t=Cs(62914560&~Wi),t===0&&(t=4194304))),r=gn(),e=ap(e,t),e!==null&&(Jd(e,t,r),Dn(e,r))}var sA;sA=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)ri=!0;else if((r&n)!==0)ri=(e.flags&16384)!==0;else{switch(ri=!1,t.tag){case 3:dT(t),J_();break;case 5:iT(t);break;case 1:an(t.type)&&$h(t);break;case 4:Sg(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;qt(dd,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?pT(e,t,r):(qt(zt,zt.current&1),t=zi(e,t,r),t!==null?t.sibling:null);qt(zt,zt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return yT(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(zt,zt.current),n)break;return null;case 23:case 24:return t.lanes=0,Q_(e,t,r)}return zi(e,t,r)}else ri=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=au(t,$r.current),Vs(t,r),i=D0(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,an(n)){var o=!0;$h(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k0(t);var a=n.getDerivedStateFromProps;typeof a=="function"&&_d(t,n,a,e),i.updater=ip,t.stateNode=i,i._reactInternals=t,wg(t,n,e,r),t=Rg(null,t,n,!0,o,r)}else t.tag=0,rn(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=GD(i),e=Jn(i,e),o){case 0:t=Ag(null,t,i,e,r);break e;case 1:t=hT(null,t,i,e,r);break e;case 11:t=fT(null,t,i,e,r);break e;case 14:t=cT(null,t,i,Jn(i.type,e),n,r);break e}throw Error(oe(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Jn(n,i),Ag(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Jn(n,i),hT(e,t,n,i,r);case 3:if(dT(t),n=t.updateQueue,e===null||n===null)throw Error(oe(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,OI(e,t),sf(t,n,null,r),n=t.memoizedState.element,n===i)J_(),t=zi(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(Io=Xs(t.stateNode.containerInfo.firstChild),Vi=t,o=Ei=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],zs.push(o);for(r=UI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else rn(e,t,n,r),J_();t=t.child}return t;case 5:return iT(t),e===null&&Cg(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,xg(n,i)?a=null:o!==null&&xg(n,o)&&(t.flags|=16),VI(e,t),rn(e,t,a,r),t.child;case 6:return e===null&&Cg(t),null;case 13:return pT(e,t,r);case 4:return Sg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=md(t,null,n,r):rn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Jn(n,i),fT(e,t,n,i,r);case 7:return rn(e,t,t.pendingProps,r),t.child;case 8:return rn(e,t,t.pendingProps.children,r),t.child;case 12:return rn(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(qt(dd,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=kn(s,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===i.children&&!on.current){t=zi(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n&&(c.observedBits&o)!==0){s.tag===1&&(c=Lo(-1,r&-r),c.tag=2,ko(s,c)),s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),PI(s.return,r),l.lanes|=r;break}c=c.next}}else a=s.tag===10&&s.type===t.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}rn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Vs(t,r),i=Bn(i,o.unstable_observedBits),n=n(i),t.flags|=1,rn(e,t,n,r),t.child;case 14:return i=t.type,o=Jn(i,t.pendingProps),o=Jn(i.type,o),cT(e,t,i,o,n,r);case 15:return XI(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Jn(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,an(n)?(e=!0,$h(t)):e=!1,Vs(t,r),kI(t,n,i),wg(t,n,i,r),Rg(null,t,n,!0,e,r);case 19:return yT(e,t,r);case 23:return Q_(e,t,r);case 24:return Q_(e,t,r)}throw Error(oe(156,t.tag))};function MD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,r,n){return new MD(e,t,r,n)}function z0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GD(e){if(typeof e=="function")return z0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qd)return 11;if(e===Kd)return 14}return 2}function jo(e,t){var r=e.alternate;return r===null?(r=Fn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vh(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")z0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case To:return Ks(r.children,i,o,t);case B2:a=8,i|=16;break;case l0:a=8,i|=1;break;case Ll:return e=Fn(12,r,t,i|8),e.elementType=Ll,e.type=Ll,e.lanes=o,e;case kl:return e=Fn(13,r,t,i),e.type=kl,e.elementType=kl,e.lanes=o,e;case id:return e=Fn(19,r,t,i),e.elementType=id,e.lanes=o,e;case v0:return Y0(r,i,o,t);case rg:return e=Fn(24,r,t,i),e.elementType=rg,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case f0:a=10;break e;case c0:a=9;break e;case qd:a=11;break e;case Kd:a=14;break e;case h0:a=16,n=null;break e;case d0:a=22;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Fn(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Ks(e,t,r,n){return e=Fn(7,e,n,t),e.lanes=r,e}function Y0(e,t,r,n){return e=Fn(23,e,n,t),e.elementType=v0,e.lanes=r,e}function rm(e,t,r){return e=Fn(6,e,null,t),e.lanes=r,e}function nm(e,t,r){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $D(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=G_(0),this.expirationTimes=G_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G_(0),this.mutableSourceEagerHydrationData=null}function HD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Cd(e,t,r,n){var i=t.current,o=gn(),a=Fo(i);e:if(r){r=r._reactInternals;t:{if(ja(r)!==r||r.tag!==1)throw Error(oe(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(oe(171))}if(r.tag===1){var l=r.type;if(an(l)){r=wI(r,l,s);break e}}r=s}else r=$o;return t.context===null?t.context=r:t.pendingContext=r,t=Lo(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),ko(i,t),Uo(i,a,o),a}function im(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function q0(e,t){AT(e,t),(e=e.alternate)&&AT(e,t)}function jD(){return null}function K0(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new $D(e,t,r!=null&&r.hydrate===!0),t=Fn(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,k0(t),e[yu]=r.current,yI(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}K0.prototype.render=function(e){Cd(e,this._internalRoot,null,null)};K0.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Cd(null,e,null,function(){t[yu]=null})};function Ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WD(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new K0(e,0,t?{hydrate:!0}:void 0)}function sp(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var s=i;i=function(){var c=im(a);s.call(c)}}Cd(t,a,e,i)}else{if(o=r._reactRootContainer=WD(r,n),a=o._internalRoot,typeof i=="function"){var l=i;i=function(){var c=im(a);l.call(c)}}tA(function(){Cd(t,a,e,i)})}return im(a)}J2=function(e){if(e.tag===13){var t=gn();Uo(e,4,t),q0(e,4)}};x0=function(e){if(e.tag===13){var t=gn();Uo(e,67108864,t),q0(e,67108864)}};Q2=function(e){if(e.tag===13){var t=gn(),r=Fo(e);Uo(e,r,t),q0(e,r)}};eI=function(e,t){return t()};hg=function(e,t,r){switch(t){case"input":if(ig(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=rp(n);if(!i)throw Error(oe(90));M2(n),ig(n,i)}}}break;case"textarea":$2(e,r);break;case"select":t=r.value,t!=null&&Hs(e,!!r.multiple,t,!1)}};m0=eA;Y2=function(e,t,r,n,i){var o=Be;Be|=4;try{return ka(98,e.bind(null,t,r,n,i))}finally{Be=o,Be===0&&(Eu(),Si())}};g0=function(){(Be&49)===0&&(ND(),Ko())};q2=function(e,t){var r=Be;Be|=2;try{return e(t)}finally{Be=r,Be===0&&(Eu(),Si())}};function uA(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ff(t))throw Error(oe(200));return HD(e,t,null,r)}var XD={Events:[Of,Ps,rp,V2,z2,Ko,{current:!1}]},vl={findFiberByHostInstance:Ca,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},VD={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Z2(e),e===null?null:e.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||jD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{N0=oh.inject(VD),Ra=oh}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XD;Gn.createPortal=uA;Gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):Error(oe(268,Object.keys(e)));return e=Z2(t),e=e===null?null:e.stateNode,e};Gn.flushSync=function(e,t){var r=Be;if((r&48)!==0)return e(t);Be|=1;try{if(e)return ka(99,e.bind(null,t))}finally{Be=r,Si()}};Gn.hydrate=function(e,t,r){if(!Ff(t))throw Error(oe(200));return sp(null,e,t,!0,r)};Gn.render=function(e,t,r){if(!Ff(t))throw Error(oe(200));return sp(null,e,t,!1,r)};Gn.unmountComponentAtNode=function(e){if(!Ff(e))throw Error(oe(40));return e._reactRootContainer?(tA(function(){sp(null,null,e,!1,function(){e._reactRootContainer=null,e[yu]=null})}),!0):!1};Gn.unstable_batchedUpdates=eA;Gn.unstable_createPortal=function(e,t){return uA(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Gn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ff(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return sp(e,t,r,!1,n)};Gn.version="17.0.2";function lA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lA)}catch(e){console.error(e)}}lA(),o0.exports=Gn;var Ua=o0.exports;const zD="_Title_main_wx3c5_2",YD="_Title_buttonList_wx3c5_9",qD="_Title_button_wx3c5_9",KD="_Title_button_text_wx3c5_42",ZD="_Title_button_text_up_wx3c5_51",JD="_Title_backup_background_wx3c5_57";var Ht={Title_main:zD,Title_buttonList:YD,Title_button:qD,Title_button_text:KD,Title_button_text_up:ZD,Title_backup_background:JD};function ti(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wo(e){return!!e&&!!e[Bt]}function Xo(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===sM}(e)||Array.isArray(e)||!!e[FT]||!!e.constructor[FT]||Z0(e)||J0(e))}function Ba(e,t,r){r===void 0&&(r=!1),Tu(e)===0?(r?Object.keys:Js)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function Tu(e){var t=e[Bt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Z0(e)?2:J0(e)?3:0}function Zs(e,t){return Tu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QD(e,t){return Tu(e)===2?e.get(t):e[t]}function fA(e,t,r){var n=Tu(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function cA(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Z0(e){return oM&&e instanceof Map}function J0(e){return aM&&e instanceof Set}function ga(e){return e.o||e.t}function Q0(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=dA(e);delete t[Bt];for(var r=Js(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function e1(e,t){return t===void 0&&(t=!1),t1(e)||Wo(e)||!Xo(e)||(Tu(e)>1&&(e.set=e.add=e.clear=e.delete=eM),Object.freeze(e),t&&Ba(e,function(r,n){return e1(n,!0)},!0)),e}function eM(){ti(2)}function t1(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ti(e){var t=Xg[e];return t||ti(18,e),t}function tM(e,t){Xg[e]||(Xg[e]=t)}function Hg(){return cf}function om(e,t){t&&(Ti("Patches"),e.u=[],e.s=[],e.v=t)}function Id(e){jg(e),e.p.forEach(rM),e.p=null}function jg(e){e===cf&&(cf=e.l)}function RT(e){return cf={p:[],l:cf,h:e,m:!0,_:0}}function rM(e){var t=e[Bt];t.i===0||t.i===1?t.j():t.O=!0}function am(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||Ti("ES5").S(t,e,n),n?(r[Bt].P&&(Id(t),ti(4)),Xo(e)&&(e=Ad(t,e),t.l||Rd(t,e)),t.u&&Ti("Patches").M(r[Bt].t,e,t.u,t.s)):e=Ad(t,r,[]),Id(t),t.u&&t.v(t.u,t.s),e!==hA?e:void 0}function Ad(e,t,r){if(t1(t))return t;var n=t[Bt];if(!n)return Ba(t,function(o,a){return NT(e,n,t,o,a,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Rd(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Q0(n.k):n.o;Ba(n.i===3?new Set(i):i,function(o,a){return NT(e,n,i,o,a,r)}),Rd(e,i,!1),r&&e.u&&Ti("Patches").R(n,r,e.u,e.s)}return n.o}function NT(e,t,r,n,i,o){if(Wo(i)){var a=Ad(e,i,o&&t&&t.i!==3&&!Zs(t.D,n)?o.concat(n):void 0);if(fA(r,n,a),!Wo(a))return;e.m=!1}if(Xo(i)&&!t1(i)){if(!e.h.F&&e._<1)return;Ad(e,i),t&&t.A.l||Rd(e,i)}}function Rd(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&e1(t,r)}function sm(e,t){var r=e[Bt];return(r?ga(r):e)[t]}function PT(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function wo(e){e.P||(e.P=!0,e.l&&wo(e.l))}function um(e){e.o||(e.o=Q0(e.t))}function Wg(e,t,r){var n=Z0(t)?Ti("MapSet").N(t,r):J0(t)?Ti("MapSet").T(t,r):e.g?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:Hg(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=s,c=hf;a&&(l=[s],c=Ol);var h=Proxy.revocable(l,c),p=h.revoke,v=h.proxy;return s.k=v,s.j=p,v}(t,r):Ti("ES5").J(t,r);return(r?r.A:Hg()).p.push(n),n}function nM(e){return Wo(e)||ti(22,e),function t(r){if(!Xo(r))return r;var n,i=r[Bt],o=Tu(r);if(i){if(!i.P&&(i.i<4||!Ti("ES5").K(i)))return i.t;i.I=!0,n=OT(r,o),i.I=!1}else n=OT(r,o);return Ba(n,function(a,s){i&&QD(i.t,a)===s||fA(n,a,t(s))}),o===3?new Set(n):n}(e)}function OT(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Q0(e)}function iM(){function e(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var l=this[Bt];return hf.get(l,o)},set:function(l){var c=this[Bt];hf.set(c,o,l)}},s}function t(o){for(var a=o.length-1;a>=0;a--){var s=o[a][Bt];if(!s.P)switch(s.i){case 5:n(s)&&wo(s);break;case 4:r(s)&&wo(s)}}}function r(o){for(var a=o.t,s=o.k,l=Js(s),c=l.length-1;c>=0;c--){var h=l[c];if(h!==Bt){var p=a[h];if(p===void 0&&!Zs(a,h))return!0;var v=s[h],_=v&&v[Bt];if(_?_.t!==p:!cA(v,p))return!0}}var y=!!a[Bt];return l.length!==Js(a).length+(y?0:1)}function n(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var i={};tM("ES5",{J:function(o,a){var s=Array.isArray(o),l=function(h,p){if(h){for(var v=Array(p.length),_=0;_<p.length;_++)Object.defineProperty(v,""+_,e(_,!0));return v}var y=dA(p);delete y[Bt];for(var x=Js(y),m=0;m<x.length;m++){var b=x[m];y[b]=e(b,h||!!y[b].enumerable)}return Object.create(Object.getPrototypeOf(p),y)}(s,o),c={i:s?5:4,A:a?a.A:Hg(),P:!1,I:!1,D:{},l:a,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Bt,{value:c,writable:!0}),l},S:function(o,a,s){s?Wo(a)&&a[Bt].A===o&&t(o.p):(o.u&&function l(c){if(c&&typeof c=="object"){var h=c[Bt];if(h){var p=h.t,v=h.k,_=h.D,y=h.i;if(y===4)Ba(v,function(A){A!==Bt&&(p[A]!==void 0||Zs(p,A)?_[A]||l(v[A]):(_[A]=!0,wo(h)))}),Ba(p,function(A){v[A]!==void 0||Zs(v,A)||(_[A]=!1,wo(h))});else if(y===5){if(n(h)&&(wo(h),_.length=!0),v.length<p.length)for(var x=v.length;x<p.length;x++)_[x]=!1;else for(var m=p.length;m<v.length;m++)_[m]=!0;for(var b=Math.min(v.length,p.length),T=0;T<b;T++)v.hasOwnProperty(T)||(_[T]=!0),_[T]===void 0&&l(v[T])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var LT,cf,r1=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",oM=typeof Map!="undefined",aM=typeof Set!="undefined",kT=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",hA=r1?Symbol.for("immer-nothing"):((LT={})["immer-nothing"]=!0,LT),FT=r1?Symbol.for("immer-draftable"):"__$immer_draftable",Bt=r1?Symbol.for("immer-state"):"__$immer_state",sM=""+Object.prototype.constructor,Js=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,dA=Object.getOwnPropertyDescriptors||function(e){var t={};return Js(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Xg={},hf={get:function(e,t){if(t===Bt)return e;var r=ga(e);if(!Zs(r,t))return function(i,o,a){var s,l=PT(o,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Xo(n)?n:n===sm(e.t,t)?(um(e),e.o[t]=Wg(e.A.h,n,e)):n},has:function(e,t){return t in ga(e)},ownKeys:function(e){return Reflect.ownKeys(ga(e))},set:function(e,t,r){var n=PT(ga(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=sm(ga(e),t),o=i==null?void 0:i[Bt];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(cA(r,i)&&(r!==void 0||Zs(e.t,t)))return!0;um(e),wo(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return sm(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,um(e),wo(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=ga(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){ti(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ti(12)}},Ol={};Ba(hf,function(e,t){Ol[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ol.deleteProperty=function(e,t){return Ol.set.call(this,e,t,void 0)},Ol.set=function(e,t,r){return hf.set.call(this,e[0],t,r,e[0])};var uM=function(){function e(r){var n=this;this.g=kT,this.F=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var l=n;return function(x){var m=this;x===void 0&&(x=s);for(var b=arguments.length,T=Array(b>1?b-1:0),A=1;A<b;A++)T[A-1]=arguments[A];return l.produce(x,function(P){var R;return(R=o).call.apply(R,[m,P].concat(T))})}}var c;if(typeof o!="function"&&ti(6),a!==void 0&&typeof a!="function"&&ti(7),Xo(i)){var h=RT(n),p=Wg(n,i,void 0),v=!0;try{c=o(p),v=!1}finally{v?Id(h):jg(h)}return typeof Promise!="undefined"&&c instanceof Promise?c.then(function(x){return om(h,a),am(x,h)},function(x){throw Id(h),x}):(om(h,a),am(c,h))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===hA&&(c=void 0),n.F&&e1(c,!0),a){var _=[],y=[];Ti("Patches").M(i,c,_,y),a(_,y)}return c}ti(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var h=arguments.length,p=Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return n.produceWithPatches(c,function(_){return i.apply(void 0,[_].concat(p))})};var a,s,l=n.produce(i,o,function(c,h){a=c,s=h});return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(c){return[c,a,s]}):[l,a,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Xo(r)||ti(8),Wo(r)&&(r=nM(r));var n=RT(this),i=Wg(this,r,void 0);return i[Bt].C=!0,jg(n),i},t.finishDraft=function(r,n){var i=r&&r[Bt],o=i.A;return om(o,n),am(void 0,o)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!kT&&ti(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var a=Ti("Patches").$;return Wo(r)?a(r,n):this.produce(r,function(s){return a(s,n)})},e}(),yn=new uM,lM=yn.produce;yn.produceWithPatches.bind(yn);yn.setAutoFreeze.bind(yn);yn.setUseProxies.bind(yn);yn.applyPatches.bind(yn);yn.createDraft.bind(yn);yn.finishDraft.bind(yn);var zh=lM;function fM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){fM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var DT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),lm=function(){return Math.random().toString(36).substring(7).split("").join(".")},Nd={INIT:"@@redux/INIT"+lm(),REPLACE:"@@redux/REPLACE"+lm(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lm()}};function cM(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function pA(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(kr(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(kr(1));return r(pA)(e,t)}if(typeof e!="function")throw new Error(kr(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function h(){if(l)throw new Error(kr(3));return o}function p(x){if(typeof x!="function")throw new Error(kr(4));if(l)throw new Error(kr(5));var m=!0;return c(),s.push(x),function(){if(!!m){if(l)throw new Error(kr(6));m=!1,c();var T=s.indexOf(x);s.splice(T,1),a=null}}}function v(x){if(!cM(x))throw new Error(kr(7));if(typeof x.type=="undefined")throw new Error(kr(8));if(l)throw new Error(kr(9));try{l=!0,o=i(o,x)}finally{l=!1}for(var m=a=s,b=0;b<m.length;b++){var T=m[b];T()}return x}function _(x){if(typeof x!="function")throw new Error(kr(10));i=x,v({type:Nd.REPLACE})}function y(){var x,m=p;return x={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(kr(11));function A(){T.next&&T.next(h())}A();var P=m(A);return{unsubscribe:P}}},x[DT]=function(){return this},x}return v({type:Nd.INIT}),n={dispatch:v,subscribe:p,getState:h,replaceReducer:_},n[DT]=y,n}function hM(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Nd.INIT});if(typeof n=="undefined")throw new Error(kr(12));if(typeof r(void 0,{type:Nd.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(kr(13))})}function dM(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),a;try{hM(r)}catch(s){a=s}return function(l,c){if(l===void 0&&(l={}),a)throw a;for(var h=!1,p={},v=0;v<o.length;v++){var _=o[v],y=r[_],x=l[_],m=y(x,c);if(typeof m=="undefined")throw c&&c.type,new Error(kr(14));p[_]=m,h=h||m!==x}return h=h||o.length!==Object.keys(l).length,h?p:l}}function Pd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function pM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(kr(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(l){return l(a)});return o=Pd.apply(void 0,s)(i.dispatch),BT(BT({},i),{},{dispatch:o})}}}function vA(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(a){return function(s){return typeof s=="function"?s(i,o,e):a(s)}}};return t}var _A=vA();_A.withExtraArgument=vA;var MT=_A,vM=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__generator;var Od=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},_M=Object.defineProperty,GT=Object.getOwnPropertySymbols,mM=Object.prototype.hasOwnProperty,gM=Object.prototype.propertyIsEnumerable,$T=function(e,t,r){return t in e?_M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},df=function(e,t){for(var r in t||(t={}))mM.call(t,r)&&$T(e,r,t[r]);if(GT)for(var n=0,i=GT(t);n<i.length;n++){var r=i[n];gM.call(t,r)&&$T(e,r,t[r])}return e},yM=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pd:Pd.apply(null,arguments)};function xM(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var bM=function(e){vM(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Od([void 0],r[0].concat(this)))):new(t.bind.apply(t,Od([void 0],r.concat(this))))},t}(Array);function EM(e){return typeof e=="boolean"}function TM(){return function(t){return wM(t)}}function wM(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var n=new bM;return r&&(EM(r)?n.push(MT):n.push(MT.withExtraArgument(r.extraArgument))),n}var SM=!0;function CM(e){var t=TM(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,a=o===void 0?t():o,s=r.devTools,l=s===void 0?!0:s,c=r.preloadedState,h=c===void 0?void 0:c,p=r.enhancers,v=p===void 0?void 0:p,_;if(typeof i=="function")_=i;else if(xM(i))_=dM(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=a;typeof y=="function"&&(y=y(t));var x=pM.apply(void 0,y),m=Pd;l&&(m=yM(df({trace:!SM},typeof l=="object"&&l)));var b=[x];Array.isArray(v)?b=Od([x],v):typeof v=="function"&&(b=v(b));var T=m.apply(void 0,b);return pA(_,h,T)}function pf(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return df(df({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function mA(e){var t={},r=[],n,i={addCase:function(o,a){var s=typeof o=="string"?o:o.type;if(s in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[s]=a,i},addMatcher:function(o,a){return r.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function IM(e){return typeof e=="function"}function AM(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?mA(t):[t,r,n],o=i[0],a=i[1],s=i[2],l;if(IM(e))l=function(){return zh(e(),function(){})};else{var c=zh(e,function(){});l=function(){return c}}function h(p,v){p===void 0&&(p=l());var _=Od([o[v.type]],a.filter(function(y){var x=y.matcher;return x(v)}).map(function(y){var x=y.reducer;return x}));return _.filter(function(y){return!!y}).length===0&&(_=[s]),_.reduce(function(y,x){if(x)if(Wo(y)){var m=y,b=x(m,v);return typeof b=="undefined"?y:b}else{if(Xo(y))return zh(y,function(T){return x(T,v)});var b=x(y,v);if(typeof b=="undefined"){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return y},p)}return h.getInitialState=l,h}function RM(e,t){return e+"/"+t}function n1(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:zh(e.initialState,function(){}),n=e.reducers||{},i=Object.keys(n),o={},a={},s={};i.forEach(function(h){var p=n[h],v=RM(t,h),_,y;"reducer"in p?(_=p.reducer,y=p.prepare):_=p,o[h]=_,a[v]=_,s[h]=y?pf(v,y):pf(v)});function l(){var h=typeof e.extraReducers=="function"?mA(e.extraReducers):[e.extraReducers],p=h[0],v=p===void 0?{}:p,_=h[1],y=_===void 0?[]:_,x=h[2],m=x===void 0?void 0:x,b=df(df({},v),a);return AM(r,b,y,m)}var c;return{name:t,reducer:function(h,p){return c||(c=l()),c(h,p)},actions:s,caseReducers:o,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var i1="listenerMiddleware";pf(i1+"/add");pf(i1+"/removeAll");pf(i1+"/remove");iM();const gA={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",showText:"",showName:"",command:"",choose:[],vocal:"",bgm:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1},yA=n1({name:"stage",initialState:gA,reducers:{resetStageState:(e,t)=>{Object.assign(e,t.payload)},setStage:(e,t)=>{e[t.payload.key]=t.payload.value},setStageVar:(e,t)=>{e.GameVar[t.payload.key]=t.payload.value}}}),{resetStageState:wu,setStage:Yt,setStageVar:_l}=yA.actions;var NM=yA.reducer,Qi={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,o){function a(c,h){if(!i[c]){if(!n[c]){var p=typeof zc=="function"&&zc;if(!h&&p)return p(c,!0);if(s)return s(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var _=i[c]={exports:{}};n[c][0].call(_.exports,function(y){var x=n[c][1][y];return a(x||y)},_,_.exports,r,n,i,o)}return i[c].exports}for(var s=typeof zc=="function"&&zc,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(r,n,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,s;if(a){var l=0,c=new a(y),h=o.document.createTextNode("");c.observe(h,{characterData:!0}),s=function(){h.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel!="undefined"){var p=new o.MessageChannel;p.port1.onmessage=y,s=function(){p.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?s=function(){var m=o.document.createElement("script");m.onreadystatechange=function(){y(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:s=function(){setTimeout(y,0)};var v,_=[];function y(){v=!0;for(var m,b,T=_.length;T;){for(b=_,_=[],m=-1;++m<T;)b[m]();T=_.length}v=!1}n.exports=x;function x(m){_.push(m)===1&&!v&&s()}}).call(this,typeof Dr!="undefined"?Dr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(r,n,i){var o=r(1);function a(){}var s={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];n.exports=p;function p(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,R!==a&&x(this,R)}p.prototype.catch=function(R){return this.then(null,R)},p.prototype.then=function(R,I){if(typeof R!="function"&&this.state===c||typeof I!="function"&&this.state===l)return this;var U=new this.constructor(a);if(this.state!==h){var j=this.state===c?R:I;_(U,j,this.outcome)}else this.queue.push(new v(U,R,I));return U};function v(R,I,U){this.promise=R,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof U=="function"&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(R){s.resolve(this.promise,R)},v.prototype.otherCallFulfilled=function(R){_(this.promise,this.onFulfilled,R)},v.prototype.callRejected=function(R){s.reject(this.promise,R)},v.prototype.otherCallRejected=function(R){_(this.promise,this.onRejected,R)};function _(R,I,U){o(function(){var j;try{j=I(U)}catch(D){return s.reject(R,D)}j===R?s.reject(R,new TypeError("Cannot resolve promise with itself")):s.resolve(R,j)})}s.resolve=function(R,I){var U=m(y,I);if(U.status==="error")return s.reject(R,U.value);var j=U.value;if(j)x(R,j);else{R.state=c,R.outcome=I;for(var D=-1,z=R.queue.length;++D<z;)R.queue[D].callFulfilled(I)}return R},s.reject=function(R,I){R.state=l,R.outcome=I;for(var U=-1,j=R.queue.length;++U<j;)R.queue[U].callRejected(I);return R};function y(R){var I=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof I=="function")return function(){I.apply(R,arguments)}}function x(R,I){var U=!1;function j(ue){U||(U=!0,s.reject(R,ue))}function D(ue){U||(U=!0,s.resolve(R,ue))}function z(){I(D,j)}var pe=m(z);pe.status==="error"&&j(pe.value)}function m(R,I){var U={};try{U.value=R(I),U.status="success"}catch(j){U.status="error",U.value=j}return U}p.resolve=b;function b(R){return R instanceof this?R:s.resolve(new this(a),R)}p.reject=T;function T(R){var I=new this(a);return s.reject(I,R)}p.all=A;function A(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=R.length,j=!1;if(!U)return this.resolve([]);for(var D=new Array(U),z=0,pe=-1,ue=new this(a);++pe<U;)_e(R[pe],pe);return ue;function _e(qe,le){I.resolve(qe).then(fe,function(Se){j||(j=!0,s.reject(ue,Se))});function fe(Se){D[le]=Se,++z===U&&!j&&(j=!0,s.resolve(ue,D))}}}p.race=P;function P(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=R.length,j=!1;if(!U)return this.resolve([]);for(var D=-1,z=new this(a);++D<U;)pe(R[D]);return z;function pe(ue){I.resolve(ue).then(function(_e){j||(j=!0,s.resolve(z,_e))},function(_e){j||(j=!0,s.reject(z,_e))})}}},{"1":1}],3:[function(r,n,i){(function(o){typeof o.Promise!="function"&&(o.Promise=r(2))}).call(this,typeof Dr!="undefined"?Dr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(r,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};function a(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var l=s();function c(){try{if(!l||!l.open)return!1;var S=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),k=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!S||k)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function h(S,k){S=S||[],k=k||{};try{return new Blob(S,k)}catch(B){if(B.name!=="TypeError")throw B;for(var N=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,M=new N,H=0;H<S.length;H+=1)M.append(S[H]);return M.getBlob(k.type)}}typeof Promise=="undefined"&&r(3);var p=Promise;function v(S,k){k&&S.then(function(N){k(null,N)},function(N){k(N)})}function _(S,k,N){typeof k=="function"&&S.then(k),typeof N=="function"&&S.catch(N)}function y(S){return typeof S!="string"&&(console.warn(S+" used as a key, but it is not a string."),S=String(S)),S}function x(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",b=void 0,T={},A=Object.prototype.toString,P="readonly",R="readwrite";function I(S){for(var k=S.length,N=new ArrayBuffer(k),M=new Uint8Array(N),H=0;H<k;H++)M[H]=S.charCodeAt(H);return N}function U(S){return new p(function(k){var N=S.transaction(m,R),M=h([""]);N.objectStore(m).put(M,"key"),N.onabort=function(H){H.preventDefault(),H.stopPropagation(),k(!1)},N.oncomplete=function(){var H=navigator.userAgent.match(/Chrome\/(\d+)/),B=navigator.userAgent.match(/Edge\//);k(B||!H||parseInt(H[1],10)>=43)}}).catch(function(){return!1})}function j(S){return typeof b=="boolean"?p.resolve(b):U(S).then(function(k){return b=k,b})}function D(S){var k=T[S.name],N={};N.promise=new p(function(M,H){N.resolve=M,N.reject=H}),k.deferredOperations.push(N),k.dbReady?k.dbReady=k.dbReady.then(function(){return N.promise}):k.dbReady=N.promise}function z(S){var k=T[S.name],N=k.deferredOperations.pop();if(N)return N.resolve(),N.promise}function pe(S,k){var N=T[S.name],M=N.deferredOperations.pop();if(M)return M.reject(k),M.promise}function ue(S,k){return new p(function(N,M){if(T[S.name]=T[S.name]||ie(),S.db)if(k)D(S),S.db.close();else return N(S.db);var H=[S.name];k&&H.push(S.version);var B=l.open.apply(l,H);k&&(B.onupgradeneeded=function(Y){var ee=B.result;try{ee.createObjectStore(S.storeName),Y.oldVersion<=1&&ee.createObjectStore(m)}catch(re){if(re.name==="ConstraintError")console.warn('The database "'+S.name+'" has been upgraded from version '+Y.oldVersion+" to version "+Y.newVersion+', but the storage "'+S.storeName+'" already exists.');else throw re}}),B.onerror=function(Y){Y.preventDefault(),M(B.error)},B.onsuccess=function(){var Y=B.result;Y.onversionchange=function(ee){ee.target.close()},N(Y),z(S)}})}function _e(S){return ue(S,!1)}function qe(S){return ue(S,!0)}function le(S,k){if(!S.db)return!0;var N=!S.db.objectStoreNames.contains(S.storeName),M=S.version<S.db.version,H=S.version>S.db.version;if(M&&(S.version!==k&&console.warn('The database "'+S.name+`" can't be downgraded from version `+S.db.version+" to version "+S.version+"."),S.version=S.db.version),H||N){if(N){var B=S.db.version+1;B>S.version&&(S.version=B)}return!0}return!1}function fe(S){return new p(function(k,N){var M=new FileReader;M.onerror=N,M.onloadend=function(H){var B=btoa(H.target.result||"");k({__local_forage_encoded_blob:!0,data:B,type:S.type})},M.readAsBinaryString(S)})}function Se(S){var k=I(atob(S.data));return h([k],{type:S.type})}function Ue(S){return S&&S.__local_forage_encoded_blob}function vt(S){var k=this,N=k._initReady().then(function(){var M=T[k._dbInfo.name];if(M&&M.dbReady)return M.dbReady});return _(N,S,S),N}function J(S){D(S);for(var k=T[S.name],N=k.forages,M=0;M<N.length;M++){var H=N[M];H._dbInfo.db&&(H._dbInfo.db.close(),H._dbInfo.db=null)}return S.db=null,_e(S).then(function(B){return S.db=B,le(S)?qe(S):B}).then(function(B){S.db=k.db=B;for(var Y=0;Y<N.length;Y++)N[Y]._dbInfo.db=B}).catch(function(B){throw pe(S,B),B})}function W(S,k,N,M){M===void 0&&(M=1);try{var H=S.db.transaction(S.storeName,k);N(null,H)}catch(B){if(M>0&&(!S.db||B.name==="InvalidStateError"||B.name==="NotFoundError"))return p.resolve().then(function(){if(!S.db||B.name==="NotFoundError"&&!S.db.objectStoreNames.contains(S.storeName)&&S.version<=S.db.version)return S.db&&(S.version=S.db.version+1),qe(S)}).then(function(){return J(S).then(function(){W(S,k,N,M-1)})}).catch(N);N(B)}}function ie(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ce(S){var k=this,N={db:null};if(S)for(var M in S)N[M]=S[M];var H=T[N.name];H||(H=ie(),T[N.name]=H),H.forages.push(k),k._initReady||(k._initReady=k.ready,k.ready=vt);var B=[];function Y(){return p.resolve()}for(var ee=0;ee<H.forages.length;ee++){var re=H.forages[ee];re!==k&&B.push(re._initReady().catch(Y))}var ne=H.forages.slice(0);return p.all(B).then(function(){return N.db=H.db,_e(N)}).then(function(ae){return N.db=ae,le(N,k._defaultConfig.version)?qe(N):ae}).then(function(ae){N.db=H.db=ae,k._dbInfo=N;for(var xe=0;xe<ne.length;xe++){var We=ne[xe];We!==k&&(We._dbInfo.db=N.db,We._dbInfo.version=N.version)}})}function Ie(S,k){var N=this;S=y(S);var M=new p(function(H,B){N.ready().then(function(){W(N._dbInfo,P,function(Y,ee){if(Y)return B(Y);try{var re=ee.objectStore(N._dbInfo.storeName),ne=re.get(S);ne.onsuccess=function(){var ae=ne.result;ae===void 0&&(ae=null),Ue(ae)&&(ae=Se(ae)),H(ae)},ne.onerror=function(){B(ne.error)}}catch(ae){B(ae)}})}).catch(B)});return v(M,k),M}function Fe(S,k){var N=this,M=new p(function(H,B){N.ready().then(function(){W(N._dbInfo,P,function(Y,ee){if(Y)return B(Y);try{var re=ee.objectStore(N._dbInfo.storeName),ne=re.openCursor(),ae=1;ne.onsuccess=function(){var xe=ne.result;if(xe){var We=xe.value;Ue(We)&&(We=Se(We));var it=S(We,xe.key,ae++);it!==void 0?H(it):xe.continue()}else H()},ne.onerror=function(){B(ne.error)}}catch(xe){B(xe)}})}).catch(B)});return v(M,k),M}function Me(S,k,N){var M=this;S=y(S);var H=new p(function(B,Y){var ee;M.ready().then(function(){return ee=M._dbInfo,A.call(k)==="[object Blob]"?j(ee.db).then(function(re){return re?k:fe(k)}):k}).then(function(re){W(M._dbInfo,R,function(ne,ae){if(ne)return Y(ne);try{var xe=ae.objectStore(M._dbInfo.storeName);re===null&&(re=void 0);var We=xe.put(re,S);ae.oncomplete=function(){re===void 0&&(re=null),B(re)},ae.onabort=ae.onerror=function(){var it=We.error?We.error:We.transaction.error;Y(it)}}catch(it){Y(it)}})}).catch(Y)});return v(H,N),H}function ut(S,k){var N=this;S=y(S);var M=new p(function(H,B){N.ready().then(function(){W(N._dbInfo,R,function(Y,ee){if(Y)return B(Y);try{var re=ee.objectStore(N._dbInfo.storeName),ne=re.delete(S);ee.oncomplete=function(){H()},ee.onerror=function(){B(ne.error)},ee.onabort=function(){var ae=ne.error?ne.error:ne.transaction.error;B(ae)}}catch(ae){B(ae)}})}).catch(B)});return v(M,k),M}function lt(S){var k=this,N=new p(function(M,H){k.ready().then(function(){W(k._dbInfo,R,function(B,Y){if(B)return H(B);try{var ee=Y.objectStore(k._dbInfo.storeName),re=ee.clear();Y.oncomplete=function(){M()},Y.onabort=Y.onerror=function(){var ne=re.error?re.error:re.transaction.error;H(ne)}}catch(ne){H(ne)}})}).catch(H)});return v(N,S),N}function Ke(S){var k=this,N=new p(function(M,H){k.ready().then(function(){W(k._dbInfo,P,function(B,Y){if(B)return H(B);try{var ee=Y.objectStore(k._dbInfo.storeName),re=ee.count();re.onsuccess=function(){M(re.result)},re.onerror=function(){H(re.error)}}catch(ne){H(ne)}})}).catch(H)});return v(N,S),N}function It(S,k){var N=this,M=new p(function(H,B){if(S<0){H(null);return}N.ready().then(function(){W(N._dbInfo,P,function(Y,ee){if(Y)return B(Y);try{var re=ee.objectStore(N._dbInfo.storeName),ne=!1,ae=re.openKeyCursor();ae.onsuccess=function(){var xe=ae.result;if(!xe){H(null);return}S===0||ne?H(xe.key):(ne=!0,xe.advance(S))},ae.onerror=function(){B(ae.error)}}catch(xe){B(xe)}})}).catch(B)});return v(M,k),M}function Je(S){var k=this,N=new p(function(M,H){k.ready().then(function(){W(k._dbInfo,P,function(B,Y){if(B)return H(B);try{var ee=Y.objectStore(k._dbInfo.storeName),re=ee.openKeyCursor(),ne=[];re.onsuccess=function(){var ae=re.result;if(!ae){M(ne);return}ne.push(ae.key),ae.continue()},re.onerror=function(){H(re.error)}}catch(ae){H(ae)}})}).catch(H)});return v(N,S),N}function ft(S,k){k=x.apply(this,arguments);var N=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||N.name,S.storeName=S.storeName||N.storeName);var M=this,H;if(!S.name)H=p.reject("Invalid arguments");else{var B=S.name===N.name&&M._dbInfo.db,Y=B?p.resolve(M._dbInfo.db):_e(S).then(function(ee){var re=T[S.name],ne=re.forages;re.db=ee;for(var ae=0;ae<ne.length;ae++)ne[ae]._dbInfo.db=ee;return ee});S.storeName?H=Y.then(function(ee){if(!!ee.objectStoreNames.contains(S.storeName)){var re=ee.version+1;D(S);var ne=T[S.name],ae=ne.forages;ee.close();for(var xe=0;xe<ae.length;xe++){var We=ae[xe];We._dbInfo.db=null,We._dbInfo.version=re}var it=new p(function(ot,Ft){var gt=l.open(S.name,re);gt.onerror=function(jr){var lo=gt.result;lo.close(),Ft(jr)},gt.onupgradeneeded=function(){var jr=gt.result;jr.deleteObjectStore(S.storeName)},gt.onsuccess=function(){var jr=gt.result;jr.close(),ot(jr)}});return it.then(function(ot){ne.db=ot;for(var Ft=0;Ft<ae.length;Ft++){var gt=ae[Ft];gt._dbInfo.db=ot,z(gt._dbInfo)}}).catch(function(ot){throw(pe(S,ot)||p.resolve()).catch(function(){}),ot})}}):H=Y.then(function(ee){D(S);var re=T[S.name],ne=re.forages;ee.close();for(var ae=0;ae<ne.length;ae++){var xe=ne[ae];xe._dbInfo.db=null}var We=new p(function(it,ot){var Ft=l.deleteDatabase(S.name);Ft.onerror=function(){var gt=Ft.result;gt&&gt.close(),ot(Ft.error)},Ft.onblocked=function(){console.warn('dropInstance blocked for database "'+S.name+'" until all open connections are closed')},Ft.onsuccess=function(){var gt=Ft.result;gt&&gt.close(),it(gt)}});return We.then(function(it){re.db=it;for(var ot=0;ot<ne.length;ot++){var Ft=ne[ot];z(Ft._dbInfo)}}).catch(function(it){throw(pe(S,it)||p.resolve()).catch(function(){}),it})})}return v(H,k),H}var $e={_driver:"asyncStorage",_initStorage:ce,_support:c(),iterate:Fe,getItem:Ie,setItem:Me,removeItem:ut,clear:lt,length:Ke,key:It,keys:Je,dropInstance:ft};function ht(){return typeof openDatabase=="function"}var nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ye="~~local_forage_type~",Gt=/^~~local_forage_type~([^~]+)~/,Kr="__lfsc__:",si=Kr.length,wn="arbf",hr="blob",jn="si08",ui="ui08",zf="uic8",ao="si16",Yf="si32",so="ur16",Ni="ui32",Ya="fl32",qa="fl64",Ka=si+wn.length,Za=Object.prototype.toString;function Ja(S){var k=S.length*.75,N=S.length,M,H=0,B,Y,ee,re;S[S.length-1]==="="&&(k--,S[S.length-2]==="="&&k--);var ne=new ArrayBuffer(k),ae=new Uint8Array(ne);for(M=0;M<N;M+=4)B=nt.indexOf(S[M]),Y=nt.indexOf(S[M+1]),ee=nt.indexOf(S[M+2]),re=nt.indexOf(S[M+3]),ae[H++]=B<<2|Y>>4,ae[H++]=(Y&15)<<4|ee>>2,ae[H++]=(ee&3)<<6|re&63;return ne}function ta(S){var k=new Uint8Array(S),N="",M;for(M=0;M<k.length;M+=3)N+=nt[k[M]>>2],N+=nt[(k[M]&3)<<4|k[M+1]>>4],N+=nt[(k[M+1]&15)<<2|k[M+2]>>6],N+=nt[k[M+2]&63];return k.length%3===2?N=N.substring(0,N.length-1)+"=":k.length%3===1&&(N=N.substring(0,N.length-2)+"=="),N}function Bu(S,k){var N="";if(S&&(N=Za.call(S)),S&&(N==="[object ArrayBuffer]"||S.buffer&&Za.call(S.buffer)==="[object ArrayBuffer]")){var M,H=Kr;S instanceof ArrayBuffer?(M=S,H+=wn):(M=S.buffer,N==="[object Int8Array]"?H+=jn:N==="[object Uint8Array]"?H+=ui:N==="[object Uint8ClampedArray]"?H+=zf:N==="[object Int16Array]"?H+=ao:N==="[object Uint16Array]"?H+=so:N==="[object Int32Array]"?H+=Yf:N==="[object Uint32Array]"?H+=Ni:N==="[object Float32Array]"?H+=Ya:N==="[object Float64Array]"?H+=qa:k(new Error("Failed to get type for BinaryArray"))),k(H+ta(M))}else if(N==="[object Blob]"){var B=new FileReader;B.onload=function(){var Y=Ye+S.type+"~"+ta(this.result);k(Kr+hr+Y)},B.readAsArrayBuffer(S)}else try{k(JSON.stringify(S))}catch(Y){console.error("Couldn't convert value into a JSON string: ",S),k(null,Y)}}function Du(S){if(S.substring(0,si)!==Kr)return JSON.parse(S);var k=S.substring(Ka),N=S.substring(si,Ka),M;if(N===hr&&Gt.test(k)){var H=k.match(Gt);M=H[1],k=k.substring(H[0].length)}var B=Ja(k);switch(N){case wn:return B;case hr:return h([B],{type:M});case jn:return new Int8Array(B);case ui:return new Uint8Array(B);case zf:return new Uint8ClampedArray(B);case ao:return new Int16Array(B);case so:return new Uint16Array(B);case Yf:return new Int32Array(B);case Ni:return new Uint32Array(B);case Ya:return new Float32Array(B);case qa:return new Float64Array(B);default:throw new Error("Unkown type: "+N)}}var ra={serialize:Bu,deserialize:Du,stringToBuffer:Ja,bufferToString:ta};function qf(S,k,N,M){S.executeSql("CREATE TABLE IF NOT EXISTS "+k.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],N,M)}function tv(S){var k=this,N={db:null};if(S)for(var M in S)N[M]=typeof S[M]!="string"?S[M].toString():S[M];var H=new p(function(B,Y){try{N.db=openDatabase(N.name,String(N.version),N.description,N.size)}catch(ee){return Y(ee)}N.db.transaction(function(ee){qf(ee,N,function(){k._dbInfo=N,B()},function(re,ne){Y(ne)})},Y)});return N.serializer=ra,H}function li(S,k,N,M,H,B){S.executeSql(N,M,H,function(Y,ee){ee.code===ee.SYNTAX_ERR?Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[k.storeName],function(re,ne){ne.rows.length?B(re,ee):qf(re,k,function(){re.executeSql(N,M,H,B)},B)},B):B(Y,ee)},B)}function Kf(S,k){var N=this;S=y(S);var M=new p(function(H,B){N.ready().then(function(){var Y=N._dbInfo;Y.db.transaction(function(ee){li(ee,Y,"SELECT * FROM "+Y.storeName+" WHERE key = ? LIMIT 1",[S],function(re,ne){var ae=ne.rows.length?ne.rows.item(0).value:null;ae&&(ae=Y.serializer.deserialize(ae)),H(ae)},function(re,ne){B(ne)})})}).catch(B)});return v(M,k),M}function Zf(S,k){var N=this,M=new p(function(H,B){N.ready().then(function(){var Y=N._dbInfo;Y.db.transaction(function(ee){li(ee,Y,"SELECT * FROM "+Y.storeName,[],function(re,ne){for(var ae=ne.rows,xe=ae.length,We=0;We<xe;We++){var it=ae.item(We),ot=it.value;if(ot&&(ot=Y.serializer.deserialize(ot)),ot=S(ot,it.key,We+1),ot!==void 0){H(ot);return}}H()},function(re,ne){B(ne)})})}).catch(B)});return v(M,k),M}function Jf(S,k,N,M){var H=this;S=y(S);var B=new p(function(Y,ee){H.ready().then(function(){k===void 0&&(k=null);var re=k,ne=H._dbInfo;ne.serializer.serialize(k,function(ae,xe){xe?ee(xe):ne.db.transaction(function(We){li(We,ne,"INSERT OR REPLACE INTO "+ne.storeName+" (key, value) VALUES (?, ?)",[S,ae],function(){Y(re)},function(it,ot){ee(ot)})},function(We){if(We.code===We.QUOTA_ERR){if(M>0){Y(Jf.apply(H,[S,re,N,M-1]));return}ee(We)}})})}).catch(ee)});return v(B,N),B}function rv(S,k,N){return Jf.apply(this,[S,k,N,1])}function nv(S,k){var N=this;S=y(S);var M=new p(function(H,B){N.ready().then(function(){var Y=N._dbInfo;Y.db.transaction(function(ee){li(ee,Y,"DELETE FROM "+Y.storeName+" WHERE key = ?",[S],function(){H()},function(re,ne){B(ne)})})}).catch(B)});return v(M,k),M}function iv(S){var k=this,N=new p(function(M,H){k.ready().then(function(){var B=k._dbInfo;B.db.transaction(function(Y){li(Y,B,"DELETE FROM "+B.storeName,[],function(){M()},function(ee,re){H(re)})})}).catch(H)});return v(N,S),N}function Qf(S){var k=this,N=new p(function(M,H){k.ready().then(function(){var B=k._dbInfo;B.db.transaction(function(Y){li(Y,B,"SELECT COUNT(key) as c FROM "+B.storeName,[],function(ee,re){var ne=re.rows.item(0).c;M(ne)},function(ee,re){H(re)})})}).catch(H)});return v(N,S),N}function ov(S,k){var N=this,M=new p(function(H,B){N.ready().then(function(){var Y=N._dbInfo;Y.db.transaction(function(ee){li(ee,Y,"SELECT key FROM "+Y.storeName+" WHERE id = ? LIMIT 1",[S+1],function(re,ne){var ae=ne.rows.length?ne.rows.item(0).key:null;H(ae)},function(re,ne){B(ne)})})}).catch(B)});return v(M,k),M}function av(S){var k=this,N=new p(function(M,H){k.ready().then(function(){var B=k._dbInfo;B.db.transaction(function(Y){li(Y,B,"SELECT key FROM "+B.storeName,[],function(ee,re){for(var ne=[],ae=0;ae<re.rows.length;ae++)ne.push(re.rows.item(ae).key);M(ne)},function(ee,re){H(re)})})}).catch(H)});return v(N,S),N}function sv(S){return new p(function(k,N){S.transaction(function(M){M.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(H,B){for(var Y=[],ee=0;ee<B.rows.length;ee++)Y.push(B.rows.item(ee).name);k({db:S,storeNames:Y})},function(H,B){N(B)})},function(M){N(M)})})}function Mu(S,k){k=x.apply(this,arguments);var N=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||N.name,S.storeName=S.storeName||N.storeName);var M=this,H;return S.name?H=new p(function(B){var Y;S.name===N.name?Y=M._dbInfo.db:Y=openDatabase(S.name,"","",0),S.storeName?B({db:Y,storeNames:[S.storeName]}):B(sv(Y))}).then(function(B){return new p(function(Y,ee){B.db.transaction(function(re){function ne(it){return new p(function(ot,Ft){re.executeSql("DROP TABLE IF EXISTS "+it,[],function(){ot()},function(gt,jr){Ft(jr)})})}for(var ae=[],xe=0,We=B.storeNames.length;xe<We;xe++)ae.push(ne(B.storeNames[xe]));p.all(ae).then(function(){Y()}).catch(function(it){ee(it)})},function(re){ee(re)})})}):H=p.reject("Invalid arguments"),v(H,k),H}var uv={_driver:"webSQLStorage",_initStorage:tv,_support:ht(),iterate:Zf,getItem:Kf,setItem:rv,removeItem:nv,clear:iv,length:Qf,key:ov,keys:av,dropInstance:Mu};function Gu(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ec(S,k){var N=S.name+"/";return S.storeName!==k.storeName&&(N+=S.storeName+"/"),N}function lv(){var S="_localforage_support_test";try{return localStorage.setItem(S,!0),localStorage.removeItem(S),!1}catch{return!0}}function fv(){return!lv()||localStorage.length>0}function cv(S){var k=this,N={};if(S)for(var M in S)N[M]=S[M];return N.keyPrefix=ec(S,k._defaultConfig),fv()?(k._dbInfo=N,N.serializer=ra,p.resolve()):p.reject()}function hv(S){var k=this,N=k.ready().then(function(){for(var M=k._dbInfo.keyPrefix,H=localStorage.length-1;H>=0;H--){var B=localStorage.key(H);B.indexOf(M)===0&&localStorage.removeItem(B)}});return v(N,S),N}function dv(S,k){var N=this;S=y(S);var M=N.ready().then(function(){var H=N._dbInfo,B=localStorage.getItem(H.keyPrefix+S);return B&&(B=H.serializer.deserialize(B)),B});return v(M,k),M}function pv(S,k){var N=this,M=N.ready().then(function(){for(var H=N._dbInfo,B=H.keyPrefix,Y=B.length,ee=localStorage.length,re=1,ne=0;ne<ee;ne++){var ae=localStorage.key(ne);if(ae.indexOf(B)===0){var xe=localStorage.getItem(ae);if(xe&&(xe=H.serializer.deserialize(xe)),xe=S(xe,ae.substring(Y),re++),xe!==void 0)return xe}}});return v(M,k),M}function vv(S,k){var N=this,M=N.ready().then(function(){var H=N._dbInfo,B;try{B=localStorage.key(S)}catch{B=null}return B&&(B=B.substring(H.keyPrefix.length)),B});return v(M,k),M}function tc(S){var k=this,N=k.ready().then(function(){for(var M=k._dbInfo,H=localStorage.length,B=[],Y=0;Y<H;Y++){var ee=localStorage.key(Y);ee.indexOf(M.keyPrefix)===0&&B.push(ee.substring(M.keyPrefix.length))}return B});return v(N,S),N}function _v(S){var k=this,N=k.keys().then(function(M){return M.length});return v(N,S),N}function mv(S,k){var N=this;S=y(S);var M=N.ready().then(function(){var H=N._dbInfo;localStorage.removeItem(H.keyPrefix+S)});return v(M,k),M}function gv(S,k,N){var M=this;S=y(S);var H=M.ready().then(function(){k===void 0&&(k=null);var B=k;return new p(function(Y,ee){var re=M._dbInfo;re.serializer.serialize(k,function(ne,ae){if(ae)ee(ae);else try{localStorage.setItem(re.keyPrefix+S,ne),Y(B)}catch(xe){(xe.name==="QuotaExceededError"||xe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ee(xe),ee(xe)}})})});return v(H,N),H}function yv(S,k){if(k=x.apply(this,arguments),S=typeof S!="function"&&S||{},!S.name){var N=this.config();S.name=S.name||N.name,S.storeName=S.storeName||N.storeName}var M=this,H;return S.name?H=new p(function(B){S.storeName?B(ec(S,M._defaultConfig)):B(S.name+"/")}).then(function(B){for(var Y=localStorage.length-1;Y>=0;Y--){var ee=localStorage.key(Y);ee.indexOf(B)===0&&localStorage.removeItem(ee)}}):H=p.reject("Invalid arguments"),v(H,k),H}var xv={_driver:"localStorageWrapper",_initStorage:cv,_support:Gu(),iterate:pv,getItem:dv,setItem:gv,removeItem:mv,clear:hv,length:_v,key:vv,keys:tc,dropInstance:yv},bv=function(k,N){return k===N||typeof k=="number"&&typeof N=="number"&&isNaN(k)&&isNaN(N)},Qa=function(k,N){for(var M=k.length,H=0;H<M;){if(bv(k[H],N))return!0;H++}return!1},rc=Array.isArray||function(S){return Object.prototype.toString.call(S)==="[object Array]"},fi={},nc={},uo={INDEXEDDB:$e,WEBSQL:uv,LOCALSTORAGE:xv},Ev=[uo.INDEXEDDB._driver,uo.WEBSQL._driver,uo.LOCALSTORAGE._driver],na=["dropInstance"],es=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(na),ic={description:"",driver:Ev.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Tv(S,k){S[k]=function(){var N=arguments;return S.ready().then(function(){return S[k].apply(S,N)})}}function $u(){for(var S=1;S<arguments.length;S++){var k=arguments[S];if(k)for(var N in k)k.hasOwnProperty(N)&&(rc(k[N])?arguments[0][N]=k[N].slice():arguments[0][N]=k[N])}return arguments[0]}var wv=function(){function S(k){a(this,S);for(var N in uo)if(uo.hasOwnProperty(N)){var M=uo[N],H=M._driver;this[N]=H,fi[H]||this.defineDriver(M)}this._defaultConfig=$u({},ic),this._config=$u({},this._defaultConfig,k),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return S.prototype.config=function(N){if((typeof N=="undefined"?"undefined":o(N))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var M in N){if(M==="storeName"&&(N[M]=N[M].replace(/\W/g,"_")),M==="version"&&typeof N[M]!="number")return new Error("Database version must be a number.");this._config[M]=N[M]}return"driver"in N&&N.driver?this.setDriver(this._config.driver):!0}else return typeof N=="string"?this._config[N]:this._config},S.prototype.defineDriver=function(N,M,H){var B=new p(function(Y,ee){try{var re=N._driver,ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!N._driver){ee(ne);return}for(var ae=es.concat("_initStorage"),xe=0,We=ae.length;xe<We;xe++){var it=ae[xe],ot=!Qa(na,it);if((ot||N[it])&&typeof N[it]!="function"){ee(ne);return}}var Ft=function(){for(var lo=function(ac){return function(){var Iv=new Error("Method "+ac+" is not implemented by the current driver"),sc=p.reject(Iv);return v(sc,arguments[arguments.length-1]),sc}},Hu=0,oc=na.length;Hu<oc;Hu++){var ts=na[Hu];N[ts]||(N[ts]=lo(ts))}};Ft();var gt=function(lo){fi[re]&&console.info("Redefining LocalForage driver: "+re),fi[re]=N,nc[re]=lo,Y()};"_support"in N?N._support&&typeof N._support=="function"?N._support().then(gt,ee):gt(!!N._support):gt(!0)}catch(jr){ee(jr)}});return _(B,M,H),B},S.prototype.driver=function(){return this._driver||null},S.prototype.getDriver=function(N,M,H){var B=fi[N]?p.resolve(fi[N]):p.reject(new Error("Driver not found."));return _(B,M,H),B},S.prototype.getSerializer=function(N){var M=p.resolve(ra);return _(M,N),M},S.prototype.ready=function(N){var M=this,H=M._driverSet.then(function(){return M._ready===null&&(M._ready=M._initDriver()),M._ready});return _(H,N,N),H},S.prototype.setDriver=function(N,M,H){var B=this;rc(N)||(N=[N]);var Y=this._getSupportedDrivers(N);function ee(){B._config.driver=B.driver()}function re(xe){return B._extend(xe),ee(),B._ready=B._initStorage(B._config),B._ready}function ne(xe){return function(){var We=0;function it(){for(;We<xe.length;){var ot=xe[We];return We++,B._dbInfo=null,B._ready=null,B.getDriver(ot).then(re).catch(it)}ee();var Ft=new Error("No available storage method found.");return B._driverSet=p.reject(Ft),B._driverSet}return it()}}var ae=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=ae.then(function(){var xe=Y[0];return B._dbInfo=null,B._ready=null,B.getDriver(xe).then(function(We){B._driver=We._driver,ee(),B._wrapLibraryMethodsWithReady(),B._initDriver=ne(Y)})}).catch(function(){ee();var xe=new Error("No available storage method found.");return B._driverSet=p.reject(xe),B._driverSet}),_(this._driverSet,M,H),this._driverSet},S.prototype.supports=function(N){return!!nc[N]},S.prototype._extend=function(N){$u(this,N)},S.prototype._getSupportedDrivers=function(N){for(var M=[],H=0,B=N.length;H<B;H++){var Y=N[H];this.supports(Y)&&M.push(Y)}return M},S.prototype._wrapLibraryMethodsWithReady=function(){for(var N=0,M=es.length;N<M;N++)Tv(this,es[N])},S.prototype.createInstance=function(N){return new S(N)},S}(),Sv=new wv;n.exports=Sv},{"3":3}]},{},[4])(4)})})(Qi);var up=Qi.exports;const Nr={gameName:"",gameKey:"",prevBgm:""},Su=[],HT=[];var o1={exports:{}},xA=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},PM=xA,Xa=Object.prototype.toString;function a1(e){return Xa.call(e)==="[object Array]"}function Vg(e){return typeof e=="undefined"}function OM(e){return e!==null&&!Vg(e)&&e.constructor!==null&&!Vg(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function LM(e){return Xa.call(e)==="[object ArrayBuffer]"}function kM(e){return typeof FormData!="undefined"&&e instanceof FormData}function FM(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function UM(e){return typeof e=="string"}function BM(e){return typeof e=="number"}function bA(e){return e!==null&&typeof e=="object"}function Yh(e){if(Xa.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function DM(e){return Xa.call(e)==="[object Date]"}function MM(e){return Xa.call(e)==="[object File]"}function GM(e){return Xa.call(e)==="[object Blob]"}function EA(e){return Xa.call(e)==="[object Function]"}function $M(e){return bA(e)&&EA(e.pipe)}function HM(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function jM(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function WM(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function s1(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),a1(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function zg(){var e={};function t(i,o){Yh(e[o])&&Yh(i)?e[o]=zg(e[o],i):Yh(i)?e[o]=zg({},i):a1(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)s1(arguments[r],t);return e}function XM(e,t,r){return s1(t,function(i,o){r&&typeof i=="function"?e[o]=PM(i,r):e[o]=i}),e}function VM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var En={isArray:a1,isArrayBuffer:LM,isBuffer:OM,isFormData:kM,isArrayBufferView:FM,isString:UM,isNumber:BM,isObject:bA,isPlainObject:Yh,isUndefined:Vg,isDate:DM,isFile:MM,isBlob:GM,isFunction:EA,isStream:$M,isURLSearchParams:HM,isStandardBrowserEnv:WM,forEach:s1,merge:zg,extend:XM,trim:jM,stripBOM:VM},_s=En;function jT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var TA=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(_s.isURLSearchParams(r))i=r.toString();else{var o=[];_s.forEach(r,function(l,c){l===null||typeof l=="undefined"||(_s.isArray(l)?c=c+"[]":l=[l],_s.forEach(l,function(p){_s.isDate(p)?p=p.toISOString():_s.isObject(p)&&(p=JSON.stringify(p)),o.push(jT(c)+"="+jT(p))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},zM=En;function lp(){this.handlers=[]}lp.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};lp.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};lp.prototype.forEach=function(t){zM.forEach(this.handlers,function(n){n!==null&&t(n)})};var YM=lp,qM=En,KM=function(t,r){qM.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},wA=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},ZM=wA,SA=function(t,r,n,i,o){var a=new Error(t);return ZM(a,r,n,i,o)},JM=SA,QM=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(JM("Request failed with status code "+n.status,n.config,null,n.request,n))},ah=En,e6=ah.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var l=[];l.push(r+"="+encodeURIComponent(n)),ah.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),ah.isString(o)&&l.push("path="+o),ah.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),t6=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},r6=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},n6=t6,i6=r6,o6=function(t,r){return t&&!n6(r)?i6(t,r):r},fm=En,a6=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],s6=function(t){var r={},n,i,o;return t&&fm.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=fm.trim(s.substr(0,o)).toLowerCase(),i=fm.trim(s.substr(o+1)),n){if(r[n]&&a6.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},WT=En,u6=WT.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=WT.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function u1(e){this.message=e}u1.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};u1.prototype.__CANCEL__=!0;var fp=u1,sh=En,l6=QM,f6=e6,c6=TA,h6=o6,d6=s6,p6=u6,cm=SA,v6=hp,_6=fp,XT=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}sh.isFormData(o)&&delete a["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+v)}var _=h6(t.baseURL,t.url);h.open(t.method.toUpperCase(),c6(_,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function y(){if(!!h){var m="getAllResponseHeaders"in h?d6(h.getAllResponseHeaders()):null,b=!s||s==="text"||s==="json"?h.responseText:h.response,T={data:b,status:h.status,statusText:h.statusText,headers:m,config:t,request:h};l6(function(P){n(P),c()},function(P){i(P),c()},T),h=null}}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){!h||(i(cm("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){i(cm("Network Error",t,null,h)),h=null},h.ontimeout=function(){var b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",T=t.transitional||v6.transitional;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),i(cm(b,t,T.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},sh.isStandardBrowserEnv()){var x=(t.withCredentials||p6(_))&&t.xsrfCookieName?f6.read(t.xsrfCookieName):void 0;x&&(a[t.xsrfHeaderName]=x)}"setRequestHeader"in h&&sh.forEach(a,function(b,T){typeof o=="undefined"&&T.toLowerCase()==="content-type"?delete a[T]:h.setRequestHeader(T,b)}),sh.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),s&&s!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(l=function(m){!h||(i(!m||m&&m.type?new _6("canceled"):m),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l))),o||(o=null),h.send(o)})},wr=En,VT=KM,m6=wA,g6={"Content-Type":"application/x-www-form-urlencoded"};function zT(e,t){!wr.isUndefined(e)&&wr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function y6(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=XT),e}function x6(e,t,r){if(wr.isString(e))try{return(t||JSON.parse)(e),wr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var cp={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:y6(),transformRequest:[function(t,r){return VT(r,"Accept"),VT(r,"Content-Type"),wr.isFormData(t)||wr.isArrayBuffer(t)||wr.isBuffer(t)||wr.isStream(t)||wr.isFile(t)||wr.isBlob(t)?t:wr.isArrayBufferView(t)?t.buffer:wr.isURLSearchParams(t)?(zT(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):wr.isObject(t)||r&&r["Content-Type"]==="application/json"?(zT(r,"application/json"),x6(t)):t}],transformResponse:[function(t){var r=this.transitional||cp.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&wr.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?m6(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};wr.forEach(["delete","get","head"],function(t){cp.headers[t]={}});wr.forEach(["post","put","patch"],function(t){cp.headers[t]=wr.merge(g6)});var hp=cp,b6=En,E6=hp,T6=function(t,r,n){var i=this||E6;return b6.forEach(n,function(a){t=a.call(i,t,r)}),t},CA=function(t){return!!(t&&t.__CANCEL__)},YT=En,hm=T6,w6=CA,S6=hp,C6=fp;function dm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new C6("canceled")}var I6=function(t){dm(t),t.headers=t.headers||{},t.data=hm.call(t,t.data,t.headers,t.transformRequest),t.headers=YT.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),YT.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||S6.adapter;return r(t).then(function(i){return dm(t),i.data=hm.call(t,i.data,i.headers,t.transformResponse),i},function(i){return w6(i)||(dm(t),i&&i.response&&(i.response.data=hm.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},vn=En,IA=function(t,r){r=r||{};var n={};function i(h,p){return vn.isPlainObject(h)&&vn.isPlainObject(p)?vn.merge(h,p):vn.isPlainObject(p)?vn.merge({},p):vn.isArray(p)?p.slice():p}function o(h){if(vn.isUndefined(r[h])){if(!vn.isUndefined(t[h]))return i(void 0,t[h])}else return i(t[h],r[h])}function a(h){if(!vn.isUndefined(r[h]))return i(void 0,r[h])}function s(h){if(vn.isUndefined(r[h])){if(!vn.isUndefined(t[h]))return i(void 0,t[h])}else return i(void 0,r[h])}function l(h){if(h in r)return i(t[h],r[h]);if(h in t)return i(void 0,t[h])}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return vn.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var v=c[p]||o,_=v(p);vn.isUndefined(_)&&v!==l||(n[p]=_)}),n},AA={version:"0.24.0"},A6=AA.version,l1={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){l1[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var qT={};l1.transitional=function(t,r,n){function i(o,a){return"[Axios v"+A6+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!qT[a]&&(qT[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};function R6(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],l=s===void 0||a(s,o,e);if(l!==!0)throw new TypeError("option "+o+" must be "+l);continue}if(r!==!0)throw Error("Unknown option "+o)}}var N6={assertOptions:R6,validators:l1},RA=En,P6=TA,KT=YM,ZT=I6,dp=IA,NA=N6,ms=NA.validators;function Uf(e){this.defaults=e,this.interceptors={request:new KT,response:new KT}}Uf.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=dp(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&NA.assertOptions(r,{silentJSONParsing:ms.transitional(ms.boolean),forcedJSONParsing:ms.transitional(ms.boolean),clarifyTimeoutError:ms.transitional(ms.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(i=i&&v.synchronous,n.unshift(v.fulfilled,v.rejected))});var o=[];this.interceptors.response.forEach(function(v){o.push(v.fulfilled,v.rejected)});var a;if(!i){var s=[ZT,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var l=t;n.length;){var c=n.shift(),h=n.shift();try{l=c(l)}catch(p){h(p);break}}try{a=ZT(l)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Uf.prototype.getUri=function(t){return t=dp(this.defaults,t),P6(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};RA.forEach(["delete","get","head","options"],function(t){Uf.prototype[t]=function(r,n){return this.request(dp(n||{},{method:t,url:r,data:(n||{}).data}))}});RA.forEach(["post","put","patch"],function(t){Uf.prototype[t]=function(r,n,i){return this.request(dp(i||{},{method:t,url:r,data:n}))}});var O6=Uf,L6=fp;function lu(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new L6(i),t(r.reason))})}lu.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};lu.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};lu.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};lu.source=function(){var t,r=new lu(function(i){t=i});return{token:r,cancel:t}};var k6=lu,F6=function(t){return function(n){return t.apply(null,n)}},U6=function(t){return typeof t=="object"&&t.isAxiosError===!0},JT=En,B6=xA,qh=O6,D6=IA,M6=hp;function PA(e){var t=new qh(e),r=B6(qh.prototype.request,t);return JT.extend(r,qh.prototype,t),JT.extend(r,t),r.create=function(i){return PA(D6(e,i))},r}var Ci=PA(M6);Ci.Axios=qh;Ci.Cancel=fp;Ci.CancelToken=k6;Ci.isCancel=CA;Ci.VERSION=AA.version;Ci.all=function(t){return Promise.all(t)};Ci.spread=F6;Ci.isAxiosError=U6;o1.exports=Ci;o1.exports.default=Ci;var G6=o1.exports;const $6=G6;class H6{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(t,r){this.url=t,r&&(this.mongoUrl=r)}setUpload(t){this.isUpload=t}setCollection(t){this.collection=t}setLevel(t){this.level=t.toUpperCase()}upload(t,r,n,i){typeof t!="string"&&this.error("log\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E0D\u662F\u5B57\u7B26\u4E32",void 0,!1);let o={log:{info:t,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const a=this;this.url!==""&&this.isUpload&&$6.post(this.url+"/log",o).then(s=>{a.trace("Logged to cloud.",void 0,!1)}).catch(s=>{a.error("Logging to cloud failed!",void 0,!1)})}clog(t,r,n,i,o,a){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+o.toLocaleString()+"]","",t),r&&(console.log(r),console.log("------------------------"))),a===void 0&&this.upload(t,r,n,o),a!==void 0&&a&&this.upload(t,r,n,o)}trace(t,r,n){const i=new Date,o="TRACE",a="#005CAF";this.clog(t,r,o,a,i,n)}debug(t,r,n){const i=new Date,o="DEBUG",a="#0089A7";this.clog(t,r,o,a,i,n)}info(t,r,n){const i=new Date,o="INFO",a="#00896C";this.clog(t,r,o,a,i,n)}warn(t,r,n){const i=new Date,o="WARN",a="#DDA52D";this.clog(t,r,o,a,i,n)}error(t,r,n){const i=new Date,o="ERROR",a="#AB3B3A";this.clog(t,r,o,a,i,n)}fatal(t,r,n){const i=new Date,o="FATAL",a="#E16B8C";this.clog(t,r,o,a,i,n)}}var j6=H6;const Re=new j6;var Ki=(e=>(e[e.slow=0]="slow",e[e.normal=1]="normal",e[e.fast=2]="fast",e))(Ki||{}),Xl=(e=>(e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e))(Xl||{}),fu=(e=>(e[e.song=0]="song",e[e.hei=1]="hei",e))(fu||{});const OA={slPage:1,volumeMain:100,textSpeed:Ki.normal,autoSpeed:Ki.normal,textSize:Xl.medium,vocalVolume:100,bgmVolume:25,textboxFont:fu.song},LA={saveData:[],optionData:OA,appreciationData:{bgm:[],cg:[]},quickSaveData:null},kA=n1({name:"userData",initialState:LA,reducers:{setUserData:(e,t)=>{const{key:r,value:n}=t.payload;e[r]=n},unlockCgInUserData:(e,t)=>{const{name:r,url:n,series:i}=t.payload;let o=!1;e.appreciationData.cg.forEach(a=>{r===a.name&&(o=!0,a.url=n,a.series=i)}),o||e.appreciationData.cg.push(t.payload)},unlockBgmInUserData:(e,t)=>{const{name:r,url:n,series:i}=t.payload;let o=!1;e.appreciationData.bgm.forEach(a=>{r===a.name&&(o=!0,a.url=n,a.series=i)}),o||e.appreciationData.bgm.push(t.payload)},resetUserData:(e,t)=>{Object.assign(e,t.payload)},setOptionData:(e,t)=>{const{key:r,value:n}=t.payload;e.optionData[r]=n},setSlPage:(e,t)=>{e.optionData.slPage=t.payload},setFastSave:(e,t)=>{e.quickSaveData=t.payload},resetOptionSet(e){Object.assign(e.optionData,OA)},resetSaveData(e){e.saveData.splice(0,e.saveData.length)}}}),{setUserData:W6,resetUserData:f1,setOptionData:nn,setSlPage:FA,unlockCgInUserData:X6,unlockBgmInUserData:V6,setFastSave:z6,resetOptionSet:Y6,resetSaveData:q6}=kA.actions;var K6=kA.reducer;const or=UA(()=>{const e=de.getState().userData;Qi.exports.setItem(Nr.gameKey,e).then(()=>{Re.info("\u5199\u5165\u672C\u5730\u5B58\u50A8")})},100),vf=UA(()=>{Qi.exports.getItem(Nr.gameKey).then(e=>{if(!e||!BA(e)){Re.warn("\u73B0\u5728\u91CD\u7F6E\u6570\u636E"),or();return}de.dispatch(f1(e))})},100);function UA(e,t){let r;function n(...i){clearTimeout(r);let o;return r=setTimeout(()=>{o=e.apply(n,i)},t),o}return n}const Yg=()=>{const e=de.getState().userData;Qi.exports.setItem(Nr.gameKey,e).then(()=>{Qi.exports.getItem(Nr.gameKey).then(t=>{if(!t){or();return}de.dispatch(f1(t))}),Re.info("\u540C\u6B65\u672C\u5730\u5B58\u50A8")})};function BA(e){let t=!0;for(const r in LA)e.hasOwnProperty(r)||(t=!1);return t}async function Z6(){const e=de.getState().userData;return await Qi.exports.setItem(Nr.gameKey,e)}async function DA(){const e=await Qi.exports.getItem(Nr.gameKey);if(!e||!BA(e)){const t=de.getState().userData;return Re.warn("\u73B0\u5728\u91CD\u7F6E\u6570\u636E"),await Qi.exports.setItem(Nr.gameKey,t)}else de.dispatch(f1(e))}var xt=(e=>(e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Option=2]="Option",e))(xt||{});const J6={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,currentMenuTag:xt.Option,titleBg:"",titleBgm:"",showExtra:!1,showGlobalDialog:!1},MA=n1({name:"gui",initialState:J6,reducers:{setVisibility:(e,t)=>{vf();const{component:r,visibility:n}=t.payload;e[r]=n},setMenuPanelTag:(e,t)=>{vf(),e.currentMenuTag=t.payload},setGuiAsset:(e,t)=>{const{asset:r,value:n}=t.payload;e[r]=n}}}),{setVisibility:Lt,setMenuPanelTag:Na,setGuiAsset:QT}=MA.actions;var Q6=MA.reducer;const de=CM({reducer:{stage:NM,GUI:Q6,userData:K6}});function Qs(e){de.dispatch(Yt({key:"bgm",value:e}))}const GA={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}},Te=GA;var Dt=(e=>(e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video",e))(Dt||{});const Cr=(e,t)=>{if(e.match("http://")||e.match("https://"))return e;{let r;switch(t){case 0:r=`./game/background/${e}`;break;case 3:r=`./game/scene/${e}`;break;case 5:r=`./game/vocal/${e}`;break;case 2:r=`./game/figure/${e}`;break;case 1:r=`./game/bgm/${e}`;break;case 6:r=`./game/video/${e}`;break;default:r="";break}return r}};var c1={exports:{}},$A=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},e5=$A,Zo=Object.prototype.toString;function h1(e){return Array.isArray(e)}function qg(e){return typeof e=="undefined"}function t5(e){return e!==null&&!qg(e)&&e.constructor!==null&&!qg(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function HA(e){return Zo.call(e)==="[object ArrayBuffer]"}function r5(e){return Zo.call(e)==="[object FormData]"}function n5(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&HA(e.buffer),t}function i5(e){return typeof e=="string"}function o5(e){return typeof e=="number"}function jA(e){return e!==null&&typeof e=="object"}function Kh(e){if(Zo.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function a5(e){return Zo.call(e)==="[object Date]"}function s5(e){return Zo.call(e)==="[object File]"}function u5(e){return Zo.call(e)==="[object Blob]"}function WA(e){return Zo.call(e)==="[object Function]"}function l5(e){return jA(e)&&WA(e.pipe)}function f5(e){return Zo.call(e)==="[object URLSearchParams]"}function c5(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h5(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function d1(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),h1(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function Kg(){var e={};function t(i,o){Kh(e[o])&&Kh(i)?e[o]=Kg(e[o],i):Kh(i)?e[o]=Kg({},i):h1(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)d1(arguments[r],t);return e}function d5(e,t,r){return d1(t,function(i,o){r&&typeof i=="function"?e[o]=e5(i,r):e[o]=i}),e}function p5(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var sn={isArray:h1,isArrayBuffer:HA,isBuffer:t5,isFormData:r5,isArrayBufferView:n5,isString:i5,isNumber:o5,isObject:jA,isPlainObject:Kh,isUndefined:qg,isDate:a5,isFile:s5,isBlob:u5,isFunction:WA,isStream:l5,isURLSearchParams:f5,isStandardBrowserEnv:h5,forEach:d1,merge:Kg,extend:d5,trim:c5,stripBOM:p5},gs=sn;function ew(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var XA=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(gs.isURLSearchParams(r))i=r.toString();else{var o=[];gs.forEach(r,function(l,c){l===null||typeof l=="undefined"||(gs.isArray(l)?c=c+"[]":l=[l],gs.forEach(l,function(p){gs.isDate(p)?p=p.toISOString():gs.isObject(p)&&(p=JSON.stringify(p)),o.push(ew(c)+"="+ew(p))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},v5=sn;function pp(){this.handlers=[]}pp.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};pp.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};pp.prototype.forEach=function(t){v5.forEach(this.handlers,function(n){n!==null&&t(n)})};var _5=pp,m5=sn,g5=function(t,r){m5.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},VA=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},zA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y5=VA,YA=function(t,r,n,i,o){var a=new Error(t);return y5(a,r,n,i,o)},x5=YA,b5=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(x5("Request failed with status code "+n.status,n.config,null,n.request,n))},uh=sn,E5=uh.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var l=[];l.push(r+"="+encodeURIComponent(n)),uh.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),uh.isString(o)&&l.push("path="+o),uh.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),T5=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},w5=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},S5=T5,C5=w5,I5=function(t,r){return t&&!S5(r)?C5(t,r):r},pm=sn,A5=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],R5=function(t){var r={},n,i,o;return t&&pm.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=pm.trim(s.substr(0,o)).toLowerCase(),i=pm.trim(s.substr(o+1)),n){if(r[n]&&A5.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},tw=sn,N5=tw.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=tw.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function p1(e){this.message=e}p1.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};p1.prototype.__CANCEL__=!0;var vp=p1,lh=sn,P5=b5,O5=E5,L5=XA,k5=I5,F5=R5,U5=N5,vm=YA,B5=zA,D5=vp,rw=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}lh.isFormData(o)&&delete a["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+v)}var _=k5(t.baseURL,t.url);h.open(t.method.toUpperCase(),L5(_,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function y(){if(!!h){var m="getAllResponseHeaders"in h?F5(h.getAllResponseHeaders()):null,b=!s||s==="text"||s==="json"?h.responseText:h.response,T={data:b,status:h.status,statusText:h.statusText,headers:m,config:t,request:h};P5(function(P){n(P),c()},function(P){i(P),c()},T),h=null}}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){!h||(i(vm("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){i(vm("Network Error",t,null,h)),h=null},h.ontimeout=function(){var b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",T=t.transitional||B5;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),i(vm(b,t,T.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},lh.isStandardBrowserEnv()){var x=(t.withCredentials||U5(_))&&t.xsrfCookieName?O5.read(t.xsrfCookieName):void 0;x&&(a[t.xsrfHeaderName]=x)}"setRequestHeader"in h&&lh.forEach(a,function(b,T){typeof o=="undefined"&&T.toLowerCase()==="content-type"?delete a[T]:h.setRequestHeader(T,b)}),lh.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),s&&s!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(l=function(m){!h||(i(!m||m&&m.type?new D5("canceled"):m),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l))),o||(o=null),h.send(o)})},Sr=sn,nw=g5,M5=VA,G5=zA,$5={"Content-Type":"application/x-www-form-urlencoded"};function iw(e,t){!Sr.isUndefined(e)&&Sr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function H5(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=rw),e}function j5(e,t,r){if(Sr.isString(e))try{return(t||JSON.parse)(e),Sr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var _p={transitional:G5,adapter:H5(),transformRequest:[function(t,r){return nw(r,"Accept"),nw(r,"Content-Type"),Sr.isFormData(t)||Sr.isArrayBuffer(t)||Sr.isBuffer(t)||Sr.isStream(t)||Sr.isFile(t)||Sr.isBlob(t)?t:Sr.isArrayBufferView(t)?t.buffer:Sr.isURLSearchParams(t)?(iw(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Sr.isObject(t)||r&&r["Content-Type"]==="application/json"?(iw(r,"application/json"),j5(t)):t}],transformResponse:[function(t){var r=this.transitional||_p.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Sr.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?M5(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Sr.forEach(["delete","get","head"],function(t){_p.headers[t]={}});Sr.forEach(["post","put","patch"],function(t){_p.headers[t]=Sr.merge($5)});var v1=_p,W5=sn,X5=v1,V5=function(t,r,n){var i=this||X5;return W5.forEach(n,function(a){t=a.call(i,t,r)}),t},qA=function(t){return!!(t&&t.__CANCEL__)},ow=sn,_m=V5,z5=qA,Y5=v1,q5=vp;function mm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new q5("canceled")}var K5=function(t){mm(t),t.headers=t.headers||{},t.data=_m.call(t,t.data,t.headers,t.transformRequest),t.headers=ow.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),ow.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||Y5.adapter;return r(t).then(function(i){return mm(t),i.data=_m.call(t,i.data,i.headers,t.transformResponse),i},function(i){return z5(i)||(mm(t),i&&i.response&&(i.response.data=_m.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},_n=sn,KA=function(t,r){r=r||{};var n={};function i(h,p){return _n.isPlainObject(h)&&_n.isPlainObject(p)?_n.merge(h,p):_n.isPlainObject(p)?_n.merge({},p):_n.isArray(p)?p.slice():p}function o(h){if(_n.isUndefined(r[h])){if(!_n.isUndefined(t[h]))return i(void 0,t[h])}else return i(t[h],r[h])}function a(h){if(!_n.isUndefined(r[h]))return i(void 0,r[h])}function s(h){if(_n.isUndefined(r[h])){if(!_n.isUndefined(t[h]))return i(void 0,t[h])}else return i(void 0,r[h])}function l(h){if(h in r)return i(t[h],r[h]);if(h in t)return i(void 0,t[h])}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return _n.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var v=c[p]||o,_=v(p);_n.isUndefined(_)&&v!==l||(n[p]=_)}),n},ZA={version:"0.26.1"},Z5=ZA.version,_1={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){_1[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var aw={};_1.transitional=function(t,r,n){function i(o,a){return"[Axios v"+Z5+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!aw[a]&&(aw[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};function J5(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],l=s===void 0||a(s,o,e);if(l!==!0)throw new TypeError("option "+o+" must be "+l);continue}if(r!==!0)throw Error("Unknown option "+o)}}var Q5={assertOptions:J5,validators:_1},JA=sn,e8=XA,sw=_5,uw=K5,mp=KA,QA=Q5,ys=QA.validators;function Bf(e){this.defaults=e,this.interceptors={request:new sw,response:new sw}}Bf.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mp(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&QA.assertOptions(n,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(o=o&&_.synchronous,i.unshift(_.fulfilled,_.rejected))});var a=[];this.interceptors.response.forEach(function(_){a.push(_.fulfilled,_.rejected)});var s;if(!o){var l=[uw,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(a),s=Promise.resolve(r);l.length;)s=s.then(l.shift(),l.shift());return s}for(var c=r;i.length;){var h=i.shift(),p=i.shift();try{c=h(c)}catch(v){p(v);break}}try{s=uw(c)}catch(v){return Promise.reject(v)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};Bf.prototype.getUri=function(t){return t=mp(this.defaults,t),e8(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};JA.forEach(["delete","get","head","options"],function(t){Bf.prototype[t]=function(r,n){return this.request(mp(n||{},{method:t,url:r,data:(n||{}).data}))}});JA.forEach(["post","put","patch"],function(t){Bf.prototype[t]=function(r,n,i){return this.request(mp(i||{},{method:t,url:r,data:n}))}});var t8=Bf,r8=vp;function cu(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new r8(i),t(r.reason))})}cu.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};cu.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};cu.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};cu.source=function(){var t,r=new cu(function(i){t=i});return{token:r,cancel:t}};var n8=cu,i8=function(t){return function(n){return t.apply(null,n)}},o8=sn,a8=function(t){return o8.isObject(t)&&t.isAxiosError===!0},lw=sn,s8=$A,Zh=t8,u8=KA,l8=v1;function eR(e){var t=new Zh(e),r=s8(Zh.prototype.request,t);return lw.extend(r,Zh.prototype,t),lw.extend(r,t),r.create=function(i){return eR(u8(e,i))},r}var Ii=eR(l8);Ii.Axios=Zh;Ii.Cancel=vp;Ii.CancelToken=n8;Ii.isCancel=qA;Ii.VERSION=ZA.version;Ii.all=function(t){return Promise.all(t)};Ii.spread=i8;Ii.isAxiosError=a8;c1.exports=Ii;c1.exports.default=Ii;var tR=c1.exports;const Ai=e=>new Promise(t=>{tR.get(e).then(r=>{const n=r.data.toString();t(n)})});var Ee=(e=>(e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.setAnimation=12]="setAnimation",e[e.setFilter=13]="setFilter",e[e.label=14]="label",e[e.jumpLabel=15]="jumpLabel",e[e.chooseLabel=16]="chooseLabel",e[e.setVar=17]="setVar",e[e.if=18]="if",e[e.callScene=19]="callScene",e[e.showVars=20]="showVars",e[e.unlockCg=21]="unlockCg",e[e.unlockBgm=22]="unlockBgm",e[e.filmMode=23]="filmMode",e[e.setTextbox=24]="setTextbox",e))(Ee||{});const f8="_FullScreenPerform_main_14crw_2",c8="_FullScreenPerform_element_14crw_9",h8="_fullScreen_video_14crw_17",d8="_introContainer_14crw_25",p8="_introElement_14crw_38",v8="_intro_showSoftly_14crw_1",_8="_videoContainer_14crw_52";var _f={FullScreenPerform_main:f8,FullScreenPerform_element:c8,fullScreen_video:h8,introContainer:d8,introElement:p8,intro_showSoftly:v8,videoContainer:_8},gp={exports:{}},Df={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m8=be.exports,rR=60103;Df.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var fw=Symbol.for;rR=fw("react.element"),Df.Fragment=fw("react.fragment")}var g8=m8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y8=Object.prototype.hasOwnProperty,x8={key:!0,ref:!0,__self:!0,__source:!0};function nR(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)y8.call(t,n)&&!x8.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:rR,type:e,key:o,ref:a,props:i,_owner:g8.current}}Df.jsx=nR;Df.jsxs=nR;gp.exports=Df;const L=gp.exports.jsx,ye=gp.exports.jsxs,xn=gp.exports.Fragment,b8=e=>{const t=e.content.split(/\|/),r=t.map((o,a)=>L("div",{style:{animationDelay:`${1500*a}ms`},className:_f.introElement,children:o},"introtext"+a+Math.random().toString())),n=L("div",{children:r});Ua.render(n,document.getElementById("introContainer"));const i=document.getElementById("introContainer");return i&&(i.style.display="block"),{performName:"introPerform",duration:1e3+1500*t.length,isOver:!1,isHoldOn:!1,stopFunction:()=>{const o=document.getElementById("introContainer");o&&(o.style.display="none")},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0}},E8="_MainStage_main_m7fcj_1",T8="_MainStage_main_container_m7fcj_10",w8="_MainStage_bgContainer_m7fcj_17",S8="_MainStage_showBgSoftly_m7fcj_1",C8="_MainStage_bgContainer_Settled_m7fcj_27",I8="_MainStage_oldBgContainer_m7fcj_37",A8="_MainStage_oldBgFadeout_m7fcj_1",R8="_MainStage_oldBgContainer_Settled_m7fcj_47";var iR={MainStage_main:E8,MainStage_main_container:T8,MainStage_bgContainer:w8,MainStage_showBgSoftly:S8,MainStage_bgContainer_Settled:C8,MainStage_oldBgContainer:I8,MainStage_oldBgFadeout:A8,MainStage_oldBgContainer_Settled:R8};const N8=e=>(de.dispatch(Yt({key:"bgName",value:e.content})),{performName:"none",duration:1e3,isOver:!1,isHoldOn:!1,stopFunction:()=>{const r=document.getElementById("MainStage_bg_MainContainer");r&&(r.className=iR.MainStage_bgContainer_Settled)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0});function P8(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}function O8(e){var t=this;return new t(function(r,n){if(!(e&&typeof e.length!="undefined"))return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return r([]);var o=i.length;function a(l,c){if(c&&(typeof c=="object"||typeof c=="function")){var h=c.then;if(typeof h=="function"){h.call(c,function(p){a(l,p)},function(p){i[l]={status:"rejected",reason:p},--o===0&&r(i)});return}}i[l]={status:"fulfilled",value:c},--o===0&&r(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}var L8=setTimeout;function oR(e){return Boolean(e&&typeof e.length!="undefined")}function k8(){}function F8(e,t){return function(){e.apply(t,arguments)}}function Jt(e){if(!(this instanceof Jt))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],sR(e,this)}function aR(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,Jt._immediateFn(function(){var r=e._state===1?t.onFulfilled:t.onRejected;if(r===null){(e._state===1?Zg:mf)(t.promise,e._value);return}var n;try{n=r(e._value)}catch(i){mf(t.promise,i);return}Zg(t.promise,n)})}function Zg(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var r=t.then;if(t instanceof Jt){e._state=3,e._value=t,Jg(e);return}else if(typeof r=="function"){sR(F8(r,t),e);return}}e._state=1,e._value=t,Jg(e)}catch(n){mf(e,n)}}function mf(e,t){e._state=2,e._value=t,Jg(e)}function Jg(e){e._state===2&&e._deferreds.length===0&&Jt._immediateFn(function(){e._handled||Jt._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)aR(e,e._deferreds[t]);e._deferreds=null}function U8(e,t,r){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=r}function sR(e,t){var r=!1;try{e(function(n){r||(r=!0,Zg(t,n))},function(n){r||(r=!0,mf(t,n))})}catch(n){if(r)return;r=!0,mf(t,n)}}Jt.prototype.catch=function(e){return this.then(null,e)};Jt.prototype.then=function(e,t){var r=new this.constructor(k8);return aR(this,new U8(e,t,r)),r};Jt.prototype.finally=P8;Jt.all=function(e){return new Jt(function(t,r){if(!oR(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var i=n.length;function o(s,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var c=l.then;if(typeof c=="function"){c.call(l,function(h){o(s,h)},r);return}}n[s]=l,--i===0&&t(n)}catch(h){r(h)}}for(var a=0;a<n.length;a++)o(a,n[a])})};Jt.allSettled=O8;Jt.resolve=function(e){return e&&typeof e=="object"&&e.constructor===Jt?e:new Jt(function(t){t(e)})};Jt.reject=function(e){return new Jt(function(t,r){r(e)})};Jt.race=function(e){return new Jt(function(t,r){if(!oR(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)Jt.resolve(e[n]).then(t,r)})};Jt._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){L8(e,0)};Jt._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};/*!
 * @pixi/polyfill - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis=="undefined"&&(typeof self!="undefined"?self.globalThis=self:typeof global!="undefined"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Jt);Object.assign||(Object.assign=Qy);var B8=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var D8=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-D8}}var gm=Date.now(),cw=["ms","moz","webkit","o"];for(var ym=0;ym<cw.length&&!globalThis.requestAnimationFrame;++ym){var xm=cw[ym];globalThis.requestAnimationFrame=globalThis[xm+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[xm+"CancelAnimationFrame"]||globalThis[xm+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),r=B8+gm-t;return r<0&&(r=0),gm=t,globalThis.self.setTimeout(function(){gm=Date.now(),e(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var bm=/iPhone/i,hw=/iPod/i,dw=/iPad/i,pw=/\biOS-universal(?:.+)Mac\b/i,Em=/\bAndroid(?:.+)Mobile\b/i,vw=/Android/i,xs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,fh=/Silk/i,Gi=/Windows Phone/i,_w=/\bWindows(?:.+)ARM\b/i,mw=/BlackBerry/i,gw=/BB10/i,yw=/Opera Mini/i,xw=/\b(CriOS|Chrome)(?:.+)Mobile/i,bw=/Mobile(?:.+)Firefox\b/i,Ew=function(e){return typeof e!="undefined"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream=="undefined"};function M8(e){return function(t){return t.test(e)}}function G8(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator!="undefined"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]!="undefined"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]!="undefined"&&(r=n[0]);var i=M8(r),o={apple:{phone:i(bm)&&!i(Gi),ipod:i(hw),tablet:!i(bm)&&(i(dw)||Ew(t))&&!i(Gi),universal:i(pw),device:(i(bm)||i(hw)||i(dw)||i(pw)||Ew(t))&&!i(Gi)},amazon:{phone:i(xs),tablet:!i(xs)&&i(fh),device:i(xs)||i(fh)},android:{phone:!i(Gi)&&i(xs)||!i(Gi)&&i(Em),tablet:!i(Gi)&&!i(xs)&&!i(Em)&&(i(fh)||i(vw)),device:!i(Gi)&&(i(xs)||i(fh)||i(Em)||i(vw))||i(/\bokhttp\b/i)},windows:{phone:i(Gi),tablet:i(_w),device:i(Gi)||i(_w)},other:{blackberry:i(mw),blackberry10:i(gw),opera:i(yw),firefox:i(bw),chrome:i(xw),device:i(mw)||i(gw)||i(yw)||i(bw)||i(xw)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}/*!
 * @pixi/settings - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gi=G8(globalThis.navigator);function $8(e){var t=!0;if(gi.tablet||gi.phone){if(gi.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(t=!1)}}if(gi.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(t=!1)}}}return t?e:4}function H8(){return!gi.apple.device}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tw;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Tw||(Tw={}));var ww;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(ww||(ww={}));var Sw;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Sw||(Sw={}));var Cw;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Cw||(Cw={}));var Iw;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Iw||(Iw={}));var Aw;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Aw||(Aw={}));var Rw;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Rw||(Rw={}));var Nw;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Nw||(Nw={}));var Pw;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(Pw||(Pw={}));var Qg;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Qg||(Qg={}));var ey;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ey||(ey={}));var ty;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(ty||(ty={}));var Ow;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Ow||(Ow={}));var Lw;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Lw||(Lw={}));var ry;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(ry||(ry={}));var Vl;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Vl||(Vl={}));var kw;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(kw||(kw={}));var ny;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(ny||(ny={}));var Fw;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Fw||(Fw={}));var Ce={MIPMAP_TEXTURES:ty.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ny.NONE,SPRITE_MAX_TEXTURES:$8(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:ry.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:ey.CLAMP,SCALE_MODE:Qg.LINEAR,PRECISION_VERTEX:Vl.HIGH,PRECISION_FRAGMENT:gi.apple.device?Vl.HIGH:Vl.MEDIUM,CAN_UPLOAD_SAME_BUFFER:H8(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},uR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function o(l,c,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,p||l,v),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],_]:l._events[y].push(_):(l._events[y]=_,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],h,p;if(this._eventsCount===0)return c;for(p in h=this._events)t.call(h,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},s.prototype.listeners=function(c){var h=r?r+c:c,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,_=p.length,y=new Array(_);v<_;v++)y[v]=p[v].fn;return y},s.prototype.listenerCount=function(c){var h=r?r+c:c,p=this._events[h];return p?p.fn?1:p.length:0},s.prototype.emit=function(c,h,p,v,_,y){var x=r?r+c:c;if(!this._events[x])return!1;var m=this._events[x],b=arguments.length,T,A;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),b){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,p),!0;case 4:return m.fn.call(m.context,h,p,v),!0;case 5:return m.fn.call(m.context,h,p,v,_),!0;case 6:return m.fn.call(m.context,h,p,v,_,y),!0}for(A=1,T=new Array(b-1);A<b;A++)T[A-1]=arguments[A];m.fn.apply(m.context,T)}else{var P=m.length,R;for(A=0;A<P;A++)switch(m[A].once&&this.removeListener(c,m[A].fn,void 0,!0),b){case 1:m[A].fn.call(m[A].context);break;case 2:m[A].fn.call(m[A].context,h);break;case 3:m[A].fn.call(m[A].context,h,p);break;case 4:m[A].fn.call(m[A].context,h,p,v);break;default:if(!T)for(R=1,T=new Array(b-1);R<b;R++)T[R-1]=arguments[R];m[A].fn.apply(m[A].context,T)}}return!0},s.prototype.on=function(c,h,p){return o(this,c,h,p,!1)},s.prototype.once=function(c,h,p){return o(this,c,h,p,!0)},s.prototype.removeListener=function(c,h,p,v){var _=r?r+c:c;if(!this._events[_])return this;if(!h)return a(this,_),this;var y=this._events[_];if(y.fn)y.fn===h&&(!v||y.once)&&(!p||y.context===p)&&a(this,_);else{for(var x=0,m=[],b=y.length;x<b;x++)(y[x].fn!==h||v&&!y[x].once||p&&y[x].context!==p)&&m.push(y[x]);m.length?this._events[_]=m.length===1?m[0]:m:a(this,_)}return this},s.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(uR);var Mf=uR.exports,m1={exports:{}};m1.exports=yp;m1.exports.default=yp;function yp(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,o=lR(e,0,i,r,!0),a=[];if(!o||o.next===o.prev)return a;var s,l,c,h,p,v,_;if(n&&(o=z8(e,t,o,r)),e.length>80*r){s=c=e[0],l=h=e[1];for(var y=r;y<i;y+=r)p=e[y],v=e[y+1],p<s&&(s=p),v<l&&(l=v),p>c&&(c=p),v>h&&(h=v);_=Math.max(c-s,h-l),_=_!==0?1/_:0}return gf(o,a,r,s,l,_),a}function lR(e,t,r,n,i){var o,a;if(i===ay(e,t,r,n)>0)for(o=t;o<r;o+=n)a=Uw(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=Uw(o,e[o],e[o+1],a);return a&&xp(a,a.next)&&(xf(a),a=a.next),a}function Vo(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(xp(r,r.next)||Xt(r.prev,r,r.next)===0)){if(xf(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function gf(e,t,r,n,i,o,a){if(!!e){!a&&o&&J8(e,n,i,o);for(var s=e,l,c;e.prev!==e.next;){if(l=e.prev,c=e.next,o?W8(e,n,i,o):j8(e)){t.push(l.i/r),t.push(e.i/r),t.push(c.i/r),xf(e),e=c.next,s=c.next;continue}if(e=c,e===s){a?a===1?(e=X8(Vo(e),t,r),gf(e,t,r,n,i,o,2)):a===2&&V8(e,t,r,n,i,o):gf(Vo(e),t,r,n,i,o,1);break}}}}function j8(e){var t=e.prev,r=e,n=e.next;if(Xt(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(ks(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Xt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function W8(e,t,r,n){var i=e.prev,o=e,a=e.next;if(Xt(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,h=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=iy(s,l,t,r,n),v=iy(c,h,t,r,n),_=e.prevZ,y=e.nextZ;_&&_.z>=p&&y&&y.z<=v;){if(_!==e.prev&&_!==e.next&&ks(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&Xt(_.prev,_,_.next)>=0||(_=_.prevZ,y!==e.prev&&y!==e.next&&ks(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&Xt(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;_&&_.z>=p;){if(_!==e.prev&&_!==e.next&&ks(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&Xt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;y&&y.z<=v;){if(y!==e.prev&&y!==e.next&&ks(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&Xt(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function X8(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!xp(i,o)&&fR(i,n,n.next,o)&&yf(i,o)&&yf(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),xf(n),xf(n.next),n=e=o),n=n.next}while(n!==e);return Vo(n)}function V8(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&tG(a,s)){var l=cR(a,s);a=Vo(a,a.next),l=Vo(l,l.next),gf(a,t,r,n,i,o),gf(l,t,r,n,i,o);return}s=s.next}a=a.next}while(a!==e)}function z8(e,t,r,n){var i=[],o,a,s,l,c;for(o=0,a=t.length;o<a;o++)s=t[o]*n,l=o<a-1?t[o+1]*n:e.length,c=lR(e,s,l,n,!1),c===c.next&&(c.steiner=!0),i.push(eG(c));for(i.sort(Y8),o=0;o<i.length;o++)r=q8(i[o],r),r=Vo(r,r.next);return r}function Y8(e,t){return e.x-t.x}function q8(e,t){var r=K8(e,t);if(!r)return t;var n=cR(r,e),i=Vo(r,r.next);return Vo(n,n.next),t===r?i:t}function K8(e,t){var r=t,n=e.x,i=e.y,o=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(i===r.y)return r;if(i===r.next.y)return r.next}a=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!a)return null;if(n===o)return a;var l=a,c=a.x,h=a.y,p=1/0,v;r=a;do n>=r.x&&r.x>=c&&n!==r.x&&ks(i<h?n:o,i,c,h,i<h?o:n,i,r.x,r.y)&&(v=Math.abs(i-r.y)/(n-r.x),yf(r,e)&&(v<p||v===p&&(r.x>a.x||r.x===a.x&&Z8(a,r)))&&(a=r,p=v)),r=r.next;while(r!==l);return a}function Z8(e,t){return Xt(e.prev,e,t.prev)<0&&Xt(t.next,e,e.next)<0}function J8(e,t,r,n){var i=e;do i.z===null&&(i.z=iy(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Q8(i)}function Q8(e){var t,r,n,i,o,a,s,l,c=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<c&&(s++,n=n.nextZ,!!n);t++);for(l=c;s>0||l>0&&n;)s!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1);return e}function iy(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function eG(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function ks(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function tG(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!rG(e,t)&&(yf(e,t)&&yf(t,e)&&nG(e,t)&&(Xt(e.prev,e,t.prev)||Xt(e,t.prev,t))||xp(e,t)&&Xt(e.prev,e,e.next)>0&&Xt(t.prev,t,t.next)>0)}function Xt(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function xp(e,t){return e.x===t.x&&e.y===t.y}function fR(e,t,r,n){var i=hh(Xt(e,t,r)),o=hh(Xt(e,t,n)),a=hh(Xt(r,n,e)),s=hh(Xt(r,n,t));return!!(i!==o&&a!==s||i===0&&ch(e,r,t)||o===0&&ch(e,n,t)||a===0&&ch(r,e,n)||s===0&&ch(r,t,n))}function ch(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function hh(e){return e>0?1:e<0?-1:0}function rG(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&fR(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function yf(e,t){return Xt(e.prev,e,e.next)<0?Xt(e,t,e.next)>=0&&Xt(e,e.prev,t)>=0:Xt(e,t,e.prev)<0||Xt(e,e.next,t)<0}function nG(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function cR(e,t){var r=new oy(e.i,e.x,e.y),n=new oy(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Uw(e,t,r,n){var i=new oy(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function xf(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function oy(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}yp.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(ay(e,0,o,r));if(i)for(var s=0,l=t.length;s<l;s++){var c=t[s]*r,h=s<l-1?t[s+1]*r:e.length;a-=Math.abs(ay(e,c,h,r))}var p=0;for(s=0;s<n.length;s+=3){var v=n[s]*r,_=n[s+1]*r,y=n[s+2]*r;p+=Math.abs((e[v]-e[y])*(e[_+1]-e[v+1])-(e[v]-e[_])*(e[y+1]-e[v+1]))}return a===0&&p===0?0:Math.abs((p-a)/a)};function ay(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}yp.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var hR=m1.exports,sy={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof Dr=="object"&&Dr;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,s=2147483647,l=36,c=1,h=26,p=38,v=700,_=72,y=128,x="-",m=/^xn--/,b=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=l-c,R=Math.floor,I=String.fromCharCode,U;function j(J){throw RangeError(A[J])}function D(J,W){for(var ie=J.length,ce=[];ie--;)ce[ie]=W(J[ie]);return ce}function z(J,W){var ie=J.split("@"),ce="";ie.length>1&&(ce=ie[0]+"@",J=ie[1]),J=J.replace(T,".");var Ie=J.split("."),Fe=D(Ie,W).join(".");return ce+Fe}function pe(J){for(var W=[],ie=0,ce=J.length,Ie,Fe;ie<ce;)Ie=J.charCodeAt(ie++),Ie>=55296&&Ie<=56319&&ie<ce?(Fe=J.charCodeAt(ie++),(Fe&64512)==56320?W.push(((Ie&1023)<<10)+(Fe&1023)+65536):(W.push(Ie),ie--)):W.push(Ie);return W}function ue(J){return D(J,function(W){var ie="";return W>65535&&(W-=65536,ie+=I(W>>>10&1023|55296),W=56320|W&1023),ie+=I(W),ie}).join("")}function _e(J){return J-48<10?J-22:J-65<26?J-65:J-97<26?J-97:l}function qe(J,W){return J+22+75*(J<26)-((W!=0)<<5)}function le(J,W,ie){var ce=0;for(J=ie?R(J/v):J>>1,J+=R(J/W);J>P*h>>1;ce+=l)J=R(J/P);return R(ce+(P+1)*J/(J+p))}function fe(J){var W=[],ie=J.length,ce,Ie=0,Fe=y,Me=_,ut,lt,Ke,It,Je,ft,$e,ht,nt;for(ut=J.lastIndexOf(x),ut<0&&(ut=0),lt=0;lt<ut;++lt)J.charCodeAt(lt)>=128&&j("not-basic"),W.push(J.charCodeAt(lt));for(Ke=ut>0?ut+1:0;Ke<ie;){for(It=Ie,Je=1,ft=l;Ke>=ie&&j("invalid-input"),$e=_e(J.charCodeAt(Ke++)),($e>=l||$e>R((s-Ie)/Je))&&j("overflow"),Ie+=$e*Je,ht=ft<=Me?c:ft>=Me+h?h:ft-Me,!($e<ht);ft+=l)nt=l-ht,Je>R(s/nt)&&j("overflow"),Je*=nt;ce=W.length+1,Me=le(Ie-It,ce,It==0),R(Ie/ce)>s-Fe&&j("overflow"),Fe+=R(Ie/ce),Ie%=ce,W.splice(Ie++,0,Fe)}return ue(W)}function Se(J){var W,ie,ce,Ie,Fe,Me,ut,lt,Ke,It,Je,ft=[],$e,ht,nt,Ye;for(J=pe(J),$e=J.length,W=y,ie=0,Fe=_,Me=0;Me<$e;++Me)Je=J[Me],Je<128&&ft.push(I(Je));for(ce=Ie=ft.length,Ie&&ft.push(x);ce<$e;){for(ut=s,Me=0;Me<$e;++Me)Je=J[Me],Je>=W&&Je<ut&&(ut=Je);for(ht=ce+1,ut-W>R((s-ie)/ht)&&j("overflow"),ie+=(ut-W)*ht,W=ut,Me=0;Me<$e;++Me)if(Je=J[Me],Je<W&&++ie>s&&j("overflow"),Je==W){for(lt=ie,Ke=l;It=Ke<=Fe?c:Ke>=Fe+h?h:Ke-Fe,!(lt<It);Ke+=l)Ye=lt-It,nt=l-It,ft.push(I(qe(It+Ye%nt,0))),lt=R(Ye/nt);ft.push(I(qe(lt,0))),Fe=le(ie,ht,ce==Ie),ie=0,++ce}++ie,++W}return ft.join("")}function Ue(J){return z(J,function(W){return m.test(W)?fe(W.slice(4).toLowerCase()):W})}function vt(J){return z(J,function(W){return b.test(W)?"xn--"+Se(W):W})}if(a={version:"1.3.2",ucs2:{decode:pe,encode:ue},decode:fe,encode:Se,toASCII:vt,toUnicode:Ue},n&&i)if(e.exports==n)i.exports=a;else for(U in a)a.hasOwnProperty(U)&&(n[U]=a[U]);else r.punycode=a})(Dr)})(sy,sy.exports);var iG={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},bf={};function oG(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var aG=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var c=e[l].replace(o,"%20"),h=c.indexOf(r),p,v,_,y;h>=0?(p=c.substr(0,h),v=c.substr(h+1)):(p=c,v=""),_=decodeURIComponent(p),y=decodeURIComponent(v),oG(i,_)?Array.isArray(i[_])?i[_].push(y):i[_]=[i[_],y]:i[_]=y}return i},ml=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},sG=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(ml(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(ml(a))}).join(t):o+encodeURIComponent(ml(e[i]))}).join(t):n?encodeURIComponent(ml(n))+r+encodeURIComponent(ml(e)):""};bf.decode=bf.parse=aG;bf.encode=bf.stringify=sG;var uG=sy.exports,pi=iG,lG=bp,fG=bG,cG=xG;function ii(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var hG=/^([a-z0-9.+-]+:)/i,dG=/:[0-9]*$/,pG=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,vG=["<",">",'"',"`"," ","\r",`
`,"	"],_G=["{","}","|","\\","^","`"].concat(vG),uy=["'"].concat(_G),Bw=["%","/","?",";","#"].concat(uy),Dw=["/","?","#"],mG=255,Mw=/^[+a-z0-9A-Z_-]{0,63}$/,gG=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yG={javascript:!0,"javascript:":!0},ly={javascript:!0,"javascript:":!0},eu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},fy=bf;function bp(e,t,r){if(e&&pi.isObject(e)&&e instanceof ii)return e;var n=new ii;return n.parse(e,t,r),n}ii.prototype.parse=function(e,t,r){if(!pi.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!r&&e.split("#").length===1){var l=pG.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=fy.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=hG.exec(s);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,s=s.substr(c.length)}if(r||c||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=s.substr(0,2)==="//";p&&!(c&&ly[c])&&(s=s.substr(2),this.slashes=!0)}if(!ly[c]&&(p||c&&!eu[c])){for(var v=-1,_=0;_<Dw.length;_++){var y=s.indexOf(Dw[_]);y!==-1&&(v===-1||y<v)&&(v=y)}var x,m;v===-1?m=s.lastIndexOf("@"):m=s.lastIndexOf("@",v),m!==-1&&(x=s.slice(0,m),s=s.slice(m+1),this.auth=decodeURIComponent(x)),v=-1;for(var _=0;_<Bw.length;_++){var y=s.indexOf(Bw[_]);y!==-1&&(v===-1||y<v)&&(v=y)}v===-1&&(v=s.length),this.host=s.slice(0,v),s=s.slice(v),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var T=this.hostname.split(/\./),_=0,A=T.length;_<A;_++){var P=T[_];if(!!P&&!P.match(Mw)){for(var R="",I=0,U=P.length;I<U;I++)P.charCodeAt(I)>127?R+="x":R+=P[I];if(!R.match(Mw)){var j=T.slice(0,_),D=T.slice(_+1),z=P.match(gG);z&&(j.push(z[1]),D.unshift(z[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=j.join(".");break}}}this.hostname.length>mG?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=uG.toASCII(this.hostname));var pe=this.port?":"+this.port:"",ue=this.hostname||"";this.host=ue+pe,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!yG[h])for(var _=0,A=uy.length;_<A;_++){var _e=uy[_];if(s.indexOf(_e)!==-1){var qe=encodeURIComponent(_e);qe===_e&&(qe=escape(_e)),s=s.split(_e).join(qe)}}var le=s.indexOf("#");le!==-1&&(this.hash=s.substr(le),s=s.slice(0,le));var fe=s.indexOf("?");if(fe!==-1?(this.search=s.substr(fe),this.query=s.substr(fe+1),t&&(this.query=fy.parse(this.query)),s=s.slice(0,fe)):t&&(this.search="",this.query={}),s&&(this.pathname=s),eu[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var pe=this.pathname||"",Se=this.search||"";this.path=pe+Se}return this.href=this.format(),this};function xG(e){return pi.isString(e)&&(e=bp(e)),e instanceof ii?e.format():ii.prototype.format.call(e)}ii.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&pi.isObject(this.query)&&Object.keys(this.query).length&&(o=fy.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||eu[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+r+a+n};function bG(e,t){return bp(e,!1,!0).resolve(t)}ii.prototype.resolve=function(e){return this.resolveObject(bp(e,!1,!0)).format()};ii.prototype.resolveObject=function(e){if(pi.isString(e)){var t=new ii;t.parse(e,!1,!0),e=t}for(var r=new ii,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];l!=="protocol"&&(r[l]=e[l])}return eu[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!eu[e.protocol]){for(var c=Object.keys(e),h=0;h<c.length;h++){var p=c[h];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!ly[e.protocol]){for(var A=(e.pathname||"").split("/");A.length&&!(e.host=A.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),A[0]!==""&&A.unshift(""),A.length<2&&A.unshift(""),r.pathname=A.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",x=e.host||e.pathname&&e.pathname.charAt(0)==="/",m=x||y||r.host&&e.pathname,b=m,T=r.pathname&&r.pathname.split("/")||[],A=e.pathname&&e.pathname.split("/")||[],P=r.protocol&&!eu[r.protocol];if(P&&(r.hostname="",r.port=null,r.host&&(T[0]===""?T[0]=r.host:T.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(A[0]===""?A[0]=e.host:A.unshift(e.host)),e.host=null),m=m&&(A[0]===""||T[0]==="")),x)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,T=A;else if(A.length)T||(T=[]),T.pop(),T=T.concat(A),r.search=e.search,r.query=e.query;else if(!pi.isNullOrUndefined(e.search)){if(P){r.hostname=r.host=T.shift();var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.host=r.hostname=R.shift())}return r.search=e.search,r.query=e.query,(!pi.isNull(r.pathname)||!pi.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=T.slice(-1)[0],U=(r.host||e.host||T.length>1)&&(I==="."||I==="..")||I==="",j=0,D=T.length;D>=0;D--)I=T[D],I==="."?T.splice(D,1):I===".."?(T.splice(D,1),j++):j&&(T.splice(D,1),j--);if(!m&&!b)for(;j--;j)T.unshift("..");m&&T[0]!==""&&(!T[0]||T[0].charAt(0)!=="/")&&T.unshift(""),U&&T.join("/").substr(-1)!=="/"&&T.push("");var z=T[0]===""||T[0]&&T[0].charAt(0)==="/";if(P){r.hostname=r.host=z?"":T.length?T.shift():"";var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.host=r.hostname=R.shift())}return m=m||r.host&&T.length,m&&!z&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),(!pi.isNull(r.pathname)||!pi.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};ii.prototype.parseHost=function(){var e=this.host,t=dG.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eo;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(eo||(eo={}));var Ef;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Ef||(Ef={}));var Ld;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Ld||(Ld={}));var Ne;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Ne||(Ne={}));var ni;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ni||(ni={}));var se;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(se||(se={}));var Pa;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Pa||(Pa={}));var Ae;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Ae||(Ae={}));var kd;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(kd||(kd={}));var Yi;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Yi||(Yi={}));var Zi;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Zi||(Zi={}));var to;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(to||(to={}));var oi;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(oi||(oi={}));var Eo;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Eo||(Eo={}));var cy;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(cy||(cy={}));var yi;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(yi||(yi={}));var Fr;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(Fr||(Fr={}));var ar;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(ar||(ar={}));var wi;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(wi||(wi={}));/*!
 * @pixi/utils - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Fs={parse:lG,format:cG,resolve:fG};Ce.RETINA_PREFIX=/@([0-9\.]+)x/;Ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Gw=!1,$w="6.3.0";function EG(e){var t;if(!Gw){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+$w+" - \u2730 "+e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,r)}else globalThis.console&&globalThis.console.log("PixiJS "+$w+" - "+e+" - http://www.pixijs.com/");Gw=!0}}var Tm;function TG(){return typeof Tm=="undefined"&&(Tm=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),i=!!(n&&n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch{return!1}}()),Tm}var wG="#f0f8ff",SG="#faebd7",CG="#00ffff",IG="#7fffd4",AG="#f0ffff",RG="#f5f5dc",NG="#ffe4c4",PG="#000000",OG="#ffebcd",LG="#0000ff",kG="#8a2be2",FG="#a52a2a",UG="#deb887",BG="#5f9ea0",DG="#7fff00",MG="#d2691e",GG="#ff7f50",$G="#6495ed",HG="#fff8dc",jG="#dc143c",WG="#00ffff",XG="#00008b",VG="#008b8b",zG="#b8860b",YG="#a9a9a9",qG="#006400",KG="#a9a9a9",ZG="#bdb76b",JG="#8b008b",QG="#556b2f",e9="#ff8c00",t9="#9932cc",r9="#8b0000",n9="#e9967a",i9="#8fbc8f",o9="#483d8b",a9="#2f4f4f",s9="#2f4f4f",u9="#00ced1",l9="#9400d3",f9="#ff1493",c9="#00bfff",h9="#696969",d9="#696969",p9="#1e90ff",v9="#b22222",_9="#fffaf0",m9="#228b22",g9="#ff00ff",y9="#dcdcdc",x9="#f8f8ff",b9="#daa520",E9="#ffd700",T9="#808080",w9="#008000",S9="#adff2f",C9="#808080",I9="#f0fff0",A9="#ff69b4",R9="#cd5c5c",N9="#4b0082",P9="#fffff0",O9="#f0e68c",L9="#fff0f5",k9="#e6e6fa",F9="#7cfc00",U9="#fffacd",B9="#add8e6",D9="#f08080",M9="#e0ffff",G9="#fafad2",$9="#d3d3d3",H9="#90ee90",j9="#d3d3d3",W9="#ffb6c1",X9="#ffa07a",V9="#20b2aa",z9="#87cefa",Y9="#778899",q9="#778899",K9="#b0c4de",Z9="#ffffe0",J9="#00ff00",Q9="#32cd32",e$="#faf0e6",t$="#ff00ff",r$="#800000",n$="#66cdaa",i$="#0000cd",o$="#ba55d3",a$="#9370db",s$="#3cb371",u$="#7b68ee",l$="#00fa9a",f$="#48d1cc",c$="#c71585",h$="#191970",d$="#f5fffa",p$="#ffe4e1",v$="#ffe4b5",_$="#ffdead",m$="#000080",g$="#fdf5e6",y$="#808000",x$="#6b8e23",b$="#ffa500",E$="#ff4500",T$="#da70d6",w$="#eee8aa",S$="#98fb98",C$="#afeeee",I$="#db7093",A$="#ffefd5",R$="#ffdab9",N$="#cd853f",P$="#ffc0cb",O$="#dda0dd",L$="#b0e0e6",k$="#800080",F$="#663399",U$="#ff0000",B$="#bc8f8f",D$="#4169e1",M$="#8b4513",G$="#fa8072",$$="#f4a460",H$="#2e8b57",j$="#fff5ee",W$="#a0522d",X$="#c0c0c0",V$="#87ceeb",z$="#6a5acd",Y$="#708090",q$="#708090",K$="#fffafa",Z$="#00ff7f",J$="#4682b4",Q$="#d2b48c",eH="#008080",tH="#d8bfd8",rH="#ff6347",nH="#40e0d0",iH="#ee82ee",oH="#f5deb3",aH="#ffffff",sH="#f5f5f5",uH="#ffff00",lH="#9acd32",fH={aliceblue:wG,antiquewhite:SG,aqua:CG,aquamarine:IG,azure:AG,beige:RG,bisque:NG,black:PG,blanchedalmond:OG,blue:LG,blueviolet:kG,brown:FG,burlywood:UG,cadetblue:BG,chartreuse:DG,chocolate:MG,coral:GG,cornflowerblue:$G,cornsilk:HG,crimson:jG,cyan:WG,darkblue:XG,darkcyan:VG,darkgoldenrod:zG,darkgray:YG,darkgreen:qG,darkgrey:KG,darkkhaki:ZG,darkmagenta:JG,darkolivegreen:QG,darkorange:e9,darkorchid:t9,darkred:r9,darksalmon:n9,darkseagreen:i9,darkslateblue:o9,darkslategray:a9,darkslategrey:s9,darkturquoise:u9,darkviolet:l9,deeppink:f9,deepskyblue:c9,dimgray:h9,dimgrey:d9,dodgerblue:p9,firebrick:v9,floralwhite:_9,forestgreen:m9,fuchsia:g9,gainsboro:y9,ghostwhite:x9,goldenrod:b9,gold:E9,gray:T9,green:w9,greenyellow:S9,grey:C9,honeydew:I9,hotpink:A9,indianred:R9,indigo:N9,ivory:P9,khaki:O9,lavenderblush:L9,lavender:k9,lawngreen:F9,lemonchiffon:U9,lightblue:B9,lightcoral:D9,lightcyan:M9,lightgoldenrodyellow:G9,lightgray:$9,lightgreen:H9,lightgrey:j9,lightpink:W9,lightsalmon:X9,lightseagreen:V9,lightskyblue:z9,lightslategray:Y9,lightslategrey:q9,lightsteelblue:K9,lightyellow:Z9,lime:J9,limegreen:Q9,linen:e$,magenta:t$,maroon:r$,mediumaquamarine:n$,mediumblue:i$,mediumorchid:o$,mediumpurple:a$,mediumseagreen:s$,mediumslateblue:u$,mediumspringgreen:l$,mediumturquoise:f$,mediumvioletred:c$,midnightblue:h$,mintcream:d$,mistyrose:p$,moccasin:v$,navajowhite:_$,navy:m$,oldlace:g$,olive:y$,olivedrab:x$,orange:b$,orangered:E$,orchid:T$,palegoldenrod:w$,palegreen:S$,paleturquoise:C$,palevioletred:I$,papayawhip:A$,peachpuff:R$,peru:N$,pink:P$,plum:O$,powderblue:L$,purple:k$,rebeccapurple:F$,red:U$,rosybrown:B$,royalblue:D$,saddlebrown:M$,salmon:G$,sandybrown:$$,seagreen:H$,seashell:j$,sienna:W$,silver:X$,skyblue:V$,slateblue:z$,slategray:Y$,slategrey:q$,snow:K$,springgreen:Z$,steelblue:J$,tan:Q$,teal:eH,thistle:tH,tomato:rH,turquoise:nH,violet:iH,wheat:oH,white:aH,whitesmoke:sH,yellow:uH,yellowgreen:lH};function hu(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function dR(e){var t=e.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function pR(e){return typeof e=="string"&&(e=fH[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function cH(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[Ne.NORMAL_NPM]=Ne.NORMAL,e[Ne.ADD_NPM]=Ne.ADD,e[Ne.SCREEN_NPM]=Ne.SCREEN,t[Ne.NORMAL]=Ne.NORMAL_NPM,t[Ne.ADD]=Ne.ADD_NPM,t[Ne.SCREEN]=Ne.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}var vR=cH();function _R(e,t){return vR[t?1:0][e]}function hH(e,t,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function g1(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var r=e>>16&255,n=e>>8&255,i=e&255;return r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0,(t*255<<24)+(r<<16)+(n<<8)+i}function mR(e,t,r,n){return r=r||new Float32Array(4),r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,(n||n===void 0)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function dH(e,t){t===void 0&&(t=null);var r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function gR(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function Fd(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Hw(e){return!(e&e-1)&&!!e}function jw(e){var t=(e>65535?1:0)<<4;e>>>=t;var r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function tu(e,t,r){var n=e.length,i;if(!(t>=n||r===0)){r=t+r>n?n-t:r;var o=n-r;for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}}function Us(e){return e===0?0:e<0?-1:1}var pH=0;function Da(){return++pH}var Ww={};function Ma(e,t,r){if(r===void 0&&(r=3),!Ww[t]){var n=new Error().stack;typeof n=="undefined"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(n))),Ww[t]=!0}}var Xw={},Qn=Object.create(null),Hi=Object.create(null);function Vw(){var e;for(e in Qn)delete Qn[e];for(e in Hi)delete Hi[e]}var zw=function(){function e(t,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Ce.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,r){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(r*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),e}();function vH(e){var t=e.width,r=e.height,n=e.getContext("2d"),i=n.getImageData(0,0,t,r),o=i.data,a=o.length,s={top:null,left:null,right:null,bottom:null},l=null,c,h,p;for(c=0;c<a;c+=4)o[c+3]!==0&&(h=c/4%t,p=~~(c/4/t),s.top===null&&(s.top=p),(s.left===null||h<s.left)&&(s.left=h),(s.right===null||s.right<h)&&(s.right=h+1),(s.bottom===null||s.bottom<p)&&(s.bottom=p));return s.top!==null&&(t=s.right-s.left,r=s.bottom-s.top+1,l=n.getImageData(s.left,s.top,t,r)),{height:r,width:t,data:l}}var dh;function _H(e,t){if(t===void 0&&(t=globalThis.location),e.indexOf("data:")===0)return"";t=t||globalThis.location,dh||(dh=document.createElement("a")),dh.href=e;var r=Fs.parse(dh.href),n=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!n||r.protocol!==t.protocol?"anonymous":""}function Ud(e,t){var r=Ce.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t!==void 0?t:1}/*!
 * @pixi/math - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bd=Math.PI*2,mH=180/Math.PI,gH=Math.PI/180,Kt;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Kt||(Kt={}));var kt=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x=t,this.y=r,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),ph=[new kt,new kt,new kt,new kt],st=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Kt.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},e.prototype.intersects=function(t,r){if(!r){var n=this.x<t.x?t.x:this.x,i=this.right>t.right?t.right:this.right;if(i<=n)return!1;var o=this.y<t.y?t.y:this.y,a=this.bottom>t.bottom?t.bottom:this.bottom;return a>o}var s=this.left,l=this.right,c=this.top,h=this.bottom;if(l<=s||h<=c)return!1;var p=ph[0].set(t.left,t.top),v=ph[1].set(t.left,t.bottom),_=ph[2].set(t.right,t.top),y=ph[3].set(t.right,t.bottom);if(_.x<=p.x||v.y<=p.y)return!1;var x=Math.sign(r.a*r.d-r.b*r.c);if(x===0||(r.apply(p,p),r.apply(v,v),r.apply(_,_),r.apply(y,y),Math.max(p.x,v.x,_.x,y.x)<=s||Math.min(p.x,v.x,_.x,y.x)>=l||Math.max(p.y,v.y,_.y,y.y)<=c||Math.min(p.y,v.y,_.y,y.y)>=h))return!1;var m=x*(v.y-p.y),b=x*(p.x-v.x),T=m*s+b*c,A=m*l+b*c,P=m*s+b*h,R=m*l+b*h;if(Math.max(T,A,P,R)<=m*p.x+b*p.y||Math.min(T,A,P,R)>=m*y.x+b*y.y)return!1;var I=x*(p.y-_.y),U=x*(_.x-p.x),j=I*s+U*c,D=I*l+U*c,z=I*s+U*h,pe=I*l+U*h;return!(Math.max(j,D,z,pe)<=I*p.x+U*p.y||Math.min(j,D,z,pe)>=I*y.x+U*y.y)},e.prototype.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},e.prototype.fit=function(t){var r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0),this},e.prototype.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=o-i,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),yH=function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=t,this.y=r,this.radius=n,this.type=Kt.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,o=this.y-r;return i*=i,o*=o,i+o<=n},e.prototype.getBounds=function(){return new st(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),xH=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=r,this.width=n,this.height=i,this.type=Kt.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},e.prototype.getBounds=function(){return new st(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Jh=function(){function e(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var o=[],a=0,s=i.length;a<s;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=Kt.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),r=new e(t);return r.closeStroke=this.closeStroke,r},e.prototype.contains=function(t,r){for(var n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var s=this.points[o*2],l=this.points[o*2+1],c=this.points[a*2],h=this.points[a*2+1],p=l>r!=h>r&&t<(c-s)*((r-l)/(h-l))+s;p&&(n=!n)}return n},e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,r){return t+", "+r},"")+"]")},e}(),bH=function(){function e(t,r,n,i,o){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=t,this.y=r,this.width=n,this.height=i,this.radius=o,this.type=Kt.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;var i=t-(this.x+n),o=r-(this.y+n),a=n*n;if(i*i+o*o<=a||(i=t-(this.x+this.width-n),i*i+o*o<=a)||(o=r-(this.y+this.height-n),i*i+o*o<=a)||(i=t-(this.x+n),i*i+o*o<=a))return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},e}(),Bs=function(){function e(t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=r}return e.prototype.clone=function(t,r){return t===void 0&&(t=this.cb),r===void 0&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),nr=function(){function e(t,r,n,i,o,a){t===void 0&&(t=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,r,n,i,o,a){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a,this},e.prototype.toArray=function(t,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(t,r){r=r||new kt;var n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},e.prototype.applyInverse=function(t,r){r=r||new kt;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return r.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},e.prototype.translate=function(t,r){return this.tx+=t,this.ty+=r,this},e.prototype.scale=function(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this},e.prototype.rotate=function(t){var r=Math.cos(t),n=Math.sin(t),i=this.a,o=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},e.prototype.append=function(t){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*o,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*o,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this},e.prototype.setTransform=function(t,r,n,i,o,a,s,l,c){return this.a=Math.cos(s+c)*o,this.b=Math.sin(s+c)*o,this.c=-Math.sin(s-l)*a,this.d=Math.cos(s-l)*a,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},e.prototype.prepend=function(t){var r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var r=this.a,n=this.b,i=this.c,o=this.d,a=t.pivot,s=-Math.atan2(-i,o),l=Math.atan2(n,r),c=Math.abs(s+l);return c<1e-5||Math.abs(Bd-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=l),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(a.x*r+a.y*i),t.position.y=this.ty+(a.x*n+a.y*o),t},e.prototype.invert=function(){var t=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,a=t*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(t*this.ty-r*o)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),ya=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xa=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ba=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ea=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hy=[],yR=[],vh=Math.sign;function EH(){for(var e=0;e<16;e++){var t=[];hy.push(t);for(var r=0;r<16;r++)for(var n=vh(ya[e]*ya[r]+ba[e]*xa[r]),i=vh(xa[e]*ya[r]+Ea[e]*xa[r]),o=vh(ya[e]*ba[r]+ba[e]*Ea[r]),a=vh(xa[e]*ba[r]+Ea[e]*Ea[r]),s=0;s<16;s++)if(ya[s]===n&&xa[s]===i&&ba[s]===o&&Ea[s]===a){t.push(s);break}}for(var e=0;e<16;e++){var l=new nr;l.set(ya[e],xa[e],ba[e],Ea[e],0,0),yR.push(l)}}EH();var jt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return ya[e]},uY:function(e){return xa[e]},vX:function(e){return ba[e]},vY:function(e){return Ea[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return hy[e][t]},sub:function(e,t){return hy[e][jt.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?jt.S:jt.N:Math.abs(t)*2<=Math.abs(e)?e>0?jt.E:jt.W:t>0?e>0?jt.SE:jt.SW:e>0?jt.NE:jt.NW},matrixAppendRotationInv:function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=yR[jt.inv(t)];i.tx=r,i.ty=n,e.append(i)}},xR=function(){function e(){this.worldTransform=new nr,this.localTransform=new nr,this.position=new Bs(this.onChange,this,0,0),this.scale=new Bs(this.onChange,this,1,1),this.pivot=new Bs(this.onChange,this,0,0),this.skew=new Bs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();/*!
 * @pixi/display - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ce.SORTABLE_CHILDREN=!1;var Tf=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?st.EMPTY:(t=t||new st(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addPointMatrix=function(t,r){var n=t.a,i=t.b,o=t.c,a=t.d,s=t.tx,l=t.ty,c=n*r.x+o*r.y+s,h=i*r.x+a*r.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)},e.prototype.addQuad=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=t[0],s=t[1];r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[2],s=t[3],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[4],s=t[5],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[6],s=t[7],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},e.prototype.addFrame=function(t,r,n,i,o){this.addFrameMatrix(t.worldTransform,r,n,i,o)},e.prototype.addFrameMatrix=function(t,r,n,i,o){var a=t.a,s=t.b,l=t.c,c=t.d,h=t.tx,p=t.ty,v=this.minX,_=this.minY,y=this.maxX,x=this.maxY,m=a*r+l*n+h,b=s*r+c*n+p;v=m<v?m:v,_=b<_?b:_,y=m>y?m:y,x=b>x?b:x,m=a*i+l*n+h,b=s*i+c*n+p,v=m<v?m:v,_=b<_?b:_,y=m>y?m:y,x=b>x?b:x,m=a*r+l*o+h,b=s*r+c*o+p,v=m<v?m:v,_=b<_?b:_,y=m>y?m:y,x=b>x?b:x,m=a*i+l*o+h,b=s*i+c*o+p,v=m<v?m:v,_=b<_?b:_,y=m>y?m:y,x=b>x?b:x,this.minX=v,this.minY=_,this.maxX=y,this.maxY=x},e.prototype.addVertexData=function(t,r,n){for(var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY,l=r;l<n;l+=2){var c=t[l],h=t[l+1];i=c<i?c:i,o=h<o?h:o,a=c>a?c:a,s=h>s?h:s}this.minX=i,this.minY=o,this.maxX=a,this.maxY=s},e.prototype.addVertices=function(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)},e.prototype.addVerticesMatrix=function(t,r,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var s=t.a,l=t.b,c=t.c,h=t.d,p=t.tx,v=t.ty,_=this.minX,y=this.minY,x=this.maxX,m=this.maxY,b=n;b<i;b+=2){var T=r[b],A=r[b+1],P=s*T+c*A+p,R=h*A+l*T+v;_=Math.min(_,P-o),x=Math.max(x,P+o),y=Math.min(y,R-a),m=Math.max(m,R+a)}this.minX=_,this.minY=y,this.maxX=x,this.maxY=m},e.prototype.addBounds=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>o?t.maxY:o},e.prototype.addBoundsMask=function(t,r){var n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,o=t.maxX<r.maxX?t.maxX:r.maxX,a=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=o&&i<=a){var s=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=n<s?n:s,this.minY=i<l?i:l,this.maxX=o>c?o:c,this.maxY=a>h?a:h}},e.prototype.addBoundsMatrix=function(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,r){var n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,o=t.maxX<r.x+r.width?t.maxX:r.x+r.width,a=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=o&&i<=a){var s=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=n<s?n:s,this.minY=i<l?i:l,this.maxX=o>c?o:c,this.maxY=a>h?a:h}},e.prototype.pad=function(t,r){t===void 0&&(t=0),r===void 0&&(r=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)},e.prototype.addFramePad=function(t,r,n,i,o,a){t-=o,r-=a,n+=o,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dy=function(e,t){return dy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dy(e,t)};function y1(e,t){dy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ir=function(e){y1(t,e);function t(){var r=e.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new xR,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Tf,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return t.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(r,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new st),n=this._boundsRect),this._bounds.getRectangle(n)},t.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new st),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Tf);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-a,s},t.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},t.prototype.toLocal=function(r,n,i,o){return n&&(r=n.toGlobal(r,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},t.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},t.prototype.setTransform=function(r,n,i,o,a,s,l,c,h){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=s,this.skew.y=l,this.pivot.x=c,this.pivot.y=h,this},t.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new bR),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},t.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*mH},set:function(r){this.transform.rotation=r*gH},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),t}(Mf),bR=function(e){y1(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.sortDirty=null,r}return t}(ir);ir.prototype.displayObjectUpdateTransform=ir.prototype.updateTransform;/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yw;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Yw||(Yw={}));var qw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(qw||(qw={}));var Kw;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Kw||(Kw={}));var Zw;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Zw||(Zw={}));var Jw;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Jw||(Jw={}));var Qw;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Qw||(Qw={}));var eS;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(eS||(eS={}));var tS;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(tS||(tS={}));var rS;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(rS||(rS={}));var nS;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(nS||(nS={}));var iS;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(iS||(iS={}));var oS;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(oS||(oS={}));var aS;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(aS||(aS={}));var sS;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(sS||(sS={}));var uS;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(uS||(uS={}));var lS;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(lS||(lS={}));var py;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(py||(py={}));var fS;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(fS||(fS={}));var cS;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(cS||(cS={}));function TH(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var Rr=function(e){y1(t,e);function t(){var r=e.call(this)||this;return r.children=[],r.sortableChildren=Ce.SORTABLE_CHILDREN,r.sortDirty=!1,r}return t.prototype.onChildrenChange=function(r){},t.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},t.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},t.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=r,this.onChildrenChange(i<o?i:o)}},t.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},t.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);tu(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},t.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},t.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var a=n[0],s=this.children.indexOf(a);if(s===-1)return null;a.parent=null,a.transform._parentID=-1,tu(this.children,s,1),this._boundsID++,this.onChildrenChange(s),a.emit("removed",this),this.emit("childRemoved",a,this,s)}return n[0]},t.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,tu(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},t.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,o=n,a=o-i,s;if(a>0&&a<=o){s=this.children.splice(i,a);for(var l=0;l<s.length;++l)s[l].parent=null,s[l].transform&&(s[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var l=0;l<s.length;++l)s[l].emit("removed",this),this.emit("childRemoved",s[l],this,l);return s}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!r&&o.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(TH),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=e.prototype.getLocalBounds.call(this,r);if(!n)for(var o=0,a=this.children.length;o<a;++o){var s=this.children[o];s.visible&&s.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,o))this._render(r);else if(this.cullArea)return;for(var a=0,s=this.children.length;a<s;++a){var l=this.children[a],c=l.cullable;l.cullable=c||!this.cullArea,l.render(r),l.cullable=c}}},t.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},t.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o])}var a=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==py.NONE));if(a&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var o=0,s=this.children.length;o<s;++o)this.children[o].render(r)}a&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},t.prototype._render=function(r){},t.prototype.destroy=function(r){e.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),t}(ir);Rr.prototype.containerUpdateTransform=Rr.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wH={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ir.mixin(wH);var SH=9,_h=100,CH=0,IH=0,hS=2,dS=1,AH=-1e3,RH=-1e3,NH=2,PH=function(){function e(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(gi.tablet||gi.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=_h+"px",r.style.height=_h+"px",r.style.position="absolute",r.style.top=CH+"px",r.style.left=IH+"px",r.style.zIndex=hS.toString(),this.div=r,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,r=document.createElement("button");r.style.width=dS+"px",r.style.height=dS+"px",r.style.position="absolute",r.style.top=AH+"px",r.style.left=RH+"px",r.style.zIndex=NH.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},e.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},e.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var r=t.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},e.prototype.update=function(){var t=performance.now();if(!(gi.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,o=r.width,a=r.height,s=this.renderer,l=s.width,c=s.height,h=s.resolution,p=o/l*h,v=a/c*h,_=this.div;_.style.left=n+"px",_.style.top=i+"px",_.style.width=l+"px",_.style.height=c+"px";for(var y=0;y<this.children.length;y++){var x=this.children[y];if(x.renderId!==this.renderId)x._accessibleActive=!1,tu(this.children,y,1),this.div.removeChild(x._accessibleDiv),this.pool.push(x._accessibleDiv),x._accessibleDiv=null,y--;else{_=x._accessibleDiv;var m=x.hitArea,b=x.worldTransform;x.hitArea?(_.style.left=(b.tx+m.x*b.a)*p+"px",_.style.top=(b.ty+m.y*b.d)*v+"px",_.style.width=m.width*b.a*p+"px",_.style.height=m.height*b.d*v+"px"):(m=x.getBounds(),this.capHitArea(m),_.style.left=m.x*p+"px",_.style.top=m.y*v+"px",_.style.width=m.width*p+"px",_.style.height=m.height*v+"px",_.title!==x.accessibleTitle&&x.accessibleTitle!==null&&(_.title=x.accessibleTitle),_.getAttribute("aria-label")!==x.accessibleHint&&x.accessibleHint!==null&&_.setAttribute("aria-label",x.accessibleHint)),(x.accessibleTitle!==_.title||x.tabIndex!==_.tabIndex)&&(_.title=x.accessibleTitle,_.tabIndex=x.tabIndex,this.debug&&this.updateDebugHTML(_))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var r=this.renderer,n=r.width,i=r.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>i&&(t.height=i-t.y)},e.prototype.addChild=function(t){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=_h+"px",r.style.height=_h+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=hS.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},e.prototype._onKeyDown=function(t){t.keyCode===SH&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();/*!
 * @pixi/ticker - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ce.TARGET_FPMS=.06;var ro;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(ro||(ro={}));var wm=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}return e.prototype.match=function(t,r){return r===void 0&&(r=null),this.fn===t&&this.context===r},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=t?null:r,this.previous=null,r},e}(),mr=function(){function e(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new wm(null,null,1/0),this.deltaMS=1/Ce.TARGET_FPMS,this.elapsedMS=1/Ce.TARGET_FPMS,this._tick=function(r){t._requestId=null,t.started&&(t.update(r),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,r,n){return n===void 0&&(n=ro.NORMAL),this._addListener(new wm(t,r,n))},e.prototype.addOnce=function(t,r,n){return n===void 0&&(n=ro.NORMAL),this._addListener(new wm(t,r,n,!0))},e.prototype._addListener=function(t){var r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this},e.prototype.remove=function(t,r){for(var n=this._head.next;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,r=this._head;r=r.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ce.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,Ce.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),OH=function(){function e(){}return e.init=function(t){var r=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ro.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?mr.shared:new mr,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}();/*!
 * @pixi/interaction - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pS=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new kt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var r="buttons"in t&&t.buttons;this.buttons=Number.isInteger(r)?r:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vy=function(e,t){return vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vy(e,t)};function LH(e,t){vy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var kH=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Sm=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,r){r?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),e}(),FH=function(){function e(){this._tempPoint=new kt}return e.prototype.recursiveFindHit=function(t,r,n,i,o){if(!r||!r.visible)return!1;var a=t.data.global;o=r.interactive||o;var s=!1,l=o,c=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,c=!1)),l=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(a)||(i=!1)),c&&r.interactiveChildren&&r.children)for(var h=r.children,p=h.length-1;p>=0;p--){var v=h[p],_=this.recursiveFindHit(t,v,n,i,l);if(_){if(!v.parent)continue;l=!1,_&&(t.target&&(i=!1),s=!0)}}return o&&(i&&!t.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(s=!0),r.interactive&&(s&&!t.target&&(t.target=r),n&&n(t,r,!!s))),s},e.prototype.findHit=function(t,r,n,i){this.recursiveFindHit(t,r,n,i,!1)},e}(),UH={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ir.mixin(UH);var mh=1,gh={target:null,data:{global:null}},BH=function(e){LH(t,e);function t(r,n){var i=e.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new pS,i.mouse.identifier=mh,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[mh]=i.mouse,i.interactionDataPool=[],i.eventData=new kH,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new FH,i._tempDisplayObject=new bR,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(r,n){return gh.target=null,gh.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(gh,n,null,!0),gh.target},t.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(mr.system.add(this.tickerUpdate,this,ro.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(mr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},t.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},t.prototype.mapPositionToPoint=function(r,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;r.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*a,r.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},t.prototype.processInteractive=function(r,n,i,o){var a=this.search.findHit(r,n,i,o),s=this.delayedEvents;if(!s.length)return a;r.stopPropagationHint=!1;var l=s.length;this.delayedEvents=[];for(var c=0;c<l;c++){var h=s[c],p=h.displayObject,v=h.eventString,_=h.eventData;_.stopsPropagatingAt===p&&(_.stopPropagationHint=!0),this.dispatchEvent(p,v,_)}return a},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var o=n.length,a=0;a<o;a++){var s=n[a],l=this.getInteractionDataForPointerId(s),c=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),s.pointerType==="touch")this.emit("touchstart",c);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var h=s.button===2;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,n,i){var o=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new Sm(a)),this.dispatchEvent(n,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;s?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,n,i){for(var o=this.normalizeToPointerData(r),a=o.length,s=r.target!==this.interactionDOMElement?"outside":"",l=0;l<a;l++){var c=o[l],h=this.getInteractionDataForPointerId(c),p=this.configureInteractionEventForDOMEvent(this.eventData,c,h);if(p.data.originalEvent=r,this.processInteractive(p,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,p),c.pointerType==="mouse"||c.pointerType==="pen"){var v=c.button===2;this.emit(v?"rightup"+s:"mouseup"+s,p)}else c.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,p),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,n){var i=r.data,o=r.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,n,i){var o=r.data,a=r.data.identifier,s=n.trackedPointers[a],l=o.pointerType==="touch",c=o.pointerType==="mouse"||o.pointerType==="pen",h=!1;if(c){var p=o.button===2,v=Sm.FLAGS,_=p?v.RIGHT_DOWN:v.LEFT_DOWN,y=s!==void 0&&s.flags&_;i?(this.dispatchEvent(n,p?"rightup":"mouseup",r),y&&(this.dispatchEvent(n,p?"rightclick":"click",r),h=!0)):y&&this.dispatchEvent(n,p?"rightupoutside":"mouseupoutside",r),s&&(p?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),l&&this.dispatchEvent(n,"touchend",r),s&&((!c||h)&&this.dispatchEvent(n,"pointertap",r),l&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),l&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[a]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var a=n[o],s=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,s);l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),a.pointerType==="touch"&&this.emit("touchmove",l),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",l)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,n,i){var o=r.data,a=o.pointerType==="touch",s=o.pointerType==="mouse"||o.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,n,i){var o=r.data,a=r.data.identifier,s=o.pointerType==="mouse"||o.pointerType==="pen",l=n.trackedPointers[a];i&&!l&&(l=n.trackedPointers[a]=new Sm(a)),l!==void 0&&(i&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):l.over&&(l.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),l.none&&delete n.trackedPointers[a]))},t.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)},t.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===mh||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new pS,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},t.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},t.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,o=r.changedTouches.length;i<o;i++){var a=r.changedTouches[i];typeof a.button=="undefined"&&(a.button=r.touches.length?1:0),typeof a.buttons=="undefined"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary=="undefined"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width=="undefined"&&(a.width=a.radiusX||1),typeof a.height=="undefined"&&(a.height=a.radiusY||1),typeof a.tiltX=="undefined"&&(a.tiltX=0),typeof a.tiltY=="undefined"&&(a.tiltY=0),typeof a.pointerType=="undefined"&&(a.pointerType="touch"),typeof a.pointerId=="undefined"&&(a.pointerId=a.identifier||0),typeof a.pressure=="undefined"&&(a.pressure=a.force||.5),typeof a.twist=="undefined"&&(a.twist=0),typeof a.tangentialPressure=="undefined"&&(a.tangentialPressure=0),typeof a.layerX=="undefined"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY=="undefined"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary=="undefined"&&(s.isPrimary=!0),typeof s.width=="undefined"&&(s.width=1),typeof s.height=="undefined"&&(s.height=1),typeof s.tiltX=="undefined"&&(s.tiltX=0),typeof s.tiltY=="undefined"&&(s.tiltY=0),typeof s.pointerType=="undefined"&&(s.pointerType="mouse"),typeof s.pointerId=="undefined"&&(s.pointerId=mh),typeof s.pressure=="undefined"&&(s.pressure=.5),typeof s.twist=="undefined"&&(s.twist=0),typeof s.tangentialPressure=="undefined"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(Mf);/*!
 * @pixi/runner - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Br=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,r,n,i,o,a,s,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,h=c.name,p=c.items;this._aliasCount++;for(var v=0,_=p.length;v<_;v++)p[v][h](t,r,n,i,o,a,s,l);return p===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Br.prototype,{dispatch:{value:Br.prototype.emit},run:{value:Br.prototype.emit}});/*!
 * @pixi/core - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ce.PREFER_ENV=gi.any?eo.WEBGL:eo.WEBGL2;Ce.STRICT_TEXTURE_CACHE=!1;var Dd=[];function x1(e,t){if(!e)return null;var r="";if(typeof e=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(var i=Dd.length-1;i>=0;--i){var o=Dd[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _y=function(e,t){return _y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_y(e,t)};function Ct(e,t){_y(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var my=function(){return my=Object.assign||function(t){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},my.apply(this,arguments)};function DH(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]]);return r}var du=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Br("setRealSize"),this.onUpdate=new Br("update"),this.onError=new Br("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,r,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,r){return!1},e}(),Cu=function(e){Ct(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height;if(!a||!s)throw new Error("BufferResource width or height invalid");return i=e.call(this,a,s)||this,i.data=r,i}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===oi.UNPACK);var a=n.realWidth,s=n.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(n.target,0,0,0,a,s,n.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(n.target,0,i.internalFormat,a,s,0,n.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(du),MH={scaleMode:Yi.NEAREST,format:se.RGBA,alphaMode:oi.NPM},rt=function(e){Ct(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=e.call(this)||this;n=n||{};var o=n.alphaMode,a=n.mipmap,s=n.anisotropicLevel,l=n.scaleMode,c=n.width,h=n.height,p=n.wrapMode,v=n.format,_=n.type,y=n.target,x=n.resolution,m=n.resourceOptions;return r&&!(r instanceof du)&&(r=x1(r,m),r.internal=!0),i.resolution=x||Ce.RESOLUTION,i.width=Math.round((c||0)*i.resolution)/i.resolution,i.height=Math.round((h||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:Ce.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:Ce.ANISOTROPIC_LEVEL,i._wrapMode=p||Ce.WRAP_MODE,i._scaleMode=l!==void 0?l:Ce.SCALE_MODE,i.format=v||se.RGBA,i.type=_||Ae.UNSIGNED_BYTE,i.target=y||Pa.TEXTURE_2D,i.alphaMode=o!==void 0?o:oi.UNPACK,i.uid=Da(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=c>0&&h>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},t.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Hw(this.realWidth)&&Hw(this.realHeight)},t.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(r){this.emit("error",this,r)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Hi[this.cacheId],delete Qn[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(r,n,i){i===void 0&&(i=Ce.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Da()}a=r._pixiId}var l=Hi[a];if(o&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return l||(l=new t(r,n),l.cacheId=a,t.addToCache(l,a)),l},t.fromBuffer=function(r,n,i,o){r=r||new Float32Array(n*i*4);var a=new Cu(r,{width:n,height:i}),s=r instanceof Float32Array?Ae.FLOAT:Ae.UNSIGNED_BYTE;return new t(a,Object.assign(MH,o||{width:n,height:i,type:s}))},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Hi[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Hi[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=Hi[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Hi[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete Hi[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},t._globalBatch=0,t}(Mf),b1=function(e){Ct(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height;i=e.call(this,a,s)||this,i.items=[],i.itemDirtyIds=[];for(var l=0;l<r;l++){var c=new rt;i.items.push(c),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)!r[i]||(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof du?this.addResourceAt(r[i],i):this.addResourceAt(x1(r[i],n),i))},t.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},t.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=r.items[0],a=o.realWidth,s=o.realHeight;return r.resize(a,s),Promise.resolve(r)}),this._load},t}(du),ER=function(e){Ct(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height,l,c;return Array.isArray(r)?(l=r,c=r.length):c=r,i=e.call(this,c,{width:a,height:s})||this,l&&i.initFromArray(l,n),i}return t.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=Pa.TEXTURE_2D_ARRAY},t.prototype.upload=function(r,n,i){var o=this,a=o.length,s=o.itemDirtyIds,l=o.items,c=r.gl;i.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,n.format,i.type,null);for(var h=0;h<a;h++){var p=l[h];s[h]<p.dirtyId&&(s[h]=p.dirtyId,p.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,h,p.resource.width,p.resource.height,1,n.format,i.type,p.resource.source))}return!0},t}(b1),no=function(e){Ct(t,e);function t(r){var n=this,i=r,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=e.call(this,o,a)||this,n.source=r,n.noSubImage=!1,n}return t.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=_H(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(r,n,i,o){var a=r.gl,s=n.realWidth,l=n.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===oi.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===s&&i.height===l?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,i.type,o):(i.width=s,i.height=l,a.texImage2D(n.target,0,i.internalFormat,n.format,i.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(du),E1=function(e){Ct(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},t}(no),TR=function(e){Ct(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var h=0;h<t.SIDES;h++)i.items[h].target=Pa.TEXTURE_CUBE_MAP_POSITIVE_X+h;return i.linkBaseTexture=c!==!1,r&&i.initFromArray(r,n),l!==!1&&i.load(),i}return t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=Pa.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=Pa.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},t.prototype.upload=function(r,n,i){for(var o=this.itemDirtyIds,a=0;a<t.SIDES;a++){var s=this.items[a];o[a]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),o[a]=s.dirtyId):o[a]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0},t.test=function(r){return Array.isArray(r)&&r.length===t.SIDES},t.SIDES=6,t}(b1),T1=function(e){Ct(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var o=new Image;no.crossOrigin(o,r,n.crossorigin),o.src=r,r=o}return i=e.call(this,r)||this,!r.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,o){var a=n.source;n.url=a.src;var s=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?s():(a.onload=s,a.onerror=function(l){o(l),n.onError.emit(l)})}),this._load)},t.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:o?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===oi.UNPACK?"premultiply":"none"})}).then(function(a){return r.destroyed?Promise.reject():(r.bitmap=a,r.update(),r._process=null,Promise.resolve(r))}),this._process},t.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var o=!0,a=n._glTextures;for(var s in a){var l=a[s];if(l!==i&&l.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},t}(no),wR=function(e){Ct(t,e);function t(r,n){var i=this;return n=n||{},i=e.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},t.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,n=new Image;no.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!r._resolve||(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(!!r._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,s=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/o*i,s=r._overrideHeight||r._overrideWidth/i*o),a=Math.round(a),s=Math.round(s);var l=r.source;l.width=a,l.height=s,l._pixiId="canvas_"+Da(),l.getContext("2d").drawImage(n,0,0,i,o,0,0,a,s),r._resolve(),r._resolve=null}}},t.getSize=function(r){var n=t.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&t.SVG_XML.test(r)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(no),SR=function(e){Ct(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];no.crossOrigin(o,a,n.crossorigin);for(var s=0;s<r.length;++s){var l=document.createElement("source"),c=r[s],h=c.src,p=c.mime;h=h||r[s];var v=h.split("?").shift().toLowerCase(),_=v.slice(v.lastIndexOf(".")+1);p=p||t.MIME_TYPES[_]||"video/"+_,l.src=h,l.type=p,o.appendChild(l)}r=o}return i=e.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(r){if(!this.destroyed){var n=mr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},t.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},t.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},t.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(mr.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(mr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),t.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(no),CR=function(e){Ct(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},t}(no);Dd.push(T1,CR,E1,SR,wR,Cu,TR,ER);var IR={__proto__:null,Resource:du,BaseImageResource:no,INSTALLED:Dd,autoDetectResource:x1,AbstractMultiResource:b1,ArrayResource:ER,BufferResource:Cu,CanvasResource:E1,CubeResource:TR,ImageResource:T1,SVGResource:wR,VideoResource:SR,ImageBitmapResource:CR},GH=function(e){Ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===oi.UNPACK);var a=n.realWidth,s=n.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(n.target,0,0,0,a,s,n.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(n.target,0,i.internalFormat,a,s,0,n.format,i.type,this.data)),!0},t}(Cu),gy=function(){function e(t,r){this.width=Math.round(t||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Br("disposeFramebuffer"),this.multisample=ar.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,r){return t===void 0&&(t=0),this.colorTextures[t]=r||new rt(null,{scaleMode:Yi.NEAREST,resolution:1,mipmap:to.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new rt(new GH(null,{width:this.width,height:this.height}),{scaleMode:Yi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:to.OFF,format:se.DEPTH_COMPONENT,type:Ae.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,r){if(t=Math.round(t),r=Math.round(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(t/o,r/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,r/o)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),AR=function(e){Ct(t,e);function t(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];r={width:i,height:o,scaleMode:a,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:ar.NONE,n=e.call(this,null,r)||this,n.mipmap=to.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new gy(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return t.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(rt),RR=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,r,n){var i=r.width,o=r.height;if(n){var a=t.width/2/i,s=t.height/2/o,l=t.x/i+a,c=t.y/o+s;n=jt.add(n,jt.NW),this.x0=l+a*jt.uX(n),this.y0=c+s*jt.uY(n),n=jt.add(n,2),this.x1=l+a*jt.uX(n),this.y1=c+s*jt.uY(n),n=jt.add(n,2),this.x2=l+a*jt.uX(n),this.y2=c+s*jt.uY(n),n=jt.add(n,2),this.x3=l+a*jt.uX(n),this.y3=c+s*jt.uY(n)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},e}(),vS=new RR,Pe=function(e){Ct(t,e);function t(r,n,i,o,a,s){var l=e.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new st(0,0,1,1)),r instanceof t&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=o,l.valid=!1,l._uvs=vS,l.uvMatrix=null,l.orig=i||n,l._rotate=Number(a||0),a===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new kt(s.x,s.y):new kt(0,0),l._updateID=0,l.textureCacheIds=[],r.valid?l.noFrame?r.valid&&l.onBaseTextureUpdated(r):l.frame=n:r.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&r.on("update",l.onBaseTextureUpdated,l),l}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Qn[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},t.prototype.updateUvs=function(){this._uvs===vS&&(this._uvs=new RR),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Ce.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else if(r instanceof rt){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+Da(),rt.addToCache(r,r.cacheId)}a=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Da()}a=r._pixiId}var l=Qn[a];if(o&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!l&&!(r instanceof rt)?(n.resolution||(n.resolution=Ud(r)),l=new t(new rt(r,n)),l.baseTexture.cacheId=a,rt.addToCache(l.baseTexture,a),t.addToCache(l,a)):!l&&r instanceof rt&&(l=new t(r),t.addToCache(l,a)),l},t.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),o=t.from(r,Object.assign({resourceOptions:i},n),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(r,n,i,o){return new t(rt.fromBuffer(r,n,i,o))},t.fromLoader=function(r,n,i,o){var a=new rt(r,Object.assign({scaleMode:Ce.SCALE_MODE,resolution:Ud(n)},o)),s=a.resource;s instanceof T1&&(s.url=n);var l=new t(a);return i||(i=n),rt.addToCache(l.baseTexture,i),t.addToCache(l,i),i!==n&&(rt.addToCache(l.baseTexture,n),t.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Qn[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Qn[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=Qn[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Qn[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)Qn[r.textureCacheIds[o]]===r&&delete Qn[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,o=r.width,a=r.height,s=n+o>this.baseTexture.width,l=i+a>this.baseTexture.height;if(s||l){var c=s&&l?"and":"or",h="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,p="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(h+" "+c+" "+p))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(Mf);function $H(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Pe(new rt(new E1(e)))}function Ep(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Pe.EMPTY=new Pe(new rt);Ep(Pe.EMPTY);Ep(Pe.EMPTY.baseTexture);Pe.WHITE=$H();Ep(Pe.WHITE);Ep(Pe.WHITE.baseTexture);var Ga=function(e){Ct(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,a=Math.round(r*o)/o,s=Math.round(n*o)/o;this.valid=a>0&&s>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(a,s),this.updateUvs()},t.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},t.create=function(r){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return typeof r=="number"&&(Ma("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new AR(r))},t}(Pe),HH=function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,r,n){n===void 0&&(n=ar.NONE);var i=new AR(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new Ga(i)},e.prototype.getOptimalTexture=function(t,r,n,i){n===void 0&&(n=1),i===void 0&&(i=ar.NONE);var o;t=Math.ceil(t*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=Fd(t),r=Fd(r),o=((t&65535)<<16|r&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var a=this.texturePool[o].pop();return a||(a=this.createTexture(t,r,i)),a.filterPoolKey=o,a.setResolution(n),a},e.prototype.getFilterTexture=function(t,r,n){var i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||ar.NONE);return i.filterFrame=t.filterFrame,i},e.prototype.returnTexture=function(t){var r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY=-1,e}(),_S=function(){function e(t,r,n,i,o,a,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=Ae.FLOAT),this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,n,i,o){return new e(t,r,n,i,o)},e}(),jH=0,lr=function(){function e(t,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=jH++,this.disposeRunner=new Br("disposeBuffer")}return e.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===wi.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?wi.ELEMENT_ARRAY_BUFFER:wi.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),WH={Float32Array,Uint32Array,Int32Array,Uint8Array};function XH(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;for(var a=new ArrayBuffer(r*4),s=null,l=0,o=0;o<e.length;o++){var c=t[o],h=e[o],p=gR(h);i[p]||(i[p]=new WH[p](a)),s=i[p];for(var v=0;v<h.length;v++){var _=(v/c|0)*n+l,y=v%c;s[_+y]=h[v]}l+=c}return new Float32Array(a)}var mS={5126:4,5123:2,5121:1},VH=0,zH={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Gf=function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=VH++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Br("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,r,n,i,o,a,s,l){if(n===void 0&&(n=0),i===void 0&&(i=!1),l===void 0&&(l=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof lr||(r instanceof Array&&(r=new Float32Array(r)),r=new lr(r));var c=t.split("|");if(c.length>1){for(var h=0;h<c.length;h++)this.addAttribute(c[h],r,n,i,o);return this}var p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[t]=new _S(p,n,i,o,a,s,l),this.instanced=this.instanced||l,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof lr||(t instanceof Array&&(t=new Uint16Array(t)),t=new lr(t)),t.type=wi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],r=[],n=new lr,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];t.push(a.data),r.push(o.size*mS[o.type]/4),o.buffer=0}for(n.data=XH(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var r=this.attributes[t],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new lr(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];t.attributes[r]=new _S(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=wi.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var r=new e,n=[],i=[],o=[],a,s=0;s<t.length;s++){a=t[s];for(var l=0;l<a.buffers.length;l++)i[l]=i[l]||0,i[l]+=a.buffers[l].data.length,o[l]=0}for(var s=0;s<a.buffers.length;s++)n[s]=new zH[gR(a.buffers[s].data)](i[s]),r.buffers[s]=new lr(n[s]);for(var s=0;s<t.length;s++){a=t[s];for(var l=0;l<a.buffers.length;l++)n[l].set(a.buffers[l].data,o[l]),o[l]+=a.buffers[l].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=wi.ELEMENT_ARRAY_BUFFER;for(var c=0,h=0,p=0,v=0,s=0;s<a.buffers.length;s++)if(a.buffers[s]!==a.indexBuffer){v=s;break}for(var s in a.attributes){var _=a.attributes[s];(_.buffer|0)===v&&(h+=_.size*mS[_.type]/4)}for(var s=0;s<t.length;s++){for(var y=t[s].indexBuffer.data,l=0;l<y.length;l++)r.indexBuffer.data[l+p]+=c;c+=t[s].buffers[v].data.length/h,p+=y.length}}return r},e}(),YH=function(e){Ct(t,e);function t(){var r=e.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return t}(Gf),NR=function(e){Ct(t,e);function t(){var r=e.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new lr(r.vertices),r.uvBuffer=new lr(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return t.prototype.map=function(r,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/r.width,this.uvs[3]=o,this.uvs[4]=i+n.width/r.width,this.uvs[5]=o+n.height/r.height,this.uvs[6]=i,this.uvs[7]=o+n.height/r.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Gf),qH=0,Oa=function(){function e(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=qH++,this.static=!!r,this.ubo=!!n,t instanceof lr?(this.buffer=t,this.buffer.type=wi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new lr(new Float32Array(1)),this.buffer.type=wi.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,r,n){if(!this.ubo)this.uniforms[t]=new e(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},e.from=function(t,r,n){return new e(t,r,n)},e.uboFrom=function(t,r){return new e(t,r!=null?r:!0,!0)},e}(),KH=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ar.NONE,this.sourceFrame=new st,this.destinationFrame=new st,this.bindingSourceFrame=new st,this.bindingDestinationFrame=new st,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),yh=[new kt,new kt,new kt,new kt],Cm=new nr,PR=function(){function e(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new HH,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new YH,this.quadUv=new NR,this.tempRect=new st,this.activeState={},this.globalUniforms=new Oa({outputFrame:new st,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(t,r){for(var n,i,o=this.renderer,a=this.defaultFilterStack,s=this.statePool.pop()||new KH,l=this.renderer.renderTexture,c=r[0].resolution,h=r[0].multisample,p=r[0].padding,v=r[0].autoFit,_=(n=r[0].legacy)!==null&&n!==void 0?n:!0,y=1;y<r.length;y++){var x=r[y];c=Math.min(c,x.resolution),h=Math.min(h,x.multisample),p=this.useMaxPadding?Math.max(p,x.padding):p+x.padding,v=v&&x.autoFit,_=_||((i=x.legacy)!==null&&i!==void 0?i:!0)}if(a.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),a.push(s),s.resolution=c,s.multisample=h,s.legacy=_,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(p),v){var m=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(Cm.copyFrom(o.projection.transform).invert(),m),s.sourceFrame.fit(m)}this.roundFrame(s.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,h),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var b=this.tempRect;b.x=0,b.y=0,b.width=s.sourceFrame.width,b.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(l.sourceFrame),s.bindingDestinationFrame.copyFrom(l.destinationFrame),s.transform=o.projection.transform,o.projection.transform=null,l.bind(s.renderTexture,s.sourceFrame,b),o.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var o=i.inputSize,a=i.inputPixel,s=i.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*r.resolution),a[1]=Math.round(o[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=r.sourceFrame.width*o[2]-.5*a[2],s[3]=r.sourceFrame.height*o[3]-.5*a[3],r.legacy){var l=i.filterArea;l[0]=r.destinationFrame.width,l[1]=r.destinationFrame.height,l[2]=r.sourceFrame.x,l[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Eo.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var h=r.renderTexture,p=this.getOptimalFilterTexture(h.width,h.height,r.resolution);p.filterFrame=h.filterFrame;var v=0;for(v=0;v<n.length-1;++v){v===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(h.width,h.height,r.resolution),p.filterFrame=h.filterFrame),n[v].apply(this,h,p,Eo.CLEAR,r);var _=h;h=p,p=_}n[v].apply(this,h,c.renderTexture,Eo.BLEND,r),v>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)},e.prototype.bindAndClear=function(t,r){r===void 0&&(r=Eo.CLEAR);var n=this.renderer,i=n.renderTexture,o=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,i.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=o.stateId&1||this.forceClear;(r===Eo.CLEAR||r===Eo.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,r,n,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(ni.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(ni.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,r){var n=this.activeState,i=n.sourceFrame,o=n.destinationFrame,a=r._texture.orig,s=t.set(o.width,0,0,o.height,i.x,i.y),l=r.worldTransform.copyTo(nr.TEMP_MATRIX);return l.invert(),s.prepend(l),s.scale(1/a.width,1/a.height),s.translate(r.anchor.x,r.anchor.y),s},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=ar.NONE),this.texturePool.getOptimalTexture(t,r,n,i)},e.prototype.getFilterTexture=function(t,r,n){if(typeof t=="number"){var i=t;t=r,r=i}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||ar.NONE);return o.filterFrame=t.filterFrame,o},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,r){var n=yh[0],i=yh[1],o=yh[2],a=yh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),o.set(r.right,r.top),a.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(o,o),t.apply(a,a);var s=Math.min(n.x,i.x,o.x,a.x),l=Math.min(n.y,i.y,o.y,a.y),c=Math.max(n.x,i.x,o.x,a.x),h=Math.max(n.y,i.y,o.y,a.y);r.x=s,r.y=l,r.width=c-s,r.height=h-l},e.prototype.roundFrame=function(t,r,n,i,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){var a=o.a,s=o.b,l=o.c,c=o.d;if((Math.abs(s)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(c)>1e-4))return}o=o?Cm.copyFrom(o):Cm.identity(),o.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,t),t.ceil(r),this.transformAABB(o.invert(),t)}},e}(),Tp=function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e}(),OR=function(){function e(t){this.renderer=t,this.emptyRenderer=new Tp(t),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,r,n,i){for(var o=t.elements,a=t.ids,s=t.count,l=0,c=0;c<s;c++){var h=o[c],p=h._batchLocation;if(p>=0&&p<i&&r[p]===h){a[c]=p;continue}for(;l<i;){var v=r[l];if(v&&v._batchEnabled===n&&v._batchLocation===l){l++;continue}a[c]=l,h._batchLocation=l,r[l]=h;break}}},e.prototype.destroy=function(){this.renderer=null},e}(),gS=0,LR=function(){function e(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=gS++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=gS++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var r=this.createContext(this.renderer.view,t);this.initFromContext(r)},e.prototype.createContext=function(t,r){var n;if(Ce.PREFER_ENV>=eo.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,r={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),ZH=function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ar.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return e}(),JH=new st,kR=function(){function e(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new gy(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new st,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Ce.PREFER_ENV===eo.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,r,n){n===void 0&&(n=0);var i=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++){var s=t.colorTextures[a];this.renderer.texture.unbind(s.parentTextureArray||s)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){var l=r.width>>n,c=r.height>>n,h=l/r.width;this.setViewport(r.x*h,r.y*h,l,c)}else{var l=t.width>>n,c=t.height>>n;this.setViewport(0,0,l,c)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,r,n,i){var o=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==t||o.y!==r)&&(o.x=t,o.y=r,o.width=n,o.height=i,this.gl.viewport(t,r,n,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,r,n,i,o){o===void 0&&(o=Ld.COLOR|Ld.DEPTH);var a=this.gl;a.clearColor(t,r,n,i),a.clear(o)},e.prototype.initFramebuffer=function(t){var r=this.gl,n=new ZH(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,t.width,t.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var s=i[a],l=s.parentTextureArray||s;this.renderer.texture.bind(l,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t,r){var n=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],l=0;l<a;l++){var c=o[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),!(l===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+l))}if(s.length>1&&n.drawBuffers(s),t.depthTexture){var p=this.writeDepthTexture;if(p){var v=t.depthTexture;this.renderer.texture.bind(v,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,r)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},e.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},e.prototype.detectSamples=function(t){var r=this.msaaSamples,n=ar.NONE;if(t<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=ar.NONE),n},e.prototype.blit=function(t,r,n){var i=this,o=i.current,a=i.renderer,s=i.gl,l=i.CONTEXT_UID;if(a.context.webGLVersion===2&&!!o){var c=o.glFramebuffers[l];if(!!c){if(!t){if(!c.msaaBuffer)return;var h=o.colorTextures[0];if(!h)return;c.blitFramebuffer||(c.blitFramebuffer=new gy(o.width,o.height),c.blitFramebuffer.addColorTexture(0,h)),t=c.blitFramebuffer,t.colorTextures[0]!==h&&(t.colorTextures[0]=h,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}r||(r=JH,r.width=o.width,r.height=o.height),n||(n=r);var p=r.width===n.width&&r.height===n.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,c.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,p?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,r){var n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!n){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(t){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(!!t){var r=t.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){t.stencil=!0;var n=t.width,i=t.height,o=this.gl,a=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,o.DEPTH24_STENCIL8,n,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,i),r.stencil=a,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new st},e.prototype.destroy=function(){this.renderer=null},e}(),Im={5126:4,5123:2,5121:1},FR=function(){function e(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Ce.PREFER_ENV===eo.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(o,a){return i.vertexAttribDivisorANGLE(o,a)},t.drawElementsInstanced=function(o,a,s,l,c){return i.drawElementsInstancedANGLE(o,a,s,l,c)},t.drawArraysInstanced=function(o,a,s,l){return i.drawArraysInstancedANGLE(o,a,s,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},e.prototype.bind=function(t,r){r=r||this.renderer.shader.shader;var n=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var a=i[r.program.id]||this.initGeometryVao(t,r,o);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(t,r.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,r=this.renderer.buffer,n=0;n<t.buffers.length;n++){var i=t.buffers[n];r.update(i)}},e.prototype.checkCompatibility=function(t,r){var n=t.attributes,i=r.attributeData;for(var o in i)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},e.prototype.getSignature=function(t,r){var n=t.attributes,i=r.attributeData,o=["g",t.id];for(var a in n)i[a]&&o.push(a,i[a].location);return o.join("-")},e.prototype.initGeometryVao=function(t,r,n){n===void 0&&(n=!0);var i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,s=r.program;s.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,s);var l=this.getSignature(t,s),c=t.glVertexArrayObjects[this.CONTEXT_UID],h=c[l];if(h)return c[s.id]=h,h;var p=t.buffers,v=t.attributes,_={},y={};for(var x in p)_[x]=0,y[x]=0;for(var x in v)!v[x].size&&s.attributeData[x]?v[x].size=s.attributeData[x].size:v[x].size||console.warn("PIXI Geometry attribute '"+x+"' size cannot be determined (likely the bound shader does not have the attribute)"),_[v[x].buffer]+=v[x].size*Im[v[x].type];for(var x in v){var m=v[x],b=m.size;m.stride===void 0&&(_[m.buffer]===b*Im[m.type]?m.stride=0:m.stride=_[m.buffer]),m.start===void 0&&(m.start=y[m.buffer],y[m.buffer]+=b*Im[m.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(var T=0;T<p.length;T++){var A=p[T];a.bind(A),n&&A._glBuffers[o].refCount++}return this.activateVao(t,s),this._activeVao=h,c[s.id]=h,c[l]=h,h},e.prototype.disposeGeometry=function(t,r){var n;if(!!this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=t.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(t.disposeRunner.remove(this),!!i){if(s)for(var l=0;l<a.length;l++){var c=a[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a[l],r))}if(!r){for(var h in i)if(h[0]==="g"){var p=i[h];this._activeVao===p&&this.unbind(),o.deleteVertexArray(p)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)},e.prototype.activateVao=function(t,r){var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.buffers,s=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var c in s){var h=s[c],p=a[h.buffer],v=p._glBuffers[i];if(r.attributeData[c]){l!==v&&(o.bind(p),l=v);var _=r.attributeData[c].location;if(n.enableVertexAttribArray(_),n.vertexAttribPointer(_,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(_,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,r,n,i){var o=this.gl,a=this._activeGeometry;if(a.indexBuffer){var s=a.indexBuffer.data.BYTES_PER_ELEMENT,l=s===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,r||a.indexBuffer.data.length,l,(n||0)*s,i||1):o.drawElements(t,r||a.indexBuffer.data.length,l,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(t,n,r||a.getSize(),i||1):o.drawArrays(t,n,r||a.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),QH=function(){function e(t){t===void 0&&(t=null),this.type=Fr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ce.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Fr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function yS(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function xS(e,t){var r=e.getShaderSource(t).split(`
`).map(function(c,h){return h+": "+c}),n=e.getShaderInfoLog(t),i=n.split(`
`),o={},a=i.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return c&&!o[c]?(o[c]=!0,!0):!1}),s=[""];a.forEach(function(c){r[c-1]="%c"+r[c-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=r.join(`
`);s[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function ej(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||xS(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||xS(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function Am(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function UR(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Am(2*t);case"bvec3":return Am(3*t);case"bvec4":return Am(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var BR={},gl=BR;function tj(){if(gl===BR||gl&&gl.isContextLost()){var e=document.createElement("canvas"),t=void 0;Ce.PREFER_ENV>=eo.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),gl=t}return gl}var xh;function rj(){if(!xh){xh=yi.MEDIUM;var e=tj();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);xh=t.precision?yi.HIGH:yi.MEDIUM}}return xh}function bS(e,t,r){if(e.substring(0,9)!=="precision"){var n=t;return t===yi.HIGH&&r!==yi.HIGH&&(n=yi.MEDIUM),"precision "+n+` float;
`+e}else if(r!==yi.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var nj={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function DR(e){return nj[e]}var bh=null,ES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function MR(e,t){if(!bh){var r=Object.keys(ES);bh={};for(var n=0;n<r.length;++n){var i=r[n];bh[e[i]]=ES[i]}}return bh[t]}var ru=[{test:function(e){return e.type==="float"&&e.size===1},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `},codeUbo:function(e){return`
                var `+e+"_matrix = uv."+e+`.toArray(true);

                data[offset] = `+e+`_matrix[0];
                data[offset+1] = `+e+`_matrix[1];
                data[offset+2] = `+e+`_matrix[2];
        
                data[offset + 4] = `+e+`_matrix[3];
                data[offset + 5] = `+e+`_matrix[4];
                data[offset + 6] = `+e+`_matrix[5];
        
                data[offset + 8] = `+e+`_matrix[6];
                data[offset + 9] = `+e+`_matrix[7];
                data[offset + 10] = `+e+`_matrix[8];
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`},codeUbo:function(e){return`
                v = uv.`+e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(e){return e.type==="vec2"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(e){return`
                    v = uv.`+e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(e){return e.type==="vec4"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],ij={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},oj={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function aj(e,t){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in e.uniforms){var o=t[i];if(!o){!((r=e.uniforms[i])===null||r===void 0)&&r.group&&(e.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=e.uniforms[i],s=!1,l=0;l<ru.length;l++)if(ru[l].test(o,a)){n.push(ru[l].code(i,a)),s=!0;break}if(!s){var c=o.size===1?ij:oj,h=c[o.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+h+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var sj=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function uj(e){for(var t="",r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+="if(test == "+r+".0){}");return t}function lj(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var n=sj.replace(/%forloop%/gi,uj(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}var yl;function fj(){if(typeof yl=="boolean")return yl;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");yl=e({a:"b"},"a","b")===!0}catch{yl=!1}return yl}var cj=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,hj=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,dj=0,Eh={},$f=function(){function e(t,r,n){n===void 0&&(n="pixi-shader"),this.id=dj++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Eh[n]?(Eh[n]++,n+="-"+Eh[n]):Eh[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=bS(this.vertexSrc,Ce.PRECISION_VERTEX,yi.HIGH),this.fragmentSrc=bS(this.fragmentSrc,Ce.PRECISION_FRAGMENT,rj())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return hj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return cj},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=t+r,o=Xw[i];return o||(Xw[i]=o=new e(t,r,n)),o},e}(),Do=function(){function e(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof Oa?this.uniformGroup=r:this.uniformGroup=new Oa(r):this.uniformGroup=new Oa({})}return e.prototype.checkUniformExists=function(t,r){if(r.uniforms[t])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=$f.from(t,r);return new e(i,n)},e}(),Rm=0,Nm=1,Pm=2,Om=3,Lm=4,km=5,Va=function(){function e(){this.data=0,this.blendMode=Ne.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<Rm)},set:function(t){!!(this.data&1<<Rm)!==t&&(this.data^=1<<Rm)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<Nm)},set:function(t){!!(this.data&1<<Nm)!==t&&(this.data^=1<<Nm)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<Pm)},set:function(t){!!(this.data&1<<Pm)!==t&&(this.data^=1<<Pm)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<Om)},set:function(t){!!(this.data&1<<Om)!==t&&(this.data^=1<<Om)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<km)},set:function(t){!!(this.data&1<<km)!==t&&(this.data^=1<<km)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Lm)},set:function(t){!!(this.data&1<<Lm)!==t&&(this.data^=1<<Lm)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Ne.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),pj=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,vj=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Jo=function(e){Ct(t,e);function t(r,n,i){var o=this,a=$f.from(r||t.defaultVertexSrc,n||t.defaultFragmentSrc);return o=e.call(this,a,i)||this,o.padding=0,o.resolution=Ce.FILTER_RESOLUTION,o.multisample=Ce.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new Va,o}return t.prototype.apply=function(r,n,i,o,a){r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return pj},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return vj},enumerable:!1,configurable:!0}),t}(Do),_j=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,mj=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,TS=new nr,w1=function(){function e(t,r){this._texture=t,this.mapCoord=new nr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r=="undefined"?.5:r,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,r){r===void 0&&(r=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];r[i]=o*n.a+a*n.c+n.tx,r[i+1]=o*n.b+a*n.d+n.ty}return r},e.prototype.update=function(t){var r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(TS.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(TS));var a=r.baseTexture,s=this.uClampFrame,l=this.clampMargin/a.resolution,c=this.clampOffset;return s[0]=(r._frame.x+l+c)/a.width,s[1]=(r._frame.y+l+c)/a.height,s[2]=(r._frame.x+r._frame.width-l+c)/a.width,s[3]=(r._frame.y+r._frame.height-l+c)/a.height,this.uClampOffset[0]=c/a.realWidth,this.uClampOffset[1]=c/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},e}(),gj=function(e){Ct(t,e);function t(r,n,i){var o=this,a=null;return typeof r!="string"&&n===void 0&&i===void 0&&(a=r,r=void 0,n=void 0,i=void 0),o=e.call(this,r||_j,n||mj,i)||this,o.maskSprite=a,o.maskMatrix=new nr,o}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(r,n,i,o){var a=this._maskSprite,s=a._texture;!s.valid||(s.uvMatrix||(s.uvMatrix=new w1(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,o))},t}(Jo),GR=function(){function e(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new QH;i.pooled=!0,i.maskObject=r,n=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n.autoDetect&&this.detect(n),n._target=t,n.type!==Fr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Fr.SCISSOR:this.renderer.scissor.push(n);break;case Fr.STENCIL:this.renderer.stencil.push(n);break;case Fr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===Fr.SPRITE&&this.maskStack.push(n)},e.prototype.pop=function(t){var r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case Fr.SCISSOR:this.renderer.scissor.pop();break;case Fr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Fr.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Fr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},e.prototype.detect=function(t){var r=t.maskObject;r.isSprite?t.type=Fr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Fr.SCISSOR:t.type=Fr.STENCIL},e.prototype.pushSpriteMask=function(t){var r,n,i=t.maskObject,o=t._target,a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new gj]));var s=this.renderer,l=s.renderTexture,c,h;if(l.current){var p=l.current;c=t.resolution||p.resolution,h=(r=t.multisample)!==null&&r!==void 0?r:p.multisample}else c=t.resolution||s.resolution,h=(n=t.multisample)!==null&&n!==void 0?n:s.multisample;a[0].resolution=c,a[0].multisample=h,a[0].maskSprite=i;var v=o.filterArea;o.filterArea=i.getBounds(!0),s.filter.push(o,a),o.filterArea=v,t._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),$R=function(){function e(t){this.renderer=t,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),wS=new nr,HR=function(e){Ct(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},t.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,o=this.renderer,a=o.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},t.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,o=r.c,a=r.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(a)>1e-4)},t.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||t.isMatrixRotated(n.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(r,n,i,o,a){t.isMatrixRotated(a)||(a=a?wS.copyFrom(a):wS.identity(),a.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,r),r.fit(o),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},t.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},t.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},t}($R),jR=function(e){Ct(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},t.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,o=r._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},t.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t}($R),WR=function(){function e(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new nr,this.transform=null}return e.prototype.update=function(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,r,n,i){var o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/r.width*2,o.d=a*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-a-r.y*o.d},e.prototype.setTransform=function(t){},e.prototype.destroy=function(){this.renderer=null},e}(),da=new st,xl=new st,XR=function(){function e(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new st,this.destinationFrame=new st,this.viewportFrame=new st}return e.prototype.bind=function(t,r,n){t===void 0&&(t=null);var i=this.renderer;this.current=t;var o,a,s;t?(o=t.baseTexture,s=o.resolution,r||(da.width=t.frame.width,da.height=t.frame.height,r=da),n||(xl.x=t.frame.x,xl.y=t.frame.y,xl.width=r.width,xl.height=r.height,n=xl),a=o.framebuffer):(s=i.resolution,r||(da.width=i.screen.width,da.height=i.screen.height,r=da),n||(n=da,n.width=r.width,n.height=r.height));var l=this.viewportFrame;l.x=n.x*s,l.y=n.y*s,l.width=n.width*s,l.height=n.height*s,t||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(n,r,s,!a),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,r){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==i.width||n.height!==i.height;if(o){var a=this.viewportFrame,s=a.x,l=a.y,c=a.width,h=a.height;s=Math.round(s),l=Math.round(l),c=Math.round(c),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,l,c,h)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],r),o&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function yj(e,t,r,n,i){r.buffer.update(i)}var xj={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},VR={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function bj(e){for(var t=e.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,o=0;o<t.length;o++){var a=t[o];if(r=VR[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function Ej(e,t){var r=[];for(var n in e)t[n]&&r.push(t[n]);return r.sort(function(i,o){return i.index-o.index}),r}function Tj(e,t){if(!e.autoManage)return{size:0,syncFunc:yj};for(var r=Ej(e.uniforms,t),n=bj(r),i=n.uboElements,o=n.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var l=i[s],c=e.uniforms[l.data.name],h=l.data.name,p=!1,v=0;v<ru.length;v++){var _=ru[v];if(_.codeUbo&&_.test(l.data,c)){a.push("offset = "+l.offset/4+";",ru[v].codeUbo(l.data.name,c)),p=!0;break}}if(!p)if(l.data.size>1){var y=DR(l.data.type),x=Math.max(VR[l.data.type]/16,1),m=y/x,b=(4-m%4)%4;a.push(`
                cv = ud.`+h+`.value;
                v = uv.`+h+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*x+`; i++)
                {
                    for(var j = 0; j < `+m+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+b+`;
                }

                `)}else{var T=xj[l.data.type];a.push(`
                cv = ud.`+h+`.value;
                v = uv.`+h+`;
                offset = `+l.offset/4+`;
                `+T+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var wj=function(){function e(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function Sj(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i);if(o.name.indexOf("gl_")!==0){var a=MR(t,o.type),s={type:a,name:o.name,size:DR(a),location:t.getAttribLocation(e,o.name)};r[o.name]=s}}return r}function Cj(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),l=MR(t,o.type);r[a]={name:a,index:i,type:l,size:o.size,isArray:s,value:UR(l,o.size)}}return r}function Ij(e,t){var r=yS(e,e.VERTEX_SHADER,t.vertexSrc),n=yS(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,n),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||ej(e,i,r,n),t.attributeData=Sj(i,e),t.uniformData=Cj(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(h,p){return h>p?1:-1});for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);var s={};for(var a in t.uniformData){var l=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:UR(l.type,l.size)}}var c=new wj(i,s);return c}var Aj=0,Th={textureCount:0,uboCount:0},zR=function(){function e(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Aj++}return e.prototype.systemCheck=function(){if(!fj())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,r){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Th.textureCount=0,Th.uboCount=0,this.syncUniformGroup(t.uniformGroup,Th)),i},e.prototype.setUniforms=function(t){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,r){var n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))},e.prototype.syncUniforms=function(t,r,n){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(r.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=aj(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(t,r){var n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;var i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,Th,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])},e.prototype.createSyncBufferGroup=function(t,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(t,this.shader.program.uniformData,"ubo"),s=this._uboCache[a];if(s||(s=this._uboCache[a]=Tj(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(s.size/4);t.buffer.update(l)}return r.uniformGroups[t.id]=s.syncFunc,r.uniformGroups[t.id]},e.prototype.getSignature=function(t,r,n){var i=t.uniforms,o=[n+"-"];for(var a in i)o.push(a),r[a]&&o.push(r[a].type);return o.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(t){var r=this.gl,n=t.program,i=Ij(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function Rj(e,t){return t===void 0&&(t=[]),t[Ne.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.ADD]=[e.ONE,e.ONE],t[Ne.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.NONE]=[0,0],t[Ne.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Ne.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ne.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Ne.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Ne.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Ne.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Ne.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Ne.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Ne.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Ne.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Ne.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var Nj=0,Pj=1,Oj=2,Lj=3,kj=4,Fj=5,YR=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ne.NONE,this._blendEq=!1,this.map=[],this.map[Nj]=this.setBlend,this.map[Pj]=this.setOffset,this.map[Oj]=this.setCullFace,this.map[Lj]=this.setDepthTest,this.map[kj]=this.setFrontFace,this.map[Fj]=this.setDepthMask,this.checks=[],this.defaultState=new Va,this.defaultState.blend=!0}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=Rj(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var r=this.stateId^t.data,n=0;r;)r&1&&this.map[n].call(this,!!(t.data&1<<n)),r=r>>1,n++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var r=this.blendModes[t],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,r){this.gl.polygonOffset(t,r)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,r){var n=this.checks.indexOf(t);r&&n===-1?this.checks.push(t):!r&&n!==-1&&this.checks.splice(n,1)},e.checkBlendMode=function(t,r){t.setBlendMode(r.blendMode)},e.checkPolygonOffset=function(t,r){t.setPolygonOffset(1,r.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),qR=function(){function e(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Ce.GC_MAX_IDLE,this.checkCountMax=Ce.GC_MAX_CHECK_COUNT,this.mode=Ce.GC_MODE}return e.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==cy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,r=t.managedTextures,n=!1,i=0;i<r.length;i++){var o=r[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),r[i]=null,n=!0)}if(n){for(var a=0,i=0;i<r.length;i++)r[i]!==null&&(r[a++]=r[i]);r.length=a}},e.prototype.unload=function(t){var r=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e.prototype.destroy=function(){this.renderer=null},e}();function Uj(e){var t,r,n,i,o,a,s,l,c,h,p,v,_,y,x,m,b,T,A,P,R,I,U;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?U=(t={},t[Ae.UNSIGNED_BYTE]=(r={},r[se.RGBA]=e.RGBA8,r[se.RGB]=e.RGB8,r[se.RG]=e.RG8,r[se.RED]=e.R8,r[se.RGBA_INTEGER]=e.RGBA8UI,r[se.RGB_INTEGER]=e.RGB8UI,r[se.RG_INTEGER]=e.RG8UI,r[se.RED_INTEGER]=e.R8UI,r[se.ALPHA]=e.ALPHA,r[se.LUMINANCE]=e.LUMINANCE,r[se.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,r),t[Ae.BYTE]=(n={},n[se.RGBA]=e.RGBA8_SNORM,n[se.RGB]=e.RGB8_SNORM,n[se.RG]=e.RG8_SNORM,n[se.RED]=e.R8_SNORM,n[se.RGBA_INTEGER]=e.RGBA8I,n[se.RGB_INTEGER]=e.RGB8I,n[se.RG_INTEGER]=e.RG8I,n[se.RED_INTEGER]=e.R8I,n),t[Ae.UNSIGNED_SHORT]=(i={},i[se.RGBA_INTEGER]=e.RGBA16UI,i[se.RGB_INTEGER]=e.RGB16UI,i[se.RG_INTEGER]=e.RG16UI,i[se.RED_INTEGER]=e.R16UI,i[se.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[Ae.SHORT]=(o={},o[se.RGBA_INTEGER]=e.RGBA16I,o[se.RGB_INTEGER]=e.RGB16I,o[se.RG_INTEGER]=e.RG16I,o[se.RED_INTEGER]=e.R16I,o),t[Ae.UNSIGNED_INT]=(a={},a[se.RGBA_INTEGER]=e.RGBA32UI,a[se.RGB_INTEGER]=e.RGB32UI,a[se.RG_INTEGER]=e.RG32UI,a[se.RED_INTEGER]=e.R32UI,a[se.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[Ae.INT]=(s={},s[se.RGBA_INTEGER]=e.RGBA32I,s[se.RGB_INTEGER]=e.RGB32I,s[se.RG_INTEGER]=e.RG32I,s[se.RED_INTEGER]=e.R32I,s),t[Ae.FLOAT]=(l={},l[se.RGBA]=e.RGBA32F,l[se.RGB]=e.RGB32F,l[se.RG]=e.RG32F,l[se.RED]=e.R32F,l[se.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,l),t[Ae.HALF_FLOAT]=(c={},c[se.RGBA]=e.RGBA16F,c[se.RGB]=e.RGB16F,c[se.RG]=e.RG16F,c[se.RED]=e.R16F,c),t[Ae.UNSIGNED_SHORT_5_6_5]=(h={},h[se.RGB]=e.RGB565,h),t[Ae.UNSIGNED_SHORT_4_4_4_4]=(p={},p[se.RGBA]=e.RGBA4,p),t[Ae.UNSIGNED_SHORT_5_5_5_1]=(v={},v[se.RGBA]=e.RGB5_A1,v),t[Ae.UNSIGNED_INT_2_10_10_10_REV]=(_={},_[se.RGBA]=e.RGB10_A2,_[se.RGBA_INTEGER]=e.RGB10_A2UI,_),t[Ae.UNSIGNED_INT_10F_11F_11F_REV]=(y={},y[se.RGB]=e.R11F_G11F_B10F,y),t[Ae.UNSIGNED_INT_5_9_9_9_REV]=(x={},x[se.RGB]=e.RGB9_E5,x),t[Ae.UNSIGNED_INT_24_8]=(m={},m[se.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,m),t[Ae.FLOAT_32_UNSIGNED_INT_24_8_REV]=(b={},b[se.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,b),t):U=(T={},T[Ae.UNSIGNED_BYTE]=(A={},A[se.RGBA]=e.RGBA,A[se.RGB]=e.RGB,A[se.ALPHA]=e.ALPHA,A[se.LUMINANCE]=e.LUMINANCE,A[se.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,A),T[Ae.UNSIGNED_SHORT_5_6_5]=(P={},P[se.RGB]=e.RGB,P),T[Ae.UNSIGNED_SHORT_4_4_4_4]=(R={},R[se.RGBA]=e.RGBA,R),T[Ae.UNSIGNED_SHORT_5_5_5_1]=(I={},I[se.RGBA]=e.RGBA,I),T),U}var Fm=function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ae.UNSIGNED_BYTE,this.internalFormat=se.RGBA,this.samplerType=0}return e}(),KR=function(){function e(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new rt,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Uj(t);var r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Fm(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Fm(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,r){r===void 0&&(r=0);var n=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===t&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(t.target,this.emptyTextures[t.target].texture),i[o]=null)},e.prototype.ensureSamplerType=function(t){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,o=r.CONTEXT_UID;if(!!i)for(var a=t-1;a>=0;--a){var s=n[a];if(s){var l=s._glTextures[o];l.samplerType!==kd.FLOAT&&this.renderer.texture.unbind(s)}}},e.prototype.initTexture=function(t){var r=new Fm(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r},e.prototype.initTextureType=function(t,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[t.type])===null||n===void 0?void 0:n[t.format])!==null&&i!==void 0?i:t.format,this.webGLVersion===2&&t.type===Ae.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type},e.prototype.updateTexture=function(t){var r=t._glTextures[this.CONTEXT_UID];if(!!r){var n=this.renderer;if(this.initTextureType(t,r),t.resource&&t.resource.upload(n,t,r))r.samplerType!==kd.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,o=t.realHeight,a=n.gl;(r.width!==i||r.height!==o||r.dirtyId<0)&&(r.width=i,r.height=o,a.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,r){var n=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(t);i!==-1&&tu(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var r=t._glTextures[this.CONTEXT_UID];!r||((t.mipmap===to.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=Zi.CLAMP:r.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,r){var n=this.gl;if(r.mipmap&&t.mipmap!==to.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Yi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===Yi.LINEAR){var o=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Yi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Yi.LINEAR?n.LINEAR:n.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),ZR={__proto__:null,FilterSystem:PR,BatchSystem:OR,ContextSystem:LR,FramebufferSystem:kR,GeometrySystem:FR,MaskSystem:GR,ScissorSystem:HR,StencilSystem:jR,ProjectionSystem:WR,RenderTextureSystem:XR,ShaderSystem:zR,StateSystem:YR,TextureGCSystem:qR,TextureSystem:KR},Um=new nr,Bj=function(e){Ct(t,e);function t(r,n){r===void 0&&(r=Ef.UNKNOWN);var i=e.call(this)||this;return n=Object.assign({},Ce.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new st(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Ce.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Ma("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={}),typeof n=="number"&&(Ma("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:o});var a=n.region,s=DH(n,["region"]);o=a||r.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var l=Ga.create(my({width:o.width,height:o.height},s));return Um.tx=-o.x,Um.ty=-o.y,this.render(r,{renderTexture:l,clear:!1,transform:Um,skipUpdateTransform:!!r.parent}),l},t.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Ef.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=dR(r),hu(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),t}(Mf),Dj=function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e}(),Mj=function(){function e(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i]||this.createGLBuffer(t);n.bindBuffer(t.type,o.buffer)},e.prototype.bindBufferBase=function(t,r){var n=this,i=n.gl,o=n.CONTEXT_UID;if(this.boundBufferBases[r]!==t){var a=t._glBuffers[o]||this.createGLBuffer(t);this.boundBufferBases[r]=t,i.bindBufferBase(i.UNIFORM_BUFFER,r,a.buffer)}},e.prototype.bindBufferRange=function(t,r,n){var i=this,o=i.gl,a=i.CONTEXT_UID;n=n||0;var s=t._glBuffers[a]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},e.prototype.update=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,n.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)n.bufferSubData(t.type,0,t.data);else{var a=t.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,n.bufferData(t.type,t.data,a)}},e.prototype.dispose=function(t,r){if(!!this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)},e.prototype.createGLBuffer=function(t){var r=this,n=r.CONTEXT_UID,i=r.gl;return t._glBuffers[n]=new Dj(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[n]},e}(),Qo=function(e){Ct(t,e);function t(r){var n=e.call(this,Ef.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Br("destroy"),contextChange:new Br("contextChange"),reset:new Br("reset"),update:new Br("update"),postrender:new Br("postrender"),prerender:new Br("prerender"),resize:new Br("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Oa({projectionMatrix:new nr},!0),n.addSystem(GR,"mask").addSystem(LR,"context").addSystem(YR,"state").addSystem(zR,"shader").addSystem(KR,"texture").addSystem(Mj,"buffer").addSystem(FR,"geometry").addSystem(kR,"framebuffer").addSystem(HR,"scissor").addSystem(jR,"stencil").addSystem(WR,"projection").addSystem(qR,"textureGC").addSystem(PR,"filter").addSystem(XR,"renderTexture").addSystem(OR,"batch"),n.initPlugins(t.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,EG(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return t.create=function(r){if(TG())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=ar.HIGH?this.multisample=ar.HIGH:n>=ar.MEDIUM?this.multisample=ar.MEDIUM:n>=ar.LOW?this.multisample=ar.LOW:this.multisample=ar.NONE},t.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},t.prototype.render=function(r,n){var i,o,a,s;if(n&&(n instanceof Ga?(Ma("6.0.0","Renderer#render arguments changed, use options instead."),i=n,o=arguments[2],a=arguments[3],s=arguments[4]):(i=n.renderTexture,o=n.clear,a=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var l=r.enableTempParent();r.updateTransform(),r.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={});var a=e.prototype.generateTexture.call(this,r,n,i,o);return this.framebuffer.blit(),a},t.prototype.resize=function(r,n){e.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Ma("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(r,n){t.__plugins=t.__plugins||{},t.__plugins[r]=n},t}(Bj);function Gj(e){return Qo.create(e)}var $j=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Hj=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,jj=$j,JR=Hj,yy=function(){function e(){this.texArray=null,this.blend=0,this.type=ni.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),xy=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e}(),by=function(){function e(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e}(),Wj=function(e){Ct(t,e);function t(r){var n=e.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Va.for2d(),n.size=Ce.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return t.prototype.contextChange=function(){var r=this.renderer.gl;Ce.PREFER_ENV===eo.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Ce.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=lj(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var r=t._drawCallPool,n=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new yy);for(;n.length<o;)n.push(new xy);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){!r._texture.valid||(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,o=t._textureArrayPool,a=this.renderer.batch,s=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++rt._globalBatch,h=0,p=o[0],v=0;a.copyBoundTextures(s,i);for(var _=0;_<this._bufferSize;++_){var y=n[_];n[_]=null,y._batchEnabled!==c&&(p.count>=i&&(a.boundArray(p,s,c,i),this.buildDrawCalls(p,v,_),v=_,p=o[++h],++c),y._batchEnabled=c,y.touched=l,p.elements[p.count++]=y)}p.count>0&&(a.boundArray(p,s,c,i),this.buildDrawCalls(p,v,this._bufferSize),++h,++c);for(var _=0;_<s.length;_++)s[_]=null;rt._globalBatch=c},t.prototype.buildDrawCalls=function(r,n,i){var o=this,a=o._bufferedElements,s=o._attributeBuffer,l=o._indexBuffer,c=o.vertexSize,h=t._drawCallPool,p=this._dcIndex,v=this._aIndex,_=this._iIndex,y=h[p];y.start=this._iIndex,y.texArray=r;for(var x=n;x<i;++x){var m=a[x],b=m._texture.baseTexture,T=vR[b.alphaMode?1:0][m.blendMode];a[x]=null,n<x&&y.blend!==T&&(y.size=_-y.start,n=x,y=h[++p],y.texArray=r,y.start=_),this.packInterleavedGeometry(m,s,l,v,_),v+=m.vertexData.length/2*c,_+=m.indices.length,y.blend=T}n<i&&(y.size=_-y.start,++p),this._dcIndex=p,this._aIndex=v,this._iIndex=_},t.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},t.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,o=r._indexBuffer;Ce.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,a=t._drawCallPool,s=null,l=0;l<r;l++){var c=a[l],h=c.texArray,p=c.type,v=c.size,_=c.start,y=c.blend;s!==h&&(s=h,this.bindAndClearTexArray(h)),this.state.blendMode=y,o.set(this.state),i.drawElements(p,v,i.UNSIGNED_SHORT,_*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ce.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var n=Fd(Math.ceil(r/8)),i=jw(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new by(o*this.vertexSize*4)),a},t.prototype.getIndexBuffer=function(r){var n=Fd(Math.ceil(r/12)),i=jw(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},t.prototype.packInterleavedGeometry=function(r,n,i,o,a){for(var s=n.uint32View,l=n.float32View,c=o/this.vertexSize,h=r.uvs,p=r.indices,v=r.vertexData,_=r._texture.baseTexture._batchLocation,y=Math.min(r.worldAlpha,1),x=y<1&&r._texture.baseTexture.alphaMode?g1(r._tintRGB,y):r._tintRGB+(y*255<<24),m=0;m<v.length;m+=2)l[o++]=v[m],l[o++]=v[m+1],l[o++]=h[m],l[o++]=h[m+1],s[o++]=x,l[o++]=_;for(var m=0;m<p.length;m++)i[a++]=c+p[m]},t._drawCallPool=[],t._textureArrayPool=[],t}(Tp),Xj=function(){function e(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var r=new Int32Array(t),n=0;n<t;n++)r[n]=n;this.defaultGroupCache[t]=Oa.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new $f(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new nr,default:this.defaultGroupCache[t]};return new Do(this.programCache[t],o)},e.prototype.generateSampleSrc=function(t){var r="";r+=`
`,r+=`
`;for(var n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},e}(),QR=function(e){Ct(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this)||this;return n._buffer=new lr(null,r,!1),n._indexBuffer=new lr(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Ae.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Ae.FLOAT).addAttribute("aColor",n._buffer,4,!0,Ae.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Ae.FLOAT).addIndex(n._indexBuffer),n}return t}(Gf),SS=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,CS=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Vj=function(){function e(){}return e.create=function(t){var r=Object.assign({vertex:SS,fragment:CS,geometryClass:QR,vertexSize:6},t),n=r.vertex,i=r.fragment,o=r.vertexSize,a=r.geometryClass;return function(s){Ct(l,s);function l(c){var h=s.call(this,c)||this;return h.shaderGenerator=new Xj(n,i),h.geometryClass=a,h.vertexSize=o,h}return l}(Wj)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return SS},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return CS},enumerable:!1,configurable:!0}),e}(),zj=Vj.create(),Yj={},qj=function(e){Object.defineProperty(Yj,e,{get:function(){return Ma("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),IR[e]}})};for(var S1 in IR)qj(S1);var Kj={},Zj=function(e){Object.defineProperty(Kj,e,{get:function(){return Ma("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),ZR[e]}})};for(var S1 in ZR)Zj(S1);/*!
 * @pixi/app - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wp=function(){function e(t){var r=this;this.stage=new Rr,t=Object.assign({forceCanvas:!1},t),this.renderer=Gj(t),e._plugins.forEach(function(n){n.init.call(r,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var n=this,i=e._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),Jj=function(){function e(){}return e.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!r._resizeTo||(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(!!r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=r._resizeTo,a=o.clientWidth,s=o.clientHeight;n=a,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();wp.registerPlugin(Jj);/*!
 * @pixi/extract - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var IS=new st,AS=4,Qj=function(){function e(t){this.renderer=t}return e.prototype.image=function(t,r,n){var i=new Image;return i.src=this.base64(t,r,n),i},e.prototype.base64=function(t,r,n){return this.canvas(t).toDataURL(r,n)},e.prototype.canvas=function(t){var r=this.renderer,n,i,o=!1,a,s=!1;t&&(t instanceof Ga?a=t:(a=this.renderer.generateTexture(t),s=!0)),a?(n=a.baseTexture.resolution,i=a.frame,o=!1,r.renderTexture.bind(a)):(n=this.renderer.resolution,o=!0,i=IS,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var l=Math.floor(i.width*n+1e-4),c=Math.floor(i.height*n+1e-4),h=new zw(l,c,1),p=new Uint8Array(AS*l*c),v=r.gl;v.readPixels(i.x*n,i.y*n,l,c,v.RGBA,v.UNSIGNED_BYTE,p);var _=h.context.getImageData(0,0,l,c);if(e.arrayPostDivide(p,_.data),h.context.putImageData(_,0,0),o){var y=new zw(h.width,h.height,1);y.context.scale(1,-1),y.context.drawImage(h.canvas,0,-c),h.destroy(),h=y}return s&&a.destroy(!0),h.canvas},e.prototype.pixels=function(t){var r=this.renderer,n,i,o,a=!1;t&&(t instanceof Ga?o=t:(o=this.renderer.generateTexture(t),a=!0)),o?(n=o.baseTexture.resolution,i=o.frame,r.renderTexture.bind(o)):(n=r.resolution,i=IS,i.width=r.width,i.height=r.height,r.renderTexture.bind(null));var s=i.width*n,l=i.height*n,c=new Uint8Array(AS*s*l),h=r.gl;return h.readPixels(i.x*n,i.y*n,s,l,h.RGBA,h.UNSIGNED_BYTE,c),a&&o.destroy(!0),e.arrayPostDivide(c,c),c},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(t,r){for(var n=0;n<t.length;n+=4){var i=r[n+3]=t[n+3];i!==0?(r[n]=Math.round(Math.min(t[n]*255/i,255)),r[n+1]=Math.round(Math.min(t[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(t[n+2]*255/i,255))):(r[n]=t[n],r[n+1]=t[n+1],r[n+2]=t[n+2])}},e}();/*!
 * @pixi/loaders - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wh=function(){function e(t,r,n){r===void 0&&(r=!1),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},e}();function RS(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Xi=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(t){t===void 0&&(t=!1);var r=this._head;if(t)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},e.prototype.has=function(t){if(!(t instanceof wh))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},e.prototype.dispatch=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},e.prototype.add=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return RS(this,new wh(t,!1,r))},e.prototype.once=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return RS(this,new wh(t,!0,r))},e.prototype.detach=function(t){if(!(t instanceof wh))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},e}();function eN(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,s,l){s&&(i[r.q.name][s]=l)}),i}var e7=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Sh=null,t7=0,NS=200,r7=204,n7=1223,i7=2;function PS(){}function OS(e,t,r){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=r)}function Bm(e){return e.toString().replace("object ","")}var Zt=function(){function e(t,r,n){if(this._dequeue=PS,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=PS,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Xi,this.onProgress=new Xi,this.onComplete=new Xi,this.onAfterMiddleware=new Xi}return e.setExtensionLoadType=function(t,r){OS(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){OS(e._xhrTypeMap,t,r)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(r)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:e7&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(t){return(this._flags&t)!==0},e.prototype._setFlag=function(t,r){this._flags=r?this._flags|t:this._flags&~t},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image!="undefined"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,r,n){n||(n=t+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(Bm(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(Bm(t)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(Bm(t)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",n=typeof t.status=="undefined"?NS:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType=="undefined")&&(r=t.responseText),n===t7&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=NS:n===n7&&(n=r7);var i=n/100|0;if(i===i7)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=e.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=t.response||r;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(t,r){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Sh||(Sh=document.createElement("a")),Sh.href=t;var n=eN(Sh.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,o=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||o!==r.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(t){t===void 0&&(t=this.url);var r="";if(this.isDataUrl){var n=t.indexOf("/");r=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?"),o=t.indexOf("#"),a=Math.min(i>-1?i:t.length,o>-1?o:t.length);t=t.substring(0,a),r=t.substring(t.lastIndexOf(".")+1)}return r.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();(function(e){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Zt||(Zt={}));function pa(){}function o7(e){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(e===null)throw new Error("Callback was already called.");var o=e;e=null,o.apply(this,n)}}var a7=function(){function e(t,r){this.data=t,this.callback=r}return e}(),Dm=function(){function e(t,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=pa,this.unsaturated=pa,this.empty=pa,this.drain=pa,this.error=pa,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new a7(i,typeof a=="function"?a:pa);o?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,o7(n._next(i)))}},this._worker=t,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return e.prototype._next=function(t){var r=this;return function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++)i[o]=n[o];r.workers-=1,t.callback.apply(t,i),i[0]!=null&&r.error(i[0],t.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},e.prototype.push=function(t,r){this._insert(t,!1,r)},e.prototype.kill=function(){this.workers=0,this.drain=pa,this.started=!1,this._tasks=[]},e.prototype.unshift=function(t,r){this._insert(t,!0,r)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.eachSeries=function(t,r,n,i){var o=0,a=t.length;function s(l){if(l||o===a){n&&n(l);return}i?setTimeout(function(){r(t[o++],s)},1):r(t[o++],s)}s()},e.queue=function(t,r){return new e(t,r)},e}(),Mm=100,s7=/(#[\w-]+)?$/,Mn=function(){function e(t,r){var n=this;t===void 0&&(t=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return n._loadResource(l,c)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return n._loadResource(l,c)},this._queue=Dm.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Xi,this.onError=new Xi,this.onLoad=new Xi,this.onStart=new Xi,this.onComplete=new Xi;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return e.prototype._add=function(t,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(r=this._prepareUrl(r),this.resources[t]=new Zt(t,r,n),typeof i=="function"&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var l=o.progressChunk*(a.length+1),c=l/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=c;for(var s=0;s<a.length;++s)a[s].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},e.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},e.prototype.use=function(t){return this._afterMiddleware.push(t),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var r=this.resources[t];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},e.prototype.load=function(t){if(typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=Mm/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(t){var r=eN(t,{strictMode:!0}),n;if(r.protocol||!r.path||t.indexOf("//")===0?n=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?n=this.baseUrl+"/"+t:n=this.baseUrl+t,this.defaultQueryString){var i=s7.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},e.prototype._loadResource=function(t,r){var n=this;t._dequeue=r,Dm.eachSeries(this._beforeMiddleware,function(i,o){i.call(n,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=Mm,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var r=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Dm.eachSeries(this._afterMiddleware,function(n,i){n.call(r,t,i)},function(){t.onAfterMiddleware.dispatch(t),r.progress=Math.min(Mm,r.progress+t.progressChunk),r.onProgress.dispatch(r,t),t.error?r.onError.dispatch(t.error,r,t):r.onLoad.dispatch(r,t),r._resourcesParsing.splice(r._resourcesParsing.indexOf(t),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();Mn.prototype.add=function(t,r,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(typeof t=="object"&&(n=t,i=r||n.callback||n.onComplete,r=n.url,t=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=t),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(t,r,n,i)};var u7=function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Mn.shared:new Mn},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),l7=function(){function e(){}return e.add=function(){Zt.setExtensionLoadType("svg",Zt.LOAD_TYPE.XHR),Zt.setExtensionXhrType("svg",Zt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){if(t.data&&(t.type===Zt.TYPE.IMAGE||t.extension==="svg")){var n=t.data,i=t.url,o=t.name,a=t.metadata;Pe.fromLoader(n,i,o,a).then(function(s){t.texture=s,r()}).catch(r)}else r()},e}(),f7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function c7(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<e.length?n[o]=e.charCodeAt(r++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(e.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)t+=f7.charAt(i[o])}return t}var LS=self.URL||self.webkitURL;function h7(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===Zt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof e.data=="string"){var r=e.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){e.data=new Image,e.data.src="data:"+r+";base64,"+c7(e.xhr.responseText),e.type=Zt.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var n=LS.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=n,e.type=Zt.TYPE.IMAGE,e.data.onload=function(){LS.revokeObjectURL(n),e.data.onload=null,t()};return}}t()}Mn.registerPlugin({use:h7});Mn.registerPlugin(l7);/*!
 * @pixi/compressed-textures - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yt,Ve;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(Ve||(Ve={}));var Md=(yt={},yt[Ve.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,yt[Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,yt[Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,yt[Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,yt[Ve.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,yt[Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,yt[Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,yt[Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,yt[Ve.COMPRESSED_R11_EAC]=.5,yt[Ve.COMPRESSED_SIGNED_R11_EAC]=.5,yt[Ve.COMPRESSED_RG11_EAC]=1,yt[Ve.COMPRESSED_SIGNED_RG11_EAC]=1,yt[Ve.COMPRESSED_RGB8_ETC2]=.5,yt[Ve.COMPRESSED_RGBA8_ETC2_EAC]=1,yt[Ve.COMPRESSED_SRGB8_ETC2]=.5,yt[Ve.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,yt[Ve.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,yt[Ve.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,yt[Ve.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,yt[Ve.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,yt[Ve.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,yt[Ve.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,yt[Ve.COMPRESSED_RGB_ETC1_WEBGL]=.5,yt[Ve.COMPRESSED_RGB_ATC_WEBGL]=.5,yt[Ve.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,yt[Ve.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,yt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ey=function(e,t){return Ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ey(e,t)};function tN(e,t){Ey(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function d7(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function s(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?i(c.value):new r(function(h){h(c.value)}).then(a,s)}l((n=n.apply(e,t||[])).next())})}function p7(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(h){return l([c,h])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var v7=function(e){tN(t,e);function t(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,o,a;return typeof r=="string"?(o=r,a=new Uint8Array):(o=null,a=r),i=e.call(this,a,n)||this,i.origin=o,i.buffer=a?new by(a):null,i.origin&&n.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return t.prototype.onBlobLoaded=function(r){},t.prototype.load=function(){return d7(this,void 0,Promise,function(){var r,n,i;return p7(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return r=o.sent(),[4,r.blob()];case 2:return n=o.sent(),[4,n.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new by(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(Cu),Ty=function(e){tN(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=t._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||t._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return t.prototype.upload=function(r,n,i){var o=r.gl,a=r.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,l=this.levels;s<l;s++){var c=this._levelBuffers[s],h=c.levelID,p=c.levelWidth,v=c.levelHeight,_=c.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,h,this.format,p,v,0,_)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(r,n,i,o,a,s,l){for(var c=new Array(i),h=r.byteOffset,p=s,v=l,_=p+o-1&~(o-1),y=v+a-1&~(a-1),x=_*y*Md[n],m=0;m<i;m++)c[m]={levelID:m,levelWidth:i>1?p:_,levelHeight:i>1?v:y,levelBuffer:new Uint8Array(r.buffer,h,x)},h+=x,p=p>>1||1,v=v>>1||1,_=p+o-1&~(o-1),y=v+a-1&~(a-1),x=_*y*Md[n];return c},t}(v7),_7=function(){function e(){}return e.use=function(t,r){var n=t.data,i=this;if(t.type===Zt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var o=n.textures,a=void 0,s=void 0,l=0,c=o.length;l<c;l++){var h=o[l],p=h.src,v=h.format;if(v||(s=p),e.textureFormats[v]){a=p;break}}if(a=a||s,!a){r(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(a===t.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var _={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},y=Fs.resolve(t.url.replace(i.baseUrl,""),a),x=n.cacheID;i.add(x,y,_,function(m){if(m.error){r(m.error);return}var b=m.texture,T=b===void 0?null:b,A=m.textures,P=A===void 0?{}:A;Object.assign(t,{texture:T,textures:P}),r()})}else r()},e.add=function(){var t=document.createElement("canvas"),r=t.getContext("webgl");if(!r){console.warn("WebGL not available for compressed textures. Silently failing.");return}var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};e.textureExtensions=n,e.textureFormats={};for(var i in n){var o=n[i];!o||Object.assign(e.textureFormats,Object.getPrototypeOf(o))}},e}();function rN(e,t,r){var n={textures:{},texture:null};if(!t)return n;var i=t.map(function(o){return new Pe(new rt(o,Object.assign({mipmap:to.OFF,alphaMode:oi.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(o,a){var s=o.baseTexture,l=e+"-"+(a+1);rt.addToCache(s,l),Pe.addToCache(o,l),a===0&&(rt.addToCache(s,e),Pe.addToCache(o,e),n.texture=o),n.textures[l]=o}),n}var bl,qn;Zt.setExtensionXhrType("dds",Zt.XHR_RESPONSE_TYPE.BUFFER);var Gm=4,Ch=124,m7=32,kS=20,g7=542327876,Ih={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},y7={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Ah={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Zn;(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Zn||(Zn={}));var wy;(function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(wy||(wy={}));var x7=1,b7=2,E7=4,T7=64,w7=512,S7=131072,C7=827611204,I7=861165636,A7=894720068,R7=808540228,N7=4,P7=(bl={},bl[C7]=Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT,bl[I7]=Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT,bl[A7]=Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT,bl),O7=(qn={},qn[Zn.DXGI_FORMAT_BC1_TYPELESS]=Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT,qn[Zn.DXGI_FORMAT_BC1_UNORM]=Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT,qn[Zn.DXGI_FORMAT_BC2_TYPELESS]=Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT,qn[Zn.DXGI_FORMAT_BC2_UNORM]=Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT,qn[Zn.DXGI_FORMAT_BC3_TYPELESS]=Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT,qn[Zn.DXGI_FORMAT_BC3_UNORM]=Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT,qn[Zn.DXGI_FORMAT_BC1_UNORM_SRGB]=Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,qn[Zn.DXGI_FORMAT_BC2_UNORM_SRGB]=Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,qn[Zn.DXGI_FORMAT_BC3_UNORM_SRGB]=Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,qn),L7=function(){function e(){}return e.use=function(t,r){if(t.extension==="dds"&&t.data)try{Object.assign(t,rN(t.name||t.url,e.parse(t.data),t.metadata))}catch(n){r(n);return}r()},e.parse=function(t){var r=new Uint32Array(t),n=r[0];if(n!==g7)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,Ch/Uint32Array.BYTES_PER_ELEMENT),o=i[Ih.HEIGHT],a=i[Ih.WIDTH],s=i[Ih.MIPMAP_COUNT],l=new Uint32Array(t,Ih.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,m7/Uint32Array.BYTES_PER_ELEMENT),c=l[x7];if(c&E7){var h=l[y7.FOURCC];if(h!==R7){var p=P7[h],v=Gm+Ch,_=new Uint8Array(t,v),y=new Ty(_,{format:p,width:a,height:o,levels:s});return[y]}var x=Gm+Ch,m=new Uint32Array(r.buffer,x,kS/Uint32Array.BYTES_PER_ELEMENT),b=m[Ah.DXGI_FORMAT],T=m[Ah.RESOURCE_DIMENSION],A=m[Ah.MISC_FLAG],P=m[Ah.ARRAY_SIZE],R=O7[b];if(R===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+b);if(A===N7)throw new Error("DDSLoader does not support cubemap textures");if(T===wy.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var I=new Array,U=Gm+Ch+kS;if(P===1)I.push(new Uint8Array(t,U));else{for(var j=Md[R],D=0,z=a,pe=o,ue=0;ue<s;ue++){var _e=Math.max(1,z+3&-4),qe=Math.max(1,pe+3&-4),le=_e*qe*j;D+=le,z=z>>>1,pe=pe>>>1}for(var fe=U,ue=0;ue<P;ue++)I.push(new Uint8Array(t,fe,D)),fe+=D}return I.map(function(Se){return new Ty(Se,{format:R,width:a,height:o,levels:s})})}throw c&T7?new Error("DDSLoader does not support uncompressed texture data."):c&w7?new Error("DDSLoader does not supported YUV uncompressed texture data."):c&S7?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):c&b7?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}(),xo,$i,El;Zt.setExtensionXhrType("ktx",Zt.XHR_RESPONSE_TYPE.BUFFER);var FS=[171,75,84,88,32,49,49,187,13,10,26,10],k7=67305985,Kn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},F7=64,US=(xo={},xo[Ae.UNSIGNED_BYTE]=1,xo[Ae.UNSIGNED_SHORT]=2,xo[Ae.INT]=4,xo[Ae.UNSIGNED_INT]=4,xo[Ae.FLOAT]=4,xo[Ae.HALF_FLOAT]=8,xo),U7=($i={},$i[se.RGBA]=4,$i[se.RGB]=3,$i[se.RG]=2,$i[se.RED]=1,$i[se.LUMINANCE]=1,$i[se.LUMINANCE_ALPHA]=2,$i[se.ALPHA]=1,$i),B7=(El={},El[Ae.UNSIGNED_SHORT_4_4_4_4]=2,El[Ae.UNSIGNED_SHORT_5_5_5_1]=2,El[Ae.UNSIGNED_SHORT_5_6_5]=2,El),D7=function(){function e(){}return e.use=function(t,r){if(t.extension==="ktx"&&t.data)try{var n=t.name||t.url,i=e.parse(n,t.data),o=i.compressed,a=i.uncompressed;if(o)Object.assign(t,rN(n,o,t.metadata));else if(a){var s={};a.forEach(function(l,c){var h=new Pe(new rt(l.resource,{mipmap:to.OFF,alphaMode:oi.NO_PREMULTIPLIED_ALPHA,type:l.type,format:l.format})),p=n+"-"+(c+1);rt.addToCache(h.baseTexture,p),Pe.addToCache(h,p),c===0&&(s[n]=h,rt.addToCache(h.baseTexture,n),Pe.addToCache(h,n)),s[p]=h}),Object.assign(t,{textures:s})}}catch(l){r(l);return}r()},e.parse=function(t,r){var n=new DataView(r);if(!e.validate(t,n))return null;var i=n.getUint32(Kn.ENDIANNESS,!0)===k7,o=n.getUint32(Kn.GL_TYPE,i),a=n.getUint32(Kn.GL_FORMAT,i),s=n.getUint32(Kn.GL_INTERNAL_FORMAT,i),l=n.getUint32(Kn.PIXEL_WIDTH,i),c=n.getUint32(Kn.PIXEL_HEIGHT,i)||1,h=n.getUint32(Kn.PIXEL_DEPTH,i)||1,p=n.getUint32(Kn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,v=n.getUint32(Kn.NUMBER_OF_FACES,i),_=n.getUint32(Kn.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(Kn.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");var x=4,m=4,b=l+3&-4,T=c+3&-4,A=new Array(p),P=l*c;o===0&&(P=b*T);var R;if(o!==0?US[o]?R=US[o]*U7[a]:R=B7[o]:R=Md[s],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var I=P*R,U=I,j=l,D=c,z=b,pe=T,ue=F7+y,_e=0;_e<_;_e++){for(var qe=n.getUint32(ue,i),le=ue+4,fe=0;fe<p;fe++){var Se=A[fe];Se||(Se=A[fe]=new Array(_)),Se[_e]={levelID:_e,levelWidth:_>1||o!==0?j:z,levelHeight:_>1||o!==0?D:pe,levelBuffer:new Uint8Array(r,le,U)},le+=U}ue+=qe+4,ue=ue%4!==0?ue+4-ue%4:ue,j=j>>1||1,D=D>>1||1,z=j+x-1&~(x-1),pe=D+m-1&~(m-1),U=z*pe*R}return o!==0?{uncompressed:A.map(function(Ue){var vt=Ue[0].levelBuffer,J=!1;return o===Ae.FLOAT?vt=new Float32Array(Ue[0].levelBuffer.buffer,Ue[0].levelBuffer.byteOffset,Ue[0].levelBuffer.byteLength/4):o===Ae.UNSIGNED_INT?(J=!0,vt=new Uint32Array(Ue[0].levelBuffer.buffer,Ue[0].levelBuffer.byteOffset,Ue[0].levelBuffer.byteLength/4)):o===Ae.INT&&(J=!0,vt=new Int32Array(Ue[0].levelBuffer.buffer,Ue[0].levelBuffer.byteOffset,Ue[0].levelBuffer.byteLength/4)),{resource:new Cu(vt,{width:Ue[0].levelWidth,height:Ue[0].levelHeight}),type:o,format:J?e.convertFormatToInteger(a):a}})}:{compressed:A.map(function(Ue){return new Ty(null,{format:s,width:l,height:c,levels:_,levelBuffers:Ue})})}},e.validate=function(t,r){for(var n=0;n<FS.length;n++)if(r.getUint8(n)!==FS[n])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(t){switch(t){case se.RGBA:return se.RGBA_INTEGER;case se.RGB:return se.RGB_INTEGER;case se.RG:return se.RG_INTEGER;case se.RED:return se.RED_INTEGER;default:return t}},e}();/*!
 * @pixi/particle-container - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Sy=function(e,t){return Sy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Sy(e,t)};function nN(e,t){Sy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){nN(t,e);function t(r,n,i,o){r===void 0&&(r=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=e.call(this)||this,s=16384;return i>s&&(i=s),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=Ne.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return t.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,hu(r,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},t.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t})(Rr);var BS=function(){function e(t,r,n){this.geometry=new Gf,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var o=t[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Ae.FLOAT,offset:o.offset},r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,r=0;this.indexBuffer=new lr(dH(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new lr(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new lr(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Ae.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Ae.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},e.prototype.uploadDynamic=function(t,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,r,n,o.type===Ae.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,r,n,o.type===Ae.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),M7=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,G7=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,$7=function(e){nN(t,e);function t(r){var n=e.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new nr,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ae.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Do.from(G7,M7,{}),n.state=Va.for2d(),n}return t.prototype.render=function(r){var n=r.children,i=r._maxSize,o=r._batchSize,a=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var l=r._buffers;l||(l=r._buffers=this.generateBuffers(r));var c=n[0]._texture.baseTexture;this.state.blendMode=_R(r.blendMode,c.alphaMode),a.state.set(this.state);var h=a.gl,p=r.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=hH(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,c.alphaMode),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var v=!1,_=0,y=0;_<s;_+=o,y+=1){var x=s-_;x>o&&(x=o),y>=l.length&&l.push(this._generateOneMoreBuffer(r));var m=l[y];m.uploadDynamic(n,_,x);var b=r._bufferUpdateIDs[y]||0;v=v||m._updateID<b,v&&(m._updateID=r._updateID,m.uploadStatic(n,_,x)),a.geometry.bind(m.geometry),h.drawElements(h.TRIANGLES,x*6,h.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,o=r._batchSize,a=r._properties,s=0;s<i;s+=o)n.push(new BS(this.properties,a,o));return n},t.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new BS(this.properties,i,n)},t.prototype.uploadVertices=function(r,n,i,o,a,s){for(var l=0,c=0,h=0,p=0,v=0;v<i;++v){var _=r[n+v],y=_._texture,x=_.scale.x,m=_.scale.y,b=y.trim,T=y.orig;b?(c=b.x-_.anchor.x*T.width,l=c+b.width,p=b.y-_.anchor.y*T.height,h=p+b.height):(l=T.width*(1-_.anchor.x),c=T.width*-_.anchor.x,h=T.height*(1-_.anchor.y),p=T.height*-_.anchor.y),o[s]=c*x,o[s+1]=p*m,o[s+a]=l*x,o[s+a+1]=p*m,o[s+a*2]=l*x,o[s+a*2+1]=h*m,o[s+a*3]=c*x,o[s+a*3+1]=h*m,s+=a*4}},t.prototype.uploadPosition=function(r,n,i,o,a,s){for(var l=0;l<i;l++){var c=r[n+l].position;o[s]=c.x,o[s+1]=c.y,o[s+a]=c.x,o[s+a+1]=c.y,o[s+a*2]=c.x,o[s+a*2+1]=c.y,o[s+a*3]=c.x,o[s+a*3+1]=c.y,s+=a*4}},t.prototype.uploadRotation=function(r,n,i,o,a,s){for(var l=0;l<i;l++){var c=r[n+l].rotation;o[s]=c,o[s+a]=c,o[s+a*2]=c,o[s+a*3]=c,s+=a*4}},t.prototype.uploadUvs=function(r,n,i,o,a,s){for(var l=0;l<i;++l){var c=r[n+l]._texture._uvs;c?(o[s]=c.x0,o[s+1]=c.y0,o[s+a]=c.x1,o[s+a+1]=c.y1,o[s+a*2]=c.x2,o[s+a*2+1]=c.y2,o[s+a*3]=c.x3,o[s+a*3+1]=c.y3,s+=a*4):(o[s]=0,o[s+1]=0,o[s+a]=0,o[s+a+1]=0,o[s+a*2]=0,o[s+a*2+1]=0,o[s+a*3]=0,o[s+a*3+1]=0,s+=a*4)}},t.prototype.uploadTint=function(r,n,i,o,a,s){for(var l=0;l<i;++l){var c=r[n+l],h=c._texture.baseTexture.alphaMode>0,p=c.alpha,v=p<1&&h?g1(c._tintRGB,p):c._tintRGB+(p*255<<24);o[s]=v,o[s+a]=v,o[s+a*2]=v,o[s+a*3]=v,s+=a*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(Tp);/*!
 * @pixi/graphics - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ao;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(Ao||(Ao={}));var Ro;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(Ro||(Ro={}));var wf={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},iN=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Pe.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Pe.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cy=function(e,t){return Cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Cy(e,t)};function C1(e,t){Cy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function DS(e,t){var r,n;t===void 0&&(t=!1);var i=e.length;if(!(i<6)){for(var o=0,a=0,s=e[i-2],l=e[i-1];a<i;a+=2){var c=e[a],h=e[a+1];o+=(c-s)*(h+l),s=c,l=h}if(!t&&o>0||t&&o<=0)for(var p=i/2,a=p+p%2;a<i;a+=2){var v=i-a-2,_=i-a-1,y=a,x=a+1;r=[e[y],e[v]],e[v]=r[0],e[y]=r[1],n=[e[x],e[_]],e[_]=n[0],e[x]=n[1]}}}var oN={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,n=e.holes,i=t.points,o=t.indices;if(r.length>=6){DS(r,!1);for(var a=[],s=0;s<n.length;s++){var l=n[s];DS(l.points,!0),a.push(r.length/2),r=r.concat(l.points)}var c=hR(r,a,2);if(!c)return;for(var h=i.length/2,s=0;s<c.length;s+=3)o.push(c[s]+h),o.push(c[s+1]+h),o.push(c[s+2]+h);for(var s=0;s<r.length;s++)i.push(r[s])}}},Gd={build:function(e){var t=e.points,r,n,i,o,a,s;if(e.type===Kt.CIRC){var l=e.shape;r=l.x,n=l.y,a=s=l.radius,i=o=0}else if(e.type===Kt.ELIP){var c=e.shape;r=c.x,n=c.y,a=c.width,s=c.height,i=o=0}else{var h=e.shape,p=h.width/2,v=h.height/2;r=h.x+p,n=h.y+v,a=s=Math.max(0,Math.min(h.radius,Math.min(p,v))),i=p-a,o=v-s}var _=Math.ceil(2.3*Math.sqrt(a+s)),y=_*8+(i?4:0)+(o?4:0);if(t.length=y,y!==0){if(_===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+o,t[2]=t[4]=r-i,t[5]=t[7]=n-o;return}var x=0,m=_*4+(i?2:0)+2,b=m,T=y;{var A=i+a,P=o,R=r+A,I=r-A,U=n+P;if(t[x++]=R,t[x++]=U,t[--m]=U,t[--m]=I,o){var j=n-P;t[b++]=I,t[b++]=j,t[--T]=j,t[--T]=R}}for(var D=1;D<_;D++){var z=Math.PI/2*(D/_),A=i+Math.cos(z)*a,P=o+Math.sin(z)*s,R=r+A,I=r-A,U=n+P,j=n-P;t[x++]=R,t[x++]=U,t[--m]=U,t[--m]=I,t[b++]=I,t[b++]=j,t[--T]=j,t[--T]=R}{var A=i,P=o+s,R=r+A,I=r-A,U=n+P,j=n-P;t[x++]=R,t[x++]=U,t[--T]=j,t[--T]=R,i&&(t[x++]=I,t[x++]=U,t[--T]=j,t[--T]=I)}}},triangulate:function(e,t){var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=o,s,l;if(e.type!==Kt.RREC){var c=e.shape;s=c.x,l=c.y}else{var h=e.shape;s=h.x+h.width/2,l=h.y+h.height/2}var p=e.matrix;n.push(e.matrix?p.a*s+p.c*l+p.tx:s,e.matrix?p.b*s+p.d*l+p.ty:l),o++,n.push(r[0],r[1]);for(var v=2;v<r.length;v+=2)n.push(r[v],r[v+1]),i.push(o++,a,o);i.push(a+1,a,o)}},H7={build:function(e){var t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(e,t){var r=e.points,n=t.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function bs(e,t,r){var n=t-e;return e+n*r}function Rh(e,t,r,n,i,o,a){a===void 0&&(a=[]);for(var s=20,l=a,c=0,h=0,p=0,v=0,_=0,y=0,x=0,m=0;x<=s;++x)m=x/s,c=bs(e,r,m),h=bs(t,n,m),p=bs(r,i,m),v=bs(n,o,m),_=bs(c,p,m),y=bs(h,v,m),!(x===0&&l[l.length-2]===_&&l[l.length-1]===y)&&l.push(_,y);return l}var j7={build:function(e){if($d.nextRoundedRectBehavior){Gd.build(e);return}var t=e.shape,r=e.points,n=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));r.length=0,s?(Rh(n,i+s,n,i,n+s,i,r),Rh(n+o-s,i,n+o,i,n+o,i+s,r),Rh(n+o,i+a-s,n+o,i+a,n+o-s,i+a,r),Rh(n+s,i+a,n,i+a,n,i+a-s,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(e,t){if($d.nextRoundedRectBehavior){Gd.triangulate(e,t);return}for(var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=hR(r,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(var s=0,l=r.length;s<l;s++)n.push(r[s],r[++s])}};function MS(e,t,r,n,i,o,a,s){var l=e-r*i,c=t-n*i,h=e+r*o,p=t+n*o,v,_;a?(v=n,_=-r):(v=-n,_=r);var y=l+v,x=c+_,m=h+v,b=p+_;return s.push(y,x),s.push(m,b),2}function Es(e,t,r,n,i,o,a,s){var l=r-e,c=n-t,h=Math.atan2(l,c),p=Math.atan2(i-e,o-t);s&&h<p?h+=Math.PI*2:!s&&h>p&&(p+=Math.PI*2);var v=h,_=p-h,y=Math.abs(_),x=Math.sqrt(l*l+c*c),m=(15*y*Math.sqrt(x)/Math.PI>>0)+1,b=_/m;if(v+=b,s){a.push(e,t),a.push(r,n);for(var T=1,A=v;T<m;T++,A+=b)a.push(e,t),a.push(e+Math.sin(A)*x,t+Math.cos(A)*x);a.push(e,t),a.push(i,o)}else{a.push(r,n),a.push(e,t);for(var T=1,A=v;T<m;T++,A+=b)a.push(e+Math.sin(A)*x,t+Math.cos(A)*x),a.push(e,t);a.push(i,o),a.push(e,t)}return m*2}function W7(e,t){var r=e.shape,n=e.points||r.points.slice(),i=t.closePointEps;if(n.length!==0){var o=e.lineStyle,a=new kt(n[0],n[1]),s=new kt(n[n.length-2],n[n.length-1]),l=r.type!==Kt.POLY||r.closeStroke,c=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(l){n=n.slice(),c&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var h=(a.x+s.x)*.5,p=(s.y+a.y)*.5;n.unshift(h,p),n.push(h,p)}var v=t.points,_=n.length/2,y=n.length,x=v.length/2,m=o.width/2,b=m*m,T=o.miterLimit*o.miterLimit,A=n[0],P=n[1],R=n[2],I=n[3],U=0,j=0,D=-(P-I),z=A-R,pe=0,ue=0,_e=Math.sqrt(D*D+z*z);D/=_e,z/=_e,D*=m,z*=m;var qe=o.alignment,le=(1-qe)*2,fe=qe*2;l||(o.cap===Ro.ROUND?y+=Es(A-D*(le-fe)*.5,P-z*(le-fe)*.5,A-D*le,P-z*le,A+D*fe,P+z*fe,v,!0)+2:o.cap===Ro.SQUARE&&(y+=MS(A,P,D,z,le,fe,!0,v))),v.push(A-D*le,P-z*le),v.push(A+D*fe,P+z*fe);for(var Se=1;Se<_-1;++Se){A=n[(Se-1)*2],P=n[(Se-1)*2+1],R=n[Se*2],I=n[Se*2+1],U=n[(Se+1)*2],j=n[(Se+1)*2+1],D=-(P-I),z=A-R,_e=Math.sqrt(D*D+z*z),D/=_e,z/=_e,D*=m,z*=m,pe=-(I-j),ue=R-U,_e=Math.sqrt(pe*pe+ue*ue),pe/=_e,ue/=_e,pe*=m,ue*=m;var Ue=R-A,vt=P-I,J=R-U,W=j-I,ie=vt*J-W*Ue,ce=ie<0;if(Math.abs(ie)<.1){v.push(R-D*le,I-z*le),v.push(R+D*fe,I+z*fe);continue}var Ie=(-D+A)*(-z+I)-(-D+R)*(-z+P),Fe=(-pe+U)*(-ue+I)-(-pe+R)*(-ue+j),Me=(Ue*Fe-J*Ie)/ie,ut=(W*Ie-vt*Fe)/ie,lt=(Me-R)*(Me-R)+(ut-I)*(ut-I),Ke=R+(Me-R)*le,It=I+(ut-I)*le,Je=R-(Me-R)*fe,ft=I-(ut-I)*fe,$e=Math.min(Ue*Ue+vt*vt,J*J+W*W),ht=ce?le:fe,nt=$e+ht*ht*b,Ye=lt<=nt;Ye?o.join===Ao.BEVEL||lt/b>T?(ce?(v.push(Ke,It),v.push(R+D*fe,I+z*fe),v.push(Ke,It),v.push(R+pe*fe,I+ue*fe)):(v.push(R-D*le,I-z*le),v.push(Je,ft),v.push(R-pe*le,I-ue*le),v.push(Je,ft)),y+=2):o.join===Ao.ROUND?ce?(v.push(Ke,It),v.push(R+D*fe,I+z*fe),y+=Es(R,I,R+D*fe,I+z*fe,R+pe*fe,I+ue*fe,v,!0)+4,v.push(Ke,It),v.push(R+pe*fe,I+ue*fe)):(v.push(R-D*le,I-z*le),v.push(Je,ft),y+=Es(R,I,R-D*le,I-z*le,R-pe*le,I-ue*le,v,!1)+4,v.push(R-pe*le,I-ue*le),v.push(Je,ft)):(v.push(Ke,It),v.push(Je,ft)):(v.push(R-D*le,I-z*le),v.push(R+D*fe,I+z*fe),o.join===Ao.BEVEL||lt/b>T||(o.join===Ao.ROUND?ce?y+=Es(R,I,R+D*fe,I+z*fe,R+pe*fe,I+ue*fe,v,!0)+2:y+=Es(R,I,R-D*le,I-z*le,R-pe*le,I-ue*le,v,!1)+2:(ce?(v.push(Je,ft),v.push(Je,ft)):(v.push(Ke,It),v.push(Ke,It)),y+=2)),v.push(R-pe*le,I-ue*le),v.push(R+pe*fe,I+ue*fe),y+=2)}A=n[(_-2)*2],P=n[(_-2)*2+1],R=n[(_-1)*2],I=n[(_-1)*2+1],D=-(P-I),z=A-R,_e=Math.sqrt(D*D+z*z),D/=_e,z/=_e,D*=m,z*=m,v.push(R-D*le,I-z*le),v.push(R+D*fe,I+z*fe),l||(o.cap===Ro.ROUND?y+=Es(R-D*(le-fe)*.5,I-z*(le-fe)*.5,R-D*le,I-z*le,R+D*fe,I+z*fe,v,!1)+2:o.cap===Ro.SQUARE&&(y+=MS(R,I,D,z,le,fe,!1,v)));for(var Gt=t.indices,Kr=wf.epsilon*wf.epsilon,Se=x;Se<y+x-2;++Se)A=v[Se*2],P=v[Se*2+1],R=v[(Se+1)*2],I=v[(Se+1)*2+1],U=v[(Se+2)*2],j=v[(Se+2)*2+1],!(Math.abs(A*(I-j)+R*(j-P)+U*(P-I))<Kr)&&Gt.push(Se,Se+1,Se+2)}}function X7(e,t){var r=0,n=e.shape,i=e.points||n.points,o=n.type!==Kt.POLY||n.closeStroke;if(i.length!==0){var a=t.points,s=t.indices,l=i.length/2,c=a.length/2,h=c;for(a.push(i[0],i[1]),r=1;r<l;r++)a.push(i[r*2],i[r*2+1]),s.push(h,h+1),h++;o&&s.push(h,c)}}function GS(e,t){e.lineStyle.native?X7(e,t):W7(e,t)}var $S=function(){function e(){}return e.curveTo=function(t,r,n,i,o,a){var s=a[a.length-2],l=a[a.length-1],c=l-r,h=s-t,p=i-r,v=n-t,_=Math.abs(c*v-h*p);if(_<1e-8||o===0)return(a[a.length-2]!==t||a[a.length-1]!==r)&&a.push(t,r),null;var y=c*c+h*h,x=p*p+v*v,m=c*p+h*v,b=o*Math.sqrt(y)/_,T=o*Math.sqrt(x)/_,A=b*m/y,P=T*m/x,R=b*v+T*h,I=b*p+T*c,U=h*(T+A),j=c*(T+A),D=v*(b+P),z=p*(b+P),pe=Math.atan2(j-I,U-R),ue=Math.atan2(z-I,D-R);return{cx:R+t,cy:I+r,radius:o,startAngle:pe,endAngle:ue,anticlockwise:h*p>v*c}},e.arc=function(t,r,n,i,o,a,s,l,c){for(var h=s-a,p=wf._segmentsCount(Math.abs(h)*o,Math.ceil(Math.abs(h)/Bd)*40),v=h/(p*2),_=v*2,y=Math.cos(v),x=Math.sin(v),m=p-1,b=m%1/m,T=0;T<=m;++T){var A=T+b*T,P=v+a+_*A,R=Math.cos(P),I=-Math.sin(P);c.push((y*R+x*I)*o+n,(y*-I+x*R)*o+i)}},e}(),V7=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a,s,l){for(var c=10,h=0,p=0,v=0,_=0,y=0,x=0,m=0,b=0,T=0,A=0,P=0,R=t,I=r,U=1;U<=c;++U)p=U/c,v=p*p,_=v*p,y=1-p,x=y*y,m=x*y,b=m*t+3*x*p*n+3*y*v*o+_*s,T=m*r+3*x*p*i+3*y*v*a+_*l,A=R-b,P=I-T,R=b,I=T,h+=Math.sqrt(A*A+P*P);return h},e.curveTo=function(t,r,n,i,o,a,s){var l=s[s.length-2],c=s[s.length-1];s.length-=2;var h=wf._segmentsCount(e.curveLength(l,c,t,r,n,i,o,a)),p=0,v=0,_=0,y=0,x=0;s.push(l,c);for(var m=1,b=0;m<=h;++m)b=m/h,p=1-b,v=p*p,_=v*p,y=b*b,x=y*b,s.push(_*l+3*v*b*t+3*p*y*n+x*o,_*c+3*v*b*r+3*p*y*i+x*a)},e}(),z7=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a){var s=t-2*n+o,l=r-2*i+a,c=2*n-2*t,h=2*i-2*r,p=4*(s*s+l*l),v=4*(s*c+l*h),_=c*c+h*h,y=2*Math.sqrt(p+v+_),x=Math.sqrt(p),m=2*p*x,b=2*Math.sqrt(_),T=v/x;return(m*y+x*v*(y-b)+(4*_*p-v*v)*Math.log((2*x+T+y)/(T+b)))/(4*m)},e.curveTo=function(t,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],l=wf._segmentsCount(e.curveLength(a,s,t,r,n,i)),c=0,h=0,p=1;p<=l;++p){var v=p/l;c=a+(t-a)*v,h=s+(r-s)*v,o.push(c+(t+(n-t)*v-c)*v,h+(r+(i-r)*v-h)*v)}},e}(),Y7=function(){function e(){this.reset()}return e.prototype.begin=function(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n},e.prototype.end=function(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),va,$m=(va={},va[Kt.POLY]=oN,va[Kt.CIRC]=Gd,va[Kt.ELIP]=Gd,va[Kt.RECT]=H7,va[Kt.RREC]=j7,va),HS=[],Nh=[],jS=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),Ts=new kt,q7=new Tf,K7=function(e){C1(t,e);function t(){var r=e.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new Tf,r.boundsDirty=-1,r}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),Nh.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),HS.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(r,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new jS(r,n,i,o);return this.graphicsData.push(a),this.dirty++,this},t.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new jS(r,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(!!o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(r,Ts):Ts.copyFrom(r),o.shape.contains(Ts.x,Ts.y))){var a=!1;if(o.holes)for(var s=0;s<o.holes.length;s++){var l=o.holes[s];if(l.shape.contains(Ts.x,Ts.y)){a=!0;break}}if(!a)return!0}}return!1},t.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,o=null,a=null;this.batches.length>0&&(o=this.batches[this.batches.length-1],a=o.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var l=i[s],c=l.fillStyle,h=l.lineStyle,p=$m[l.type];p.build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(var v=0;v<2;v++){var _=v===0?c:h;if(!!_.visible){var y=_.texture.baseTexture,x=this.indices.length,m=this.points.length/2;y.wrapMode=Zi.REPEAT,v===0?this.processFill(l):this.processLine(l);var b=this.points.length/2-m;b!==0&&(o&&!this._compareStyles(a,_)&&(o.end(x,m),o=null),o||(o=HS.pop()||new Y7,o.begin(_,x,m),this.batches.push(o),a=_),this.addUvs(this.points,n,_.texture,m,b,_.matrix))}}}var T=this.indices.length,A=this.points.length/2;if(o&&o.end(T,A),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var P=A>65535&&r;this.indicesUint16=P?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var o=r[n],a=0;a<o.size;a++){var s=o.start+a;this.indicesUint16[s]=this.indicesUint16[s]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var r=++rt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Nh.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=Nh.pop();a||(a=new yy,a.texArray=new xy),a.texArray.count=0,a.start=0,a.size=0,a.type=ni.TRIANGLES;var s=0,l=null,c=0,h=!1,p=ni.TRIANGLES,v=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var _=this.batches[n],y=8,x=_.style,m=x.texture.baseTexture;h!==!!x.native&&(h=!!x.native,p=h?ni.LINES:ni.TRIANGLES,l=null,s=y,r++),l!==m&&(l=m,m._batchEnabled!==r&&(s===y&&(r++,s=0,a.size>0&&(a=Nh.pop(),a||(a=new yy,a.texArray=new xy),this.drawCalls.push(a)),a.start=v,a.size=0,a.texArray.count=0,a.type=p),m.touched=1,m._batchEnabled=r,m._batchLocation=s,m.wrapMode=Zi.REPEAT,a.texArray.elements[a.texArray.count++]=m,s++)),a.size+=_.size,v+=_.size,c=m._batchLocation,this.addColors(i,x.color,x.alpha,_.attribSize,_.attribStart),this.addTextureIds(o,c,_.attribSize,_.attribStart)}rt._globalBatch=r,this.packAttributes()},t.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(r.length*3*4),s=new Float32Array(a),l=new Uint32Array(a),c=0,h=0;h<r.length/2;h++)s[c++]=r[h*2],s[c++]=r[h*2+1],s[c++]=n[h*2],s[c++]=n[h*2+1],l[c++]=i[h],s[c++]=o[h];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(r){if(r.holes.length)oN.triangulate(r,this);else{var n=$m[r.type];n.triangulate(r,this)}},t.prototype.processLine=function(r){GS(r,this);for(var n=0;n<r.holes.length;n++)GS(r.holes[n],this)},t.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],o=$m[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var r=this._bounds,n=q7,i=nr.IDENTITY;this._bounds.clear(),n.clear();for(var o=0;o<this.graphicsData.length;o++){var a=this.graphicsData[o],s=a.shape,l=a.type,c=a.lineStyle,h=a.matrix||nr.IDENTITY,p=0;if(c&&c.visible&&(p=c.width*Math.max(0,c.alignment)),i!==h&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=h),l===Kt.RECT||l===Kt.RREC){var v=s;n.addFramePad(v.x,v.y,v.x+v.width,v.y+v.height,p,p)}else if(l===Kt.CIRC){var _=s;n.addFramePad(_.x,_.y,_.x,_.y,_.radius+p,_.radius+p)}else if(l===Kt.ELIP){var y=s;n.addFramePad(y.x,y.y,y.x,y.y,y.width+p,y.height+p)}else{var x=s;r.addVerticesMatrix(i,x.points,0,x.points.length,p,p)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var o=r[i*2],a=r[i*2+1];r[i*2]=n.a*o+n.c*a+n.tx,r[i*2+1]=n.b*o+n.d*a+n.ty}},t.prototype.addColors=function(r,n,i,o,a){a===void 0&&(a=0);var s=(n>>16)+(n&65280)+((n&255)<<16),l=g1(s,i);r.length=Math.max(r.length,a+o);for(var c=0;c<o;c++)r[a+c]=l},t.prototype.addTextureIds=function(r,n,i,o){o===void 0&&(o=0),r.length=Math.max(r.length,o+i);for(var a=0;a<i;a++)r[o+a]=n},t.prototype.addUvs=function(r,n,i,o,a,s){s===void 0&&(s=null);for(var l=0,c=n.length,h=i.frame;l<a;){var p=r[(o+l)*2],v=r[(o+l)*2+1];if(s){var _=s.a*p+s.c*v+s.tx;v=s.b*p+s.d*v+s.ty,p=_}l++,n.push(p/h.width,v/h.height)}var y=i.baseTexture;(h.width<y.width||h.height<y.height)&&this.adjustUvs(n,i,c,a)},t.prototype.adjustUvs=function(r,n,i,o){for(var a=n.baseTexture,s=1e-6,l=i+o*2,c=n.frame,h=c.width/a.width,p=c.height/a.height,v=c.x/c.width,_=c.y/c.height,y=Math.floor(r[i]+s),x=Math.floor(r[i+1]+s),m=i+2;m<l;m+=2)y=Math.min(y,Math.floor(r[m]+s)),x=Math.min(x,Math.floor(r[m+1]+s));v-=y,_-=x;for(var m=i;m<l;m+=2)r[m]=(r[m]+v)*h,r[m+1]=(r[m+1]+_)*p},t.BATCHABLE_SIZE=100,t}(QR),Z7=function(e){C1(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Ro.BUTT,r.join=Ao.MITER,r.miterLimit=10,r}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(iN),J7=new Float32Array(3),Hm={},$d=function(e){C1(t,e);function t(r){r===void 0&&(r=null);var n=e.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new iN,n._lineStyle=new Z7,n._matrix=null,n._holeMode=!1,n.state=Va.for2d(),n._geometry=r||new K7,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=Ne.NORMAL,n}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(r,n,i,o,a){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=.5),a===void 0&&(a=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:o,native:a}),this.lineTextureStyle(r)},t.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:Pe.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ro.BUTT,join:Ao.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Jh,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Jh,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},t.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==r||a!==n)&&i.push(r,n),this},t.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},t.prototype.quadraticCurveTo=function(r,n,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),z7.curveTo(r,n,i,o,a),this},t.prototype.bezierCurveTo=function(r,n,i,o,a,s){return this._initCurve(),V7.curveTo(r,n,i,o,a,s,this.currentPath.points),this},t.prototype.arcTo=function(r,n,i,o,a){this._initCurve(r,n);var s=this.currentPath.points,l=$S.curveTo(r,n,i,o,a,s);if(l){var c=l.cx,h=l.cy,p=l.radius,v=l.startAngle,_=l.endAngle,y=l.anticlockwise;this.arc(c,h,p,v,_,y)}return this},t.prototype.arc=function(r,n,i,o,a,s){if(s===void 0&&(s=!1),o===a)return this;!s&&a<=o?a+=Bd:s&&o<=a&&(o+=Bd);var l=a-o;if(l===0)return this;var c=r+Math.cos(o)*i,h=n+Math.sin(o)*i,p=this._geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var _=Math.abs(v[v.length-2]-c),y=Math.abs(v[v.length-1]-h);_<p&&y<p||v.push(c,h)}else this.moveTo(c,h),v=this.currentPath.points;return $S.arc(c,h,r,n,i,o,a,s,v),this},t.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Pe.WHITE,color:r,alpha:n})},t.prototype.beginTextureFill=function(r){r=Object.assign({texture:Pe.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(r,n,i,o){return this.drawShape(new st(r,n,i,o))},t.prototype.drawRoundedRect=function(r,n,i,o,a){return this.drawShape(new bH(r,n,i,o,a))},t.prototype.drawCircle=function(r,n,i){return this.drawShape(new yH(r,n,i))},t.prototype.drawEllipse=function(r,n,i,o){return this.drawShape(new xH(r,n,i,o))},t.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var o,a=!0,s=n[0];s.points?(a=s.closeStroke,o=s.points):Array.isArray(n[0])?o=n[0]:o=n;var l=new Jh(o);return l.closeStroke=a,this.drawShape(l),this},t.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Kt.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},t.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},t.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var o=0;o<i;o++){var a=r.batches[o],s=a.style.color,l=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),c=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),h=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),p={vertexData:l,blendMode:n,indices:h,uvs:c,_batchRGB:hu(s),_tintRGB:s,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=p}},t.prototype._renderBatched=function(r){if(!!this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,r.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,o=this.tint,a=this.worldAlpha,s=n.uniforms,l=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(o>>16&255)/255*a,s.tint[1]=(o>>8&255)/255*a,s.tint[2]=(o&255)/255*a,s.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var c=0,h=l.length;c<h;c++)this._renderDrawCallDirect(r,i.drawCalls[c])},t.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,o=n.type,a=n.size,s=n.start,l=i.count,c=0;c<l;c++)r.texture.bind(i.elements[c],c);r.geometry.draw(o,a,s)},t.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Hm[i]){for(var o=r.plugins.batch.MAX_TEXTURES,a=new Int32Array(o),s=0;s<o;s++)a[s]=s;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new nr,default:Oa.from({uSamplers:a},!0)},c=r.plugins[i]._shader.program;Hm[i]=new Do(c,l)}n=Hm[i]}return n},t.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(!!r.graphicsData.length){var n=r.bounds,i=n.minX,o=n.minY,a=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,o,a,s)}},t.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=hu(this.tint,J7),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,a=r[0]*o[0]*255,s=r[1]*o[1]*255,l=r[2]*o[2]*255,c=(a<<16)+(s<<8)+(l|0);i._tintRGB=(c>>16)+(c&65280)+((c&255)<<16)}}},t.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,l=n.tx,c=n.ty,h=this._geometry.points,p=this.vertexData,v=0,_=0;_<h.length;_+=2){var y=h[_],x=h[_+1];p[v++]=i*y+a*x+l,p[v++]=s*x+o*y+c}}},t.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(r){return this._matrix=r,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,r)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new kt,t}(Rr);/*!
 * @pixi/sprite - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Iy=function(e,t){return Iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Iy(e,t)};function Q7(e,t){Iy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Tl=new kt,eW=new Uint16Array([0,1,2,0,2,3]),io=function(e){Q7(t,e);function t(r){var n=e.call(this)||this;return n._anchor=new Bs(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Ne.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Pe.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=eW,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Ce.ROUND_PIXELS,n}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Us(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Us(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,l=n.tx,c=n.ty,h=this.vertexData,p=r.trim,v=r.orig,_=this._anchor,y=0,x=0,m=0,b=0;if(p?(x=p.x-_._x*v.width,y=x+p.width,b=p.y-_._y*v.height,m=b+p.height):(x=-_._x*v.width,y=x+v.width,b=-_._y*v.height,m=b+v.height),h[0]=i*x+a*b+l,h[1]=s*b+o*x+c,h[2]=i*y+a*b+l,h[3]=s*b+o*y+c,h[4]=i*y+a*m+l,h[5]=s*m+o*y+c,h[6]=i*x+a*m+l,h[7]=s*m+o*x+c,this._roundPixels)for(var T=Ce.RESOLUTION,A=0;A<h.length;++A)h[A]=Math.round((h[A]*T|0)/T)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,o=this._anchor,a=this.transform.worldTransform,s=a.a,l=a.b,c=a.c,h=a.d,p=a.tx,v=a.ty,_=-o._x*i.width,y=_+i.width,x=-o._y*i.height,m=x+i.height;n[0]=s*_+c*x+p,n[1]=h*x+l*_+v,n[2]=s*y+c*x+p,n[3]=h*x+l*y+v,n[4]=s*y+c*m+p,n[5]=h*m+l*y+v,n[6]=s*_+c*m+p,n[7]=h*m+l*_+v},t.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new Tf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new st),r=this._localBoundsRect),this._localBounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Tl);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,a=0;return Tl.x>=o&&Tl.x<o+n&&(a=-i*this.anchor.y,Tl.y>=a&&Tl.y<a+i)},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(r,n){var i=r instanceof Pe?r:Pe.from(r,n);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=Us(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=Us(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Pe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Rr);/*!
 * @pixi/text - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ay=function(e,t){return Ay=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ay(e,t)};function tW(e,t){Ay(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Sf;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Sf||(Sf={}));var jm={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Sf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},rW=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],pu=function(){function e(t){this.styleID=0,this.reset(),Xm(this,t,t)}return e.prototype.clone=function(){var t={};return Xm(t,this,jm),new e(t)},e.prototype.reset=function(){Xm(this,jm,jm)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var r=Wm(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var r=Wm(t);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){nW(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var r=Wm(t);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&rW.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+r.join(",")},e}();function WS(e){return typeof e=="number"?dR(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function Wm(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=WS(e[t]);return e}else return WS(e)}function nW(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function Xm(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}var $n=function(){function e(t,r,n,i,o,a,s,l,c){this.text=t,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=l,this.fontProperties=c}return e.measureText=function(t,r,n,i){i===void 0&&(i=e._canvas),n=n==null?r.wordWrap:n;var o=r.toFontString(),a=e.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d");s.font=o;for(var l=n?e.wordWrap(t,r,i):t,c=l.split(/(?:\r\n|\r|\n)/),h=new Array(c.length),p=0,v=0;v<c.length;v++){var _=s.measureText(c[v]).width+(c[v].length-1)*r.letterSpacing;h[v]=_,p=Math.max(p,_)}var y=p+r.strokeThickness;r.dropShadow&&(y+=r.dropShadowDistance);var x=r.lineHeight||a.fontSize+r.strokeThickness,m=Math.max(x,a.fontSize+r.strokeThickness)+(c.length-1)*(x+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new e(t,r,y,m,c,h,x+r.leading,p,a)},e.wordWrap=function(t,r,n){n===void 0&&(n=e._canvas);for(var i=n.getContext("2d"),o=0,a="",s="",l=Object.create(null),c=r.letterSpacing,h=r.whiteSpace,p=e.collapseSpaces(h),v=e.collapseNewlines(h),_=!p,y=r.wordWrapWidth+c,x=e.tokenize(t),m=0;m<x.length;m++){var b=x[m];if(e.isNewline(b)){if(!v){s+=e.addLine(a),_=!p,a="",o=0;continue}b=" "}if(p){var T=e.isBreakingSpace(b),A=e.isBreakingSpace(a[a.length-1]);if(T&&A)continue}var P=e.getFromCache(b,c,l,i);if(P>y)if(a!==""&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(b,r.breakWords))for(var R=e.wordWrapSplit(b),I=0;I<R.length;I++){for(var U=R[I],j=1;R[I+j];){var D=R[I+j],z=U[U.length-1];if(!e.canBreakChars(z,D,b,I,r.breakWords))U+=D;else break;j++}I+=U.length-1;var pe=e.getFromCache(U,c,l,i);pe+o>y&&(s+=e.addLine(a),_=!1,a="",o=0),a+=U,o+=pe}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var ue=m===x.length-1;s+=e.addLine(b,!ue),_=!1,a="",o=0}else P+o>y&&(_=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(b)||_)&&(a+=b,o+=P)}return s+=e.addLine(a,!1),s},e.addLine=function(t,r){return r===void 0&&(r=!0),t=e.trimRight(t),t=r?t+`
`:t,t},e.getFromCache=function(t,r,n,i){var o=n[t];if(typeof o!="number"){var a=t.length*r;o=i.measureText(t).width+a,n[t]=o}return o},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,r){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if(typeof t!="string")return r;for(var i=0;i<t.length;i++){var o=t[i],a=t[i+1];if(e.isBreakingSpace(o,a)||e.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r},e.canBreakWords=function(t,r){return r},e.canBreakChars=function(t,r,n,i,o){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),l=Math.ceil(e.HEIGHT_MULTIPLIER*s);s=s*e.BASELINE_MULTIPLIER|0,n.width=a,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a,l).data,h=c.length,p=a*4,v=0,_=0,y=!1;for(v=0;v<s;++v){for(var x=0;x<p;x+=4)if(c[_+x]!==255){y=!0;break}if(!y)_+=p;else break}for(r.ascent=s-v,_=h-p,y=!1,v=l;v>s;--v){for(var x=0;x<p;x+=4)if(c[_+x]!==255){y=!0;break}if(!y)_-=p;else break}return r.descent=v-s,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),Hd=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch{return document.createElement("canvas")}}();Hd.width=Hd.height=10;$n._canvas=Hd;$n._context=Hd.getContext("2d");$n._fonts={};$n.METRICS_STRING="|\xC9q\xC5";$n.BASELINE_SYMBOL="M";$n.BASELINE_MULTIPLIER=1.4;$n.HEIGHT_MULTIPLIER=2;$n._newlines=[10,13];$n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var iW={texture:!0,children:!1,baseTexture:!0},aN=function(e){tW(t,e);function t(r,n,i){var o=this,a=!1;i||(i=document.createElement("canvas"),a=!0),i.width=3,i.height=3;var s=Pe.from(i);return s.orig=new st,s.trim=new st,o=e.call(this,s)||this,o._ownCanvas=a,o.canvas=i,o.context=o.canvas.getContext("2d"),o._resolution=Ce.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=r,o.style=n,o.localStyleID=-1,o}return t.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,o=$n.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,l=o.lines,c=o.lineHeight,h=o.lineWidths,p=o.maxLineWidth,v=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var _,y,x=n.dropShadow?2:1,m=0;m<x;++m){var b=n.dropShadow&&m===0,T=b?Math.ceil(Math.max(1,s)+n.padding*2):0,A=T*this._resolution;if(b){i.fillStyle="black",i.strokeStyle="black";var P=n.dropShadowColor,R=hu(typeof P=="number"?P:pR(P)),I=n.dropShadowBlur*this._resolution,U=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+R[0]*255+","+R[1]*255+","+R[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=I,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*U,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*U+A}else i.fillStyle=this._generateFillStyle(n,l,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var j=(c-v.fontSize)/2;(!t.nextLineHeightBehavior||c-v.fontSize<0)&&(j=0);for(var D=0;D<l.length;D++)_=n.strokeThickness/2,y=n.strokeThickness/2+D*c+v.ascent+j,n.align==="right"?_+=p-h[D]:n.align==="center"&&(_+=(p-h[D])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(l[D],_+n.padding,y+n.padding-T,!0),n.fill&&this.drawLetterSpacing(l[D],_+n.padding,y+n.padding-T)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(r,n,i,o){o===void 0&&(o=!1);var a=this._style,s=a.letterSpacing,l=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||l){l&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),o?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var c=n,h=Array.from?Array.from(r):r.split(""),p=this.context.measureText(r).width,v=0,_=0;_<h.length;++_){var y=h[_];o?this.context.strokeText(y,c,i):this.context.fillText(y,c,i);for(var x="",m=_+1;m<h.length;++m)x+=h[m];v=this.context.measureText(x).width,c+=p-v+s,p=v}},t.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=vH(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(r){return this.updateText(!0),e.prototype.getLocalBounds.call(this,r)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(r,n,i){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,s=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=this.canvas.width/this._resolution-s-l*2,h=this.canvas.height/this._resolution-s-l*2,p=o.slice(),v=r.fillGradientStops.slice();if(!v.length)for(var _=p.length+1,y=1;y<_;++y)v.push(y/_);if(p.unshift(o[0]),v.unshift(0),p.push(o[o.length-1]),v.push(1),r.fillGradientType===Sf.LINEAR_VERTICAL){a=this.context.createLinearGradient(c/2,l,c/2,h+l);for(var x=i.fontProperties.fontSize+r.strokeThickness,y=0;y<n.length;y++){var m=i.lineHeight*(y-1)+x,b=i.lineHeight*y,T=b;y>0&&m>b&&(T=(b+m)/2);var A=b+x,P=i.lineHeight*(y+1),R=A;y+1<n.length&&P<A&&(R=(A+P)/2);for(var I=(R-T)/h,U=0;U<p.length;U++){var j=0;typeof v[U]=="number"?j=v[U]:j=U/p.length;var D=Math.min(1,Math.max(0,T/h+j*I));D=Number(D.toFixed(5)),a.addColorStop(D,p[U])}}}else{a=this.context.createLinearGradient(l,h/2,c+l,h/2);for(var z=p.length+1,pe=1,y=0;y<p.length;y++){var ue=void 0;typeof v[y]=="number"?ue=v[y]:ue=pe/z,a.addColorStop(ue,p[y]),pe++}}return a},t.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},iW,r),e.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=Us(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=Us(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof pu?this._style=r:this._style=new pu(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(io);/*!
 * @pixi/prepare - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ce.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ry=function(e,t){return Ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ry(e,t)};function oW(e,t){Ry(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var aW=function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function sW(e,t){var r=!1;if(e&&e._textures&&e._textures.length){for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof Pe){var i=e._textures[n].baseTexture;t.indexOf(i)===-1&&(t.push(i),r=!0)}}return r}function uW(e,t){if(e.baseTexture instanceof rt){var r=e.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function lW(e,t){if(e._texture&&e._texture instanceof Pe){var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function fW(e,t){return t instanceof aN?(t.updateText(!0),!0):!1}function cW(e,t){if(t instanceof pu){var r=t.toFontString();return $n.measureFont(r),!0}return!1}function hW(e,t){if(e instanceof aN){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function dW(e,t){return e instanceof pu?(t.indexOf(e)===-1&&t.push(e),!0):!1}var pW=function(){function e(t){var r=this;this.limiter=new aW(Ce.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!r.queue||r.prepareItems()},this.registerFindHook(hW),this.registerFindHook(dW),this.registerFindHook(sW),this.registerFindHook(uW),this.registerFindHook(lW),this.registerUploadHook(fW),this.registerUploadHook(cW)}return e.prototype.upload=function(t,r){typeof t=="function"&&(r=t,t=null),t&&this.add(t),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,mr.system.addOnce(this.tick,this,ro.UTILITY))):r&&r()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],r=!1;if(t&&!t._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)mr.system.addOnce(this.tick,this,ro.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](t,this.queue);r++);if(t instanceof Rr)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},e.prototype.destroy=function(){this.ticking&&mr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function sN(e,t){return t instanceof rt?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function vW(e,t){if(!(t instanceof $d))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&sN(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function _W(e,t){return e instanceof $d?(t.push(e),!0):!1}var mW=function(e){oW(t,e);function t(r){var n=e.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(_W),n.registerUploadHook(sN),n.registerUploadHook(vW),n}return t}(pW);/*!
 * @pixi/spritesheet - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gW=function(){function e(t,r,n){n===void 0&&(n=null),this._texture=t instanceof Pe?t:null,this.baseTexture=t instanceof rt?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var r=this.data.meta.scale,n=Ud(t,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE;r-t<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var s=null,l=null,c=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,h=new st(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);o.rotated?s=new st(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):s=new st(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(l=new st(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Pe(this.baseTexture,s,h,l,o.rotated?2:0,o.anchor),Pe.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var r in t){this.animations[r]=[];for(var n=0;n<t[r].length;n++){var i=t[r][n];this.animations[r].push(this.textures[i])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var r;t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),yW=function(){function e(){}return e.use=function(t,r){var n,i,o=this,a=t.name+"_image";if(!t.data||t.type!==Zt.TYPE.JSON||!t.data.frames||o.resources[a]){r();return}var s=(i=(n=t.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var l=function(y){if(typeof y!="string")return"continue";var x=y.replace(".json",""),m=Fs.resolve(t.url.replace(o.baseUrl,""),y);if(o.resources[x]||Object.values(o.resources).some(function(T){return Fs.format(Fs.parse(T.url))===m}))return"continue";var b={crossOrigin:t.crossOrigin,loadType:Zt.LOAD_TYPE.XHR,xhrType:Zt.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(x,m,b)},c=0,h=s;c<h.length;c++){var p=h[c];l(p)}var v={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},_=e.getResourcePath(t,o.baseUrl);o.add(a,_,v,function(x){if(x.error){r(x.error);return}var m=new gW(x.texture,t.data,t.url);m.parse(function(){t.spritesheet=m,t.textures=m.textures,r()})})},e.getResourcePath=function(t,r){return t.isDataUrl?t.data.meta.image:Fs.resolve(t.url.replace(r,""),t.data.meta.image)},e}();/*!
 * @pixi/sprite-tiling - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ny=function(e,t){return Ny=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ny(e,t)};function uN(e,t){Ny(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wl=new kt;(function(e){uN(t,e);function t(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=e.call(this,r)||this;return o.tileTransform=new xR,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new w1(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,o)},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new st),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,wl);var n=this._width,i=this._height,o=-n*this.anchor._x;if(wl.x>=o&&wl.x<o+n){var a=-i*this.anchor._y;if(wl.y>=a&&wl.y<a+i)return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},t.from=function(r,n){var i=r instanceof Pe?r:Pe.from(r,n);return new t(i,n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),t})(io);var xW=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,XS=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,bW=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,EW=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,TW=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Ph=new nr,wW=function(e){uN(t,e);function t(r){var n=e.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new NR,n.state=Va.for2d(),n}return t.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=Do.from(XS,xW,n),this.shader=r.context.webGLVersion>1?Do.from(EW,TW,n):Do.from(XS,bW,n)},t.prototype.render=function(r){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y);var a=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;o=i.uvs,o[0]=o[6]=-a,o[1]=o[3]=-s,o[2]=o[4]=1-a,o[5]=o[7]=1-s,i.invalidate();var l=r._texture,c=l.baseTexture,h=r.tileTransform.localTransform,p=r.uvMatrix,v=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;v&&(c._glTextures[n.CONTEXT_UID]?v=c.wrapMode!==Zi.CLAMP:c.wrapMode===Zi.CLAMP&&(c.wrapMode=Zi.REPEAT));var _=v?this.simpleShader:this.shader,y=l.width,x=l.height,m=r._width,b=r._height;Ph.set(h.a*y/m,h.b*y/b,h.c*x/m,h.d*x/b,h.tx/m,h.ty/b),Ph.invert(),v?Ph.prepend(p.mapCoord):(_.uniforms.uMapCoord=p.mapCoord.toArray(!0),_.uniforms.uClampFrame=p.uClampFrame,_.uniforms.uClampOffset=p.uClampOffset),_.uniforms.uTransform=Ph.toArray(!0),_.uniforms.uColor=mR(r.tint,r.worldAlpha,_.uniforms.uColor,c.alphaMode),_.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),_.uniforms.uSampler=l,n.shader.bind(_),n.geometry.bind(i),this.state.blendMode=_R(r.blendMode,c.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(Tp);/*!
 * @pixi/mesh - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Py=function(e,t){return Py=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Py(e,t)};function I1(e,t){Py(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var SW=function(){function e(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},e}(),Vm=new kt,VS=new Jh,Cf=function(e){I1(t,e);function t(r,n,i,o){o===void 0&&(o=ni.TRIANGLES);var a=e.call(this)||this;return a.geometry=r,a.shader=n,a.state=i||Va.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=Ce.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===ni.TRIANGLES&&n.length<t.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},t.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[o]),r.plugins[o].render(this)},t.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,o=n._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,s=a.a,l=a.b,c=a.c,h=a.d,p=a.tx,v=a.ty,_=this.vertexData,y=0;y<_.length/2;y++){var x=i[y*2],m=i[y*2+1];_[y*2]=s*x+c*m+p,_[y*2+1]=l*x+h*m+v}if(this._roundPixels)for(var b=Ce.RESOLUTION,y=0;y<_.length;++y)_[y]=Math.round((_[y]*b|0)/b);this.vertexDirty=o}},t.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new SW(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,Vm);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=VS.points,o=this.geometry.getIndex().data,a=o.length,s=this.drawMode===4?3:1,l=0;l+2<a;l+=s){var c=o[l]*2,h=o[l+1]*2,p=o[l+2]*2;if(i[0]=n[c],i[1]=n[c+1],i[2]=n[h],i[3]=n[h+1],i[4]=n[p],i[5]=n[p+1],VS.contains(Vm.x,Vm.y))return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Rr),CW=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,IW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,If=function(e){I1(t,e);function t(r,n){var i=this,o={uSampler:r,alpha:1,uTextureMatrix:nr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=e.call(this,n.program||$f.from(IW,CW),o)||this,i._colorDirty=!1,i.uvMatrix=new w1(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;mR(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Do),Sp=function(e){I1(t,e);function t(r,n,i){var o=e.call(this)||this,a=new lr(r),s=new lr(n,!0),l=new lr(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,Ae.FLOAT).addAttribute("aTextureCoord",s,2,!1,Ae.FLOAT).addIndex(l),o._updateId=-1,o}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Gf);/*!
 * @pixi/text-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Oy=function(e,t){return Oy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Oy(e,t)};function AW(e,t){Oy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var jd=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),RW=function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var o=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var l in a){var c=a[l].split("="),h=c[0],p=c[1].replace(/"/gm,""),v=parseFloat(p),_=isNaN(v)?p:v;s[h]=_}n[o].push(s)}var y=new jd;return n.info.forEach(function(x){return y.info.push({face:x.face,size:parseInt(x.size,10)})}),n.common.forEach(function(x){return y.common.push({lineHeight:parseInt(x.lineHeight,10)})}),n.page.forEach(function(x){return y.page.push({id:parseInt(x.id,10),file:x.file})}),n.char.forEach(function(x){return y.char.push({id:parseInt(x.id,10),page:parseInt(x.page,10),x:parseInt(x.x,10),y:parseInt(x.y,10),width:parseInt(x.width,10),height:parseInt(x.height,10),xoffset:parseInt(x.xoffset,10),yoffset:parseInt(x.yoffset,10),xadvance:parseInt(x.xadvance,10)})}),n.kerning.forEach(function(x){return y.kerning.push({first:parseInt(x.first,10),second:parseInt(x.second,10),amount:parseInt(x.amount,10)})}),n.distanceField.forEach(function(x){return y.distanceField.push({distanceRange:parseInt(x.distanceRange,10),fieldType:x.fieldType})}),y},e}(),Ly=function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var r=new jd,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField"),c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(var c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(var c=0;c<o.length;c++)r.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(var c=0;c<a.length;c++){var h=a[c];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(var c=0;c<s.length;c++)r.kerning.push({first:parseInt(s[c].getAttribute("first"),10),second:parseInt(s[c].getAttribute("second"),10),amount:parseInt(s[c].getAttribute("amount"),10)});for(var c=0;c<l.length;c++)r.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return r},e}(),NW=function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Ly.test(r)}return!1},e.parse=function(t){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Ly.parse(r)},e}(),zm=[RW,Ly,NW];function lN(e){for(var t=0;t<zm.length;t++)if(zm[t].test(e))return zm[t];return null}function PW(e,t,r,n,i,o){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var s,l=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,h=e.width/n-l-c*2,p=e.height/n-l-c*2,v=a.slice(),_=r.fillGradientStops.slice();if(!_.length)for(var y=v.length+1,x=1;x<y;++x)_.push(x/y);if(v.unshift(a[0]),_.unshift(0),v.push(a[a.length-1]),_.push(1),r.fillGradientType===Sf.LINEAR_VERTICAL){s=t.createLinearGradient(h/2,c,h/2,p+c);for(var m=0,b=o.fontProperties.fontSize+r.strokeThickness,T=b/p,x=0;x<i.length;x++)for(var A=o.lineHeight*x,P=0;P<v.length;P++){var R=0;typeof _[P]=="number"?R=_[P]:R=P/v.length;var I=A/p+R*T,U=Math.max(m,I);U=Math.min(U,1),s.addColorStop(U,v[P]),m=U}}else{s=t.createLinearGradient(c,p/2,h+c,p/2);for(var j=v.length+1,D=1,x=0;x<v.length;x++){var z=void 0;typeof _[x]=="number"?z=_[x]:z=D/j,s.addColorStop(z,v[x]),D++}}return s}function OW(e,t,r,n,i,o,a){var s=r.text,l=r.fontProperties;t.translate(n,i),t.scale(o,o);var c=a.strokeThickness/2,h=-(a.strokeThickness/2);if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=PW(e,t,a,o,[s],r),t.strokeStyle=a.stroke,a.dropShadow){var p=a.dropShadowColor,v=hu(typeof p=="number"?p:pR(p)),_=a.dropShadowBlur*o,y=a.dropShadowDistance*o;t.shadowColor="rgba("+v[0]*255+","+v[1]*255+","+v[2]*255+","+a.dropShadowAlpha+")",t.shadowBlur=_,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*y,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*y}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(s,c,h+r.lineHeight-l.descent),a.fill&&t.fillText(s,c,h+r.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function fN(e){return Array.from?Array.from(e):e.split("")}function LW(e){typeof e=="string"&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,l=a;s<=l;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,fN(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function Qh(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var Is=function(){function e(t,r,n){var i,o,a=t.info[0],s=t.common[0],l=t.page[0],c=t.distanceField[0],h=Ud(l.file),p={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=p;for(var v=0;v<t.page.length;v++){var _=t.page[v],y=_.id,x=_.file;p[y]=r instanceof Array?r[v]:r[x],(c==null?void 0:c.fieldType)&&c.fieldType!=="none"&&(p[y].baseTexture.alphaMode=oi.NO_PREMULTIPLIED_ALPHA)}for(var v=0;v<t.char.length;v++){var m=t.char[v],y=m.id,b=m.page,T=t.char[v],A=T.x,P=T.y,R=T.width,I=T.height,U=T.xoffset,j=T.yoffset,D=T.xadvance;A/=h,P/=h,R/=h,I/=h,U/=h,j/=h,D/=h;var z=new st(A+p[b].frame.x/h,P+p[b].frame.y/h,R,I);this.chars[y]={xOffset:U,yOffset:j,xAdvance:D,kerning:{},texture:new Pe(p[b].baseTexture,z),page:b}}for(var v=0;v<t.kerning.length;v++){var pe=t.kerning[v],ue=pe.first,_e=pe.second,qe=pe.amount;ue/=h,_e/=h,qe/=h,this.chars[_e]&&(this.chars[_e].kerning[ue]=qe)}this.distanceFieldRange=c==null?void 0:c.distanceRange,this.distanceFieldType=(o=(i=c==null?void 0:c.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,n){var i;if(t instanceof jd)i=t;else{var o=lN(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof Pe&&(r=[r]);var a=new e(i,r,n);return e.available[a.font]=a,a},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),o=i.chars,a=i.padding,s=i.resolution,l=i.textureWidth,c=i.textureHeight,h=LW(o),p=r instanceof pu?r:new pu(r),v=l,_=new jd;_.info[0]={face:p.fontFamily,size:p.fontSize},_.common[0]={lineHeight:p.fontSize};for(var y=0,x=0,m,b,T,A=0,P=[],R=0;R<h.length;R++){m||(m=document.createElement("canvas"),m.width=l,m.height=c,b=m.getContext("2d"),T=new rt(m,{resolution:s}),P.push(new Pe(T)),_.page.push({id:P.length-1,file:""}));var I=$n.measureText(h[R],p,!1,m),U=I.width,j=Math.ceil(I.height),D=Math.ceil((p.fontStyle==="italic"?2:1)*U);if(x>=c-j*s){if(x===0)throw new Error("[BitmapFont] textureHeight "+c+"px is "+("too small for "+p.fontSize+"px fonts"));--R,m=null,b=null,T=null,x=0,y=0,A=0;continue}if(A=Math.max(j+I.fontProperties.descent,A),D*s+y>=v){--R,x+=A*s,x=Math.ceil(x),y=0,A=0;continue}OW(m,b,I,y,x,s,p);var z=Qh(I.text);_.char.push({id:z,page:P.length-1,x:y/s,y:x/s,width:D,height:j,xoffset:0,yoffset:0,xadvance:Math.ceil(U-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),y+=(D+2*a)*s,y=Math.ceil(y)}for(var R=0,pe=h.length;R<pe;R++)for(var ue=h[R],_e=0;_e<pe;_e++){var qe=h[_e],le=b.measureText(ue).width,fe=b.measureText(qe).width,Se=b.measureText(ue+qe).width,Ue=Se-(le+fe);Ue&&_.kerning.push({first:Qh(ue),second:Qh(qe),amount:Ue})}var vt=new e(_,P,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=vt,vt},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),kW=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,FW=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,UW=[],BW=[],zS=[];(function(e){AW(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,n),a=o.align,s=o.tint,l=o.maxWidth,c=o.letterSpacing,h=o.fontName,p=o.fontSize;if(!Is.available[h])throw new Error('Missing BitmapFont "'+h+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=h,i._fontSize=p||Is.available[h].size,i._text=r,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new Bs(function(){i.dirty=!0},i,0,0),i._roundPixels=Ce.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var r,n=Is.available[this._fontName],i=this._fontSize/n.size,o=new kt,a=[],s=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=fN(c),p=this._maxWidth*n.size/this._fontSize,v=n.distanceFieldType==="none"?UW:BW,_=null,y=0,x=0,m=0,b=-1,T=0,A=0,P=0,R=0,I=0;I<h.length;I++){var U=h[I],j=Qh(U);if(/(?:\s)/.test(U)&&(b=I,T=y,R++),U==="\r"||U===`
`){s.push(y),l.push(-1),x=Math.max(x,y),++m,++A,o.x=0,o.y+=n.lineHeight,_=null,R=0;continue}var D=n.chars[j];if(!!D){_&&D.kerning[_]&&(o.x+=D.kerning[_]);var z=zS.pop()||{texture:Pe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new kt};z.texture=D.texture,z.line=m,z.charCode=j,z.position.x=o.x+D.xOffset+this._letterSpacing/2,z.position.y=o.y+D.yOffset,z.prevSpaces=R,a.push(z),y=z.position.x+Math.max(D.xAdvance,D.texture.orig.width),o.x+=D.xAdvance+this._letterSpacing,P=Math.max(P,D.yOffset+D.texture.height),_=j,b!==-1&&p>0&&o.x>p&&(++A,tu(a,1+b-A,1+I-b),I=b,b=-1,s.push(T),l.push(a.length>0?a[a.length-1].prevSpaces:0),x=Math.max(x,T),m++,o.x=0,o.y+=n.lineHeight,_=null,R=0)}}var pe=h[h.length-1];pe!=="\r"&&pe!==`
`&&(/(?:\s)/.test(pe)&&(y=T),s.push(y),x=Math.max(x,y),l.push(-1));for(var ue=[],I=0;I<=m;I++){var _e=0;this._align==="right"?_e=x-s[I]:this._align==="center"?_e=(x-s[I])/2:this._align==="justify"&&(_e=l[I]<0?0:(x-s[I])/l[I]),ue.push(_e)}for(var qe=a.length,le={},fe=[],Se=this._activePagesMeshData,I=0;I<Se.length;I++)v.push(Se[I]);for(var I=0;I<qe;I++){var Ue=a[I].texture,vt=Ue.baseTexture.uid;if(!le[vt]){var J=v.pop();if(!J){var W=new Sp,ie=void 0,ce=void 0;n.distanceFieldType==="none"?(ie=new If(Pe.EMPTY),ce=Ne.NORMAL):(ie=new If(Pe.EMPTY,{program:$f.from(FW,kW),uniforms:{uFWidth:0}}),ce=Ne.NORMAL_NPM);var Ie=new Cf(W,ie);Ie.blendMode=ce,J={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Ie,vertices:null,uvs:null,indices:null}}J.index=0,J.indexCount=0,J.vertexCount=0,J.uvsCount=0,J.total=0;var Fe=this._textureCache;Fe[vt]=Fe[vt]||new Pe(Ue.baseTexture),J.mesh.texture=Fe[vt],J.mesh.tint=this._tint,fe.push(J),le[vt]=J}le[vt].total++}for(var I=0;I<Se.length;I++)fe.indexOf(Se[I])===-1&&this.removeChild(Se[I].mesh);for(var I=0;I<fe.length;I++)fe[I].mesh.parent!==this&&this.addChild(fe[I].mesh);this._activePagesMeshData=fe;for(var I in le){var J=le[I],Me=J.total;if(!(((r=J.indices)===null||r===void 0?void 0:r.length)>6*Me)||J.vertices.length<Cf.BATCHABLE_SIZE*2)J.vertices=new Float32Array(4*2*Me),J.uvs=new Float32Array(4*2*Me),J.indices=new Uint16Array(6*Me);else for(var ut=J.total,lt=J.vertices,Ke=ut*4*2;Ke<lt.length;Ke++)lt[Ke]=0;J.mesh.size=6*Me}for(var I=0;I<qe;I++){var U=a[I],It=U.position.x+ue[U.line]*(this._align==="justify"?U.prevSpaces:1);this._roundPixels&&(It=Math.round(It));var Je=It*i,ft=U.position.y*i,Ue=U.texture,$e=le[Ue.baseTexture.uid],ht=Ue.frame,nt=Ue._uvs,Ye=$e.index++;$e.indices[Ye*6+0]=0+Ye*4,$e.indices[Ye*6+1]=1+Ye*4,$e.indices[Ye*6+2]=2+Ye*4,$e.indices[Ye*6+3]=0+Ye*4,$e.indices[Ye*6+4]=2+Ye*4,$e.indices[Ye*6+5]=3+Ye*4,$e.vertices[Ye*8+0]=Je,$e.vertices[Ye*8+1]=ft,$e.vertices[Ye*8+2]=Je+ht.width*i,$e.vertices[Ye*8+3]=ft,$e.vertices[Ye*8+4]=Je+ht.width*i,$e.vertices[Ye*8+5]=ft+ht.height*i,$e.vertices[Ye*8+6]=Je,$e.vertices[Ye*8+7]=ft+ht.height*i,$e.uvs[Ye*8+0]=nt.x0,$e.uvs[Ye*8+1]=nt.y0,$e.uvs[Ye*8+2]=nt.x1,$e.uvs[Ye*8+3]=nt.y1,$e.uvs[Ye*8+4]=nt.x2,$e.uvs[Ye*8+5]=nt.y2,$e.uvs[Ye*8+6]=nt.x3,$e.uvs[Ye*8+7]=nt.y3}this._textWidth=x*i,this._textHeight=(o.y+n.lineHeight)*i;for(var I in le){var J=le[I];if(this.anchor.x!==0||this.anchor.y!==0)for(var Gt=0,Kr=this._textWidth*this.anchor.x,si=this._textHeight*this.anchor.y,wn=0;wn<J.total;wn++)J.vertices[Gt++]-=Kr,J.vertices[Gt++]-=si,J.vertices[Gt++]-=Kr,J.vertices[Gt++]-=si,J.vertices[Gt++]-=Kr,J.vertices[Gt++]-=si,J.vertices[Gt++]-=Kr,J.vertices[Gt++]-=si;this._maxLineHeight=P*i;var hr=J.mesh.geometry.getBuffer("aVertexPosition"),jn=J.mesh.geometry.getBuffer("aTextureCoord"),ui=J.mesh.geometry.getIndex();hr.data=J.vertices,jn.data=J.uvs,ui.data=J.indices,hr.update(),jn.update(),ui.update()}for(var I=0;I<a.length;I++)zS.push(a[I])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(r){var n=Is.available[this._fontName],i=n.distanceFieldRange,o=n.distanceFieldType,a=n.size;if(o!=="none")for(var s=this.worldTransform,l=s.a,c=s.b,h=s.c,p=s.d,v=Math.sqrt(l*l+c*c),_=Math.sqrt(h*h+p*p),y=(Math.abs(v)+Math.abs(_))/2,x=this._fontSize/a,m=0,b=this._activePagesMeshData;m<b.length;m++){var T=b[m];T.mesh.shader.uniforms.uFWidth=y*i*x*r.resolution}e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!Is.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var o=n[i];o.destroy(),delete n[i]}this._textureCache=null,e.prototype.destroy.call(this,r)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t})(Rr);var DW=function(){function e(){}return e.add=function(){Zt.setExtensionXhrType("fnt",Zt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=lN(t.data);if(!n){r();return}for(var i=e.getBaseUrl(this,t),o=n.parse(t.data),a={},s=function(x){a[x.metadata.pageFile]=x.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=Is.install(o,a,!0),r())},l=0;l<o.page.length;++l){var c=o.page[l].file,h=i+c,p=!1;for(var v in this.resources){var _=this.resources[v];if(_.url===h){_.metadata.pageFile=c,_.texture?s(_):_.onAfterMiddleware.add(s),p=!0;break}}if(!p){var y={crossOrigin:t.crossOrigin,loadType:Zt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(h,y,s)}}},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),t.baseUrl&&n&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(t.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},e.dirname=function(t){var r=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===t?".":r===""?"/":r},e}();/*!
 * @pixi/filter-alpha - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ky=function(e,t){return ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ky(e,t)};function MW(e,t){ky(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var GW=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(e){MW(t,e);function t(r){r===void 0&&(r=1);var n=e.call(this,jj,GW,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t})(Jo);/*!
 * @pixi/filter-blur - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fy=function(e,t){return Fy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Fy(e,t)};function cN(e,t){Fy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $W=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function HW(e,t){var r=Math.ceil(e/2),n=$W,i="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=o.replace("%index%",a.toString());s=s.replace("%sampleIndex%",a-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}var jW={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},WW=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function XW(e){for(var t=jW[e],r=t.length,n=WW,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,s=0;s<e;s++){var l=o.replace("%index%",s.toString());a=s,s>=r&&(a=e-s-1),l=l.replace("%value%",t[a].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var YS;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(YS||(YS={}));var qS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(qS||(qS={}));var KS;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(KS||(KS={}));var ZS;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(ZS||(ZS={}));var JS;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(JS||(JS={}));var QS;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(QS||(QS={}));var eC;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(eC||(eC={}));var tC;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(tC||(tC={}));var rC;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(rC||(rC={}));var nC;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(nC||(nC={}));var iC;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(iC||(iC={}));var oC;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(oC||(oC={}));var aC;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(aC||(aC={}));var Af;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Af||(Af={}));var sC;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(sC||(sC={}));var uC;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(uC||(uC={}));var lC;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(lC||(lC={}));var fC;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(fC||(fC={}));var cC;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(cC||(cC={}));var hC=function(e){cN(t,e);function t(r,n,i,o,a){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=Ce.FILTER_RESOLUTION),a===void 0&&(a=5);var s=this,l=HW(a,r),c=XW(a);return s=e.call(this,l,c)||this,s.horizontal=r,s.resolution=o,s._quality=0,s.quality=i,s.blur=n,s}return t.prototype.apply=function(r,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,o);else{var a=r.getFilterTexture(),s=r.renderer,l=n,c=a;this.state.blend=!1,r.applyFilter(this,l,c,Af.CLEAR);for(var h=1;h<this.passes-1;h++){r.bindAndClear(l,Af.BLIT),this.uniforms.uSampler=c;var p=c;c=l,l=p,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,c,i,o),r.returnFilterTexture(a)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),t}(Jo);(function(e){cN(t,e);function t(r,n,i,o){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Ce.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this;return a.blurXFilter=new hC(!0,r,n,i,o),a.blurYFilter=new hC(!1,r,n,i,o),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return t.prototype.apply=function(r,n,i,o){var a=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(a&&s){var l=r.getFilterTexture();this.blurXFilter.apply(r,n,l,Af.CLEAR),this.blurYFilter.apply(r,l,i,o),r.returnFilterTexture(l)}else s?this.blurYFilter.apply(r,n,i,o):this.blurXFilter.apply(r,n,i,o)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),t})(Jo);/*!
 * @pixi/filter-color-matrix - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Uy=function(e,t){return Uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Uy(e,t)};function VW(e,t){Uy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zW=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,dC=function(e){VW(t,e);function t(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=e.call(this,JR,zW,n)||this,r.alpha=1,r}return t.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},t.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},t.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.tint=function(r,n){var i=r>>16&255,o=r>>8&255,a=r&255,s=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},t.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),o=Math.sin(r),a=Math.sqrt,s=1/3,l=a(s),c=i+(1-i)*s,h=s*(1-i)-l*o,p=s*(1-i)+l*o,v=s*(1-i)+l*o,_=i+s*(1-i),y=s*(1-i)-l*o,x=s*(1-i)-l*o,m=s*(1-i)+l*o,b=i+s*(1-i),T=[c,h,p,0,0,v,_,y,0,0,x,m,b,0,0,0,0,0,1,0];this._loadMatrix(T,n)},t.prototype.contrast=function(r,n){var i=(r||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.colorTone=function(r,n,i,o,a){r=r||.2,n=n||.15,i=i||16770432,o=o||3375104;var s=(i>>16&255)/255,l=(i>>8&255)/255,c=(i&255)/255,h=(o>>16&255)/255,p=(o>>8&255)/255,v=(o&255)/255,_=[.3,.59,.11,0,0,s,l,c,r,0,h,p,v,n,0,s-h,l-p,c-v,0,0];this._loadMatrix(_,a)},t.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t}(Jo);dC.prototype.grayscale=dC.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var By=function(e,t){return By=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},By(e,t)};function YW(e,t){By(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qW=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,KW=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(e){YW(t,e);function t(r,n){var i=this,o=new nr;return r.renderable=!1,i=e.call(this,KW,qW,{mapSampler:r._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=o,n==null&&(n=20),i.scale=new kt(n,n),i}return t.prototype.apply=function(r,n,i,o){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,s=Math.sqrt(a.a*a.a+a.b*a.b),l=Math.sqrt(a.c*a.c+a.d*a.d);s!==0&&l!==0&&(this.uniforms.rotation[0]=a.a/s,this.uniforms.rotation[1]=a.b/s,this.uniforms.rotation[2]=a.c/l,this.uniforms.rotation[3]=a.d/l),r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),t})(Jo);/*!
 * @pixi/filter-fxaa - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dy=function(e,t){return Dy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Dy(e,t)};function ZW(e,t){Dy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var JW=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,QW=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(e){ZW(t,e);function t(){return e.call(this,JW,QW)||this}return t})(Jo);/*!
 * @pixi/filter-noise - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var My=function(e,t){return My=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},My(e,t)};function eX(e,t){My(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tX=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(e){eX(t,e);function t(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=e.call(this,JR,tX,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),t})(Jo);/*!
 * @pixi/mixin-cache-as-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pC;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(pC||(pC={}));var vC;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(vC||(vC={}));var _C;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(_C||(_C={}));var mC;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(mC||(mC={}));var gC;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(gC||(gC={}));var yC;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(yC||(yC={}));var xC;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(xC||(xC={}));var bC;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(bC||(bC={}));var EC;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(EC||(EC={}));var TC;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(TC||(TC={}));var wC;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(wC||(wC={}));var SC;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(SC||(SC={}));var CC;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(CC||(CC={}));var IC;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(IC||(IC={}));var AC;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(AC||(AC={}));var RC;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(RC||(RC={}));var NC;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(NC||(NC={}));var Gy;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Gy||(Gy={}));var PC;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(PC||(PC={}));var hN=new nr;ir.prototype._cacheAsBitmap=!1;ir.prototype._cacheData=null;ir.prototype._cacheAsBitmapResolution=null;ir.prototype._cacheAsBitmapMultisample=Gy.NONE;var rX=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(ir.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new rX),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});ir.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};ir.prototype._initCachedDisplayObject=function(t){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(Ce.RESOLUTION);var a=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),c=t.projection.transform,h=Ga.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:t.multisample}),p="cacheAsBitmap_"+Da();this._cacheData.textureCacheId=p,rt.addToCache(h.baseTexture,p),Pe.addToCache(h,p);var v=this.transform.localTransform.copyTo(hN).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:v,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=c,t.renderTexture.bind(a,s,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var _=new io(h);_.transform.worldTransform=this.transform.worldTransform,_.anchor.x=-(i.x/i.width),_.anchor.y=-(i.y/i.height),_.alpha=n,_._bounds=this._bounds,this._cacheData.sprite=_,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=_.containsPoint.bind(_)}};ir.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};ir.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=t.context,o=t._projTransform;r.ceil(Ce.RESOLUTION);var a=Ga.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Da();this._cacheData.textureCacheId=s,rt.addToCache(a.baseTexture,s),Pe.addToCache(a,s);var l=hN;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:l,skipUpdateTransform:!1}),t.context=i,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var c=new io(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}};ir.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ir.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ir.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,rt.removeFromCache(this._cacheData.textureCacheId),Pe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ir.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ir.prototype.name=null;Rr.prototype.getChildByName=function(t,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===t)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n];if(!!o.getChildByName){var a=this.children[n].getChildByName(t,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ir.prototype.getGlobalPosition=function(t,r){return t===void 0&&(t=new kt),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,t,r):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/mesh-extras - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $y=function(e,t){return $y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$y(e,t)};function Iu(e,t){$y(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var nX=function(e){Iu(t,e);function t(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=e.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=r,a.height=n,a.build(),a}return t.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],o=[],a=this.segWidth-1,s=this.segHeight-1,l=this.width/a,c=this.height/s,h=0;h<r;h++){var p=h%this.segWidth,v=h/this.segWidth|0;n.push(p*l,v*c),i.push(p/a,v/s)}for(var _=a*s,h=0;h<_;h++){var y=h%a,x=h/a|0,m=x*this.segWidth+y,b=x*this.segWidth+y+1,T=(x+1)*this.segWidth+y,A=(x+1)*this.segWidth+y+1;o.push(m,b,T,b,A,T)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Sp),iX=function(e){Iu(t,e);function t(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var o=e.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=r,o.textureScale=i,o.build(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var r=this.points;if(!!r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),o.data=new Uint16Array((r.length-1)*6));var a=i.data,s=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var l=0,c=r[0],h=this._width*this.textureScale,p=r.length,v=0;v<p;v++){var _=v*4;if(this.textureScale>0){var y=c.x-r[v].x,x=c.y-r[v].y,m=Math.sqrt(y*y+x*x);c=r[v],l+=m/h}else l=v/(p-1);a[_]=l,a[_+1]=0,a[_+2]=l,a[_+3]=1}for(var b=0,v=0;v<p-1;v++){var _=v*2;s[b++]=_,s[b++]=_+1,s[b++]=_+2,s[b++]=_+2,s[b++]=_+1,s[b++]=_+3}i.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,o=0,a=0,s=this.buffers[0].data,l=r.length,c=0;c<l;c++){var h=r[c],p=c*4;c<r.length-1?i=r[c+1]:i=h,a=-(i.x-n.x),o=i.y-n.y;var v=Math.sqrt(o*o+a*a),_=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=v,a/=v,o*=_,a*=_,s[p]=h.x+o,s[p+1]=h.y+a,s[p+2]=h.x-o,s[p+3]=h.y-a,n=h}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(Sp);(function(e){Iu(t,e);function t(r,n,i){i===void 0&&(i=0);var o=this,a=new iX(r.height,n,i),s=new If(r);return i>0&&(r.baseTexture.wrapMode=Zi.REPEAT),o=e.call(this,a,s)||this,o.autoUpdate=!0,o}return t.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,r)},t})(Cf);var oX=function(e){Iu(t,e);function t(r,n,i){var o=this,a=new nX(r.width,r.height,n,i),s=new If(Pe.WHITE);return o=e.call(this,a,s)||this,o.texture=r,o.autoResize=!0,o}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,o=n.height;this.autoResize&&(r.width!==i||r.height!==o)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,r)},t.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,r)},t}(Cf);(function(e){Iu(t,e);function t(r,n,i,o,a){r===void 0&&(r=Pe.EMPTY);var s=this,l=new Sp(n,i,o);l.getBuffer("aVertexPosition").static=!1;var c=new If(r);return s=e.call(this,l,c,null,a)||this,s.autoUpdate=!0,s}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,r)},t})(Cf);var Oh=10;(function(e){Iu(t,e);function t(r,n,i,o,a){n===void 0&&(n=Oh),i===void 0&&(i=Oh),o===void 0&&(o=Oh),a===void 0&&(a=Oh);var s=e.call(this,Pe.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=o,s._topHeight=i,s._bottomHeight=a,s.texture=r,s}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},t.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},t.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(n,o);return a},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t})(oX);/*!
 * @pixi/sprite-animated - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Hy=function(e,t){return Hy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Hy(e,t)};function aX(e,t){Hy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){aX(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r[0]instanceof Pe?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(mr.shared.add(this.update,this,ro.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(r){if(!!this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(r){this.stop(),e.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Pe.from(r[i]));return new t(n)},t.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Pe.from(r[i]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Pe)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(mr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t})(io);/*!
 * pixi.js - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Qo.registerPlugin("accessibility",PH);Qo.registerPlugin("extract",Qj);Qo.registerPlugin("interaction",BH);Qo.registerPlugin("particle",$7);Qo.registerPlugin("prepare",mW);Qo.registerPlugin("batch",zj);Qo.registerPlugin("tilingSprite",wW);Mn.registerPlugin(DW);Mn.registerPlugin(_7);Mn.registerPlugin(L7);Mn.registerPlugin(D7);Mn.registerPlugin(yW);wp.registerPlugin(OH);wp.registerPlugin(u7);let Lh;const sX=new Uint8Array(16);function uX(){if(!Lh&&(Lh=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lh(sX)}const Er=[];for(let e=0;e<256;++e)Er.push((e+256).toString(16).slice(1));function lX(e,t=0){return(Er[e[t+0]]+Er[e[t+1]]+Er[e[t+2]]+Er[e[t+3]]+"-"+Er[e[t+4]]+Er[e[t+5]]+"-"+Er[e[t+6]]+Er[e[t+7]]+"-"+Er[e[t+8]]+Er[e[t+9]]+"-"+Er[e[t+10]]+Er[e[t+11]]+Er[e[t+12]]+Er[e[t+13]]+Er[e[t+14]]+Er[e[t+15]]).toLowerCase()}const fX=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var OC={randomUUID:fX};function kh(e,t,r){if(OC.randomUUID&&!t&&!e)return OC.randomUUID();e=e||{};const n=e.random||(e.rng||uX)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return lX(n)}var jy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",p=1,v=2,_=4,y=1,x=2,m=1,b=2,T=4,A=8,P=16,R=32,I=64,U=128,j=256,D=512,z=30,pe="...",ue=800,_e=16,qe=1,le=2,fe=3,Se=1/0,Ue=9007199254740991,vt=17976931348623157e292,J=0/0,W=4294967295,ie=W-1,ce=W>>>1,Ie=[["ary",U],["bind",m],["bindKey",b],["curry",A],["curryRight",P],["flip",D],["partial",R],["partialRight",I],["rearg",j]],Fe="[object Arguments]",Me="[object Array]",ut="[object AsyncFunction]",lt="[object Boolean]",Ke="[object Date]",It="[object DOMException]",Je="[object Error]",ft="[object Function]",$e="[object GeneratorFunction]",ht="[object Map]",nt="[object Number]",Ye="[object Null]",Gt="[object Object]",Kr="[object Promise]",si="[object Proxy]",wn="[object RegExp]",hr="[object Set]",jn="[object String]",ui="[object Symbol]",zf="[object Undefined]",ao="[object WeakMap]",Yf="[object WeakSet]",so="[object ArrayBuffer]",Ni="[object DataView]",Ya="[object Float32Array]",qa="[object Float64Array]",Ka="[object Int8Array]",Za="[object Int16Array]",Ja="[object Int32Array]",ta="[object Uint8Array]",Bu="[object Uint8ClampedArray]",Du="[object Uint16Array]",ra="[object Uint32Array]",qf=/\b__p \+= '';/g,tv=/\b(__p \+=) '' \+/g,li=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kf=/&(?:amp|lt|gt|quot|#39);/g,Zf=/[&<>"']/g,Jf=RegExp(Kf.source),rv=RegExp(Zf.source),nv=/<%-([\s\S]+?)%>/g,iv=/<%([\s\S]+?)%>/g,Qf=/<%=([\s\S]+?)%>/g,ov=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,av=/^\w*$/,sv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mu=/[\\^$.*+?()[\]{}|]/g,uv=RegExp(Mu.source),Gu=/^\s+/,ec=/\s/,lv=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fv=/\{\n\/\* \[wrapped with (.+)\] \*/,cv=/,? & /,hv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dv=/[()=,{}\[\]\/\s]/,pv=/\\(\\)?/g,vv=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tc=/\w*$/,_v=/^[-+]0x[0-9a-f]+$/i,mv=/^0b[01]+$/i,gv=/^\[object .+?Constructor\]$/,yv=/^0o[0-7]+$/i,xv=/^(?:0|[1-9]\d*)$/,bv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qa=/($^)/,rc=/['\n\r\u2028\u2029\\]/g,fi="\\ud800-\\udfff",nc="\\u0300-\\u036f",uo="\\ufe20-\\ufe2f",Ev="\\u20d0-\\u20ff",na=nc+uo+Ev,es="\\u2700-\\u27bf",ic="a-z\\xdf-\\xf6\\xf8-\\xff",Tv="\\xac\\xb1\\xd7\\xf7",$u="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wv="\\u2000-\\u206f",Sv=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",S="A-Z\\xc0-\\xd6\\xd8-\\xde",k="\\ufe0e\\ufe0f",N=Tv+$u+wv+Sv,M="['\u2019]",H="["+fi+"]",B="["+N+"]",Y="["+na+"]",ee="\\d+",re="["+es+"]",ne="["+ic+"]",ae="[^"+fi+N+ee+es+ic+S+"]",xe="\\ud83c[\\udffb-\\udfff]",We="(?:"+Y+"|"+xe+")",it="[^"+fi+"]",ot="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",gt="["+S+"]",jr="\\u200d",lo="(?:"+ne+"|"+ae+")",Hu="(?:"+gt+"|"+ae+")",oc="(?:"+M+"(?:d|ll|m|re|s|t|ve))?",ts="(?:"+M+"(?:D|LL|M|RE|S|T|VE))?",Cv=We+"?",ac="["+k+"]?",Iv="(?:"+jr+"(?:"+[it,ot,Ft].join("|")+")"+ac+Cv+")*",sc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",WP="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",tx=ac+Cv+Iv,XP="(?:"+[re,ot,Ft].join("|")+")"+tx,VP="(?:"+[it+Y+"?",Y,ot,Ft,H].join("|")+")",zP=RegExp(M,"g"),YP=RegExp(Y,"g"),Av=RegExp(xe+"(?="+xe+")|"+VP+tx,"g"),qP=RegExp([gt+"?"+ne+"+"+oc+"(?="+[B,gt,"$"].join("|")+")",Hu+"+"+ts+"(?="+[B,gt+lo,"$"].join("|")+")",gt+"?"+lo+"+"+oc,gt+"+"+ts,WP,sc,ee,XP].join("|"),"g"),KP=RegExp("["+jr+fi+na+k+"]"),ZP=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,JP=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],QP=-1,At={};At[Ya]=At[qa]=At[Ka]=At[Za]=At[Ja]=At[ta]=At[Bu]=At[Du]=At[ra]=!0,At[Fe]=At[Me]=At[so]=At[lt]=At[Ni]=At[Ke]=At[Je]=At[ft]=At[ht]=At[nt]=At[Gt]=At[wn]=At[hr]=At[jn]=At[ao]=!1;var Tt={};Tt[Fe]=Tt[Me]=Tt[so]=Tt[Ni]=Tt[lt]=Tt[Ke]=Tt[Ya]=Tt[qa]=Tt[Ka]=Tt[Za]=Tt[Ja]=Tt[ht]=Tt[nt]=Tt[Gt]=Tt[wn]=Tt[hr]=Tt[jn]=Tt[ui]=Tt[ta]=Tt[Bu]=Tt[Du]=Tt[ra]=!0,Tt[Je]=Tt[ft]=Tt[ao]=!1;var eO={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},tO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rO={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nO={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},iO=parseFloat,oO=parseInt,rx=typeof Dr=="object"&&Dr&&Dr.Object===Object&&Dr,aO=typeof self=="object"&&self&&self.Object===Object&&self,xr=rx||aO||Function("return this")(),Rv=t&&!t.nodeType&&t,ia=Rv&&!0&&e&&!e.nodeType&&e,nx=ia&&ia.exports===Rv,Nv=nx&&rx.process,Sn=function(){try{var G=ia&&ia.require&&ia.require("util").types;return G||Nv&&Nv.binding&&Nv.binding("util")}catch{}}(),ix=Sn&&Sn.isArrayBuffer,ox=Sn&&Sn.isDate,ax=Sn&&Sn.isMap,sx=Sn&&Sn.isRegExp,ux=Sn&&Sn.isSet,lx=Sn&&Sn.isTypedArray;function ln(G,V,X){switch(X.length){case 0:return G.call(V);case 1:return G.call(V,X[0]);case 2:return G.call(V,X[0],X[1]);case 3:return G.call(V,X[0],X[1],X[2])}return G.apply(V,X)}function sO(G,V,X,me){for(var De=-1,ct=G==null?0:G.length;++De<ct;){var sr=G[De];V(me,sr,X(sr),G)}return me}function Cn(G,V){for(var X=-1,me=G==null?0:G.length;++X<me&&V(G[X],X,G)!==!1;);return G}function uO(G,V){for(var X=G==null?0:G.length;X--&&V(G[X],X,G)!==!1;);return G}function fx(G,V){for(var X=-1,me=G==null?0:G.length;++X<me;)if(!V(G[X],X,G))return!1;return!0}function fo(G,V){for(var X=-1,me=G==null?0:G.length,De=0,ct=[];++X<me;){var sr=G[X];V(sr,X,G)&&(ct[De++]=sr)}return ct}function uc(G,V){var X=G==null?0:G.length;return!!X&&rs(G,V,0)>-1}function Pv(G,V,X){for(var me=-1,De=G==null?0:G.length;++me<De;)if(X(V,G[me]))return!0;return!1}function Ut(G,V){for(var X=-1,me=G==null?0:G.length,De=Array(me);++X<me;)De[X]=V(G[X],X,G);return De}function co(G,V){for(var X=-1,me=V.length,De=G.length;++X<me;)G[De+X]=V[X];return G}function Ov(G,V,X,me){var De=-1,ct=G==null?0:G.length;for(me&&ct&&(X=G[++De]);++De<ct;)X=V(X,G[De],De,G);return X}function lO(G,V,X,me){var De=G==null?0:G.length;for(me&&De&&(X=G[--De]);De--;)X=V(X,G[De],De,G);return X}function Lv(G,V){for(var X=-1,me=G==null?0:G.length;++X<me;)if(V(G[X],X,G))return!0;return!1}var fO=kv("length");function cO(G){return G.split("")}function hO(G){return G.match(hv)||[]}function cx(G,V,X){var me;return X(G,function(De,ct,sr){if(V(De,ct,sr))return me=ct,!1}),me}function lc(G,V,X,me){for(var De=G.length,ct=X+(me?1:-1);me?ct--:++ct<De;)if(V(G[ct],ct,G))return ct;return-1}function rs(G,V,X){return V===V?wO(G,V,X):lc(G,hx,X)}function dO(G,V,X,me){for(var De=X-1,ct=G.length;++De<ct;)if(me(G[De],V))return De;return-1}function hx(G){return G!==G}function dx(G,V){var X=G==null?0:G.length;return X?Uv(G,V)/X:J}function kv(G){return function(V){return V==null?r:V[G]}}function Fv(G){return function(V){return G==null?r:G[V]}}function px(G,V,X,me,De){return De(G,function(ct,sr,Et){X=me?(me=!1,ct):V(X,ct,sr,Et)}),X}function pO(G,V){var X=G.length;for(G.sort(V);X--;)G[X]=G[X].value;return G}function Uv(G,V){for(var X,me=-1,De=G.length;++me<De;){var ct=V(G[me]);ct!==r&&(X=X===r?ct:X+ct)}return X}function Bv(G,V){for(var X=-1,me=Array(G);++X<G;)me[X]=V(X);return me}function vO(G,V){return Ut(V,function(X){return[X,G[X]]})}function vx(G){return G&&G.slice(0,yx(G)+1).replace(Gu,"")}function fn(G){return function(V){return G(V)}}function Dv(G,V){return Ut(V,function(X){return G[X]})}function ju(G,V){return G.has(V)}function _x(G,V){for(var X=-1,me=G.length;++X<me&&rs(V,G[X],0)>-1;);return X}function mx(G,V){for(var X=G.length;X--&&rs(V,G[X],0)>-1;);return X}function _O(G,V){for(var X=G.length,me=0;X--;)G[X]===V&&++me;return me}var mO=Fv(eO),gO=Fv(tO);function yO(G){return"\\"+nO[G]}function xO(G,V){return G==null?r:G[V]}function ns(G){return KP.test(G)}function bO(G){return ZP.test(G)}function EO(G){for(var V,X=[];!(V=G.next()).done;)X.push(V.value);return X}function Mv(G){var V=-1,X=Array(G.size);return G.forEach(function(me,De){X[++V]=[De,me]}),X}function gx(G,V){return function(X){return G(V(X))}}function ho(G,V){for(var X=-1,me=G.length,De=0,ct=[];++X<me;){var sr=G[X];(sr===V||sr===h)&&(G[X]=h,ct[De++]=X)}return ct}function fc(G){var V=-1,X=Array(G.size);return G.forEach(function(me){X[++V]=me}),X}function TO(G){var V=-1,X=Array(G.size);return G.forEach(function(me){X[++V]=[me,me]}),X}function wO(G,V,X){for(var me=X-1,De=G.length;++me<De;)if(G[me]===V)return me;return-1}function SO(G,V,X){for(var me=X+1;me--;)if(G[me]===V)return me;return me}function is(G){return ns(G)?IO(G):fO(G)}function Wn(G){return ns(G)?AO(G):cO(G)}function yx(G){for(var V=G.length;V--&&ec.test(G.charAt(V)););return V}var CO=Fv(rO);function IO(G){for(var V=Av.lastIndex=0;Av.test(G);)++V;return V}function AO(G){return G.match(Av)||[]}function RO(G){return G.match(qP)||[]}var NO=function G(V){V=V==null?xr:os.defaults(xr.Object(),V,os.pick(xr,JP));var X=V.Array,me=V.Date,De=V.Error,ct=V.Function,sr=V.Math,Et=V.Object,Gv=V.RegExp,PO=V.String,In=V.TypeError,cc=X.prototype,OO=ct.prototype,as=Et.prototype,hc=V["__core-js_shared__"],dc=OO.toString,_t=as.hasOwnProperty,LO=0,xx=function(){var u=/[^.]+$/.exec(hc&&hc.keys&&hc.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),pc=as.toString,kO=dc.call(Et),FO=xr._,UO=Gv("^"+dc.call(_t).replace(Mu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vc=nx?V.Buffer:r,po=V.Symbol,_c=V.Uint8Array,bx=vc?vc.allocUnsafe:r,mc=gx(Et.getPrototypeOf,Et),Ex=Et.create,Tx=as.propertyIsEnumerable,gc=cc.splice,wx=po?po.isConcatSpreadable:r,Wu=po?po.iterator:r,oa=po?po.toStringTag:r,yc=function(){try{var u=fa(Et,"defineProperty");return u({},"",{}),u}catch{}}(),BO=V.clearTimeout!==xr.clearTimeout&&V.clearTimeout,DO=me&&me.now!==xr.Date.now&&me.now,MO=V.setTimeout!==xr.setTimeout&&V.setTimeout,xc=sr.ceil,bc=sr.floor,$v=Et.getOwnPropertySymbols,GO=vc?vc.isBuffer:r,Sx=V.isFinite,$O=cc.join,HO=gx(Et.keys,Et),ur=sr.max,Or=sr.min,jO=me.now,WO=V.parseInt,Cx=sr.random,XO=cc.reverse,Hv=fa(V,"DataView"),Xu=fa(V,"Map"),jv=fa(V,"Promise"),ss=fa(V,"Set"),Vu=fa(V,"WeakMap"),zu=fa(Et,"create"),Ec=Vu&&new Vu,us={},VO=ca(Hv),zO=ca(Xu),YO=ca(jv),qO=ca(ss),KO=ca(Vu),Tc=po?po.prototype:r,Yu=Tc?Tc.valueOf:r,Ix=Tc?Tc.toString:r;function w(u){if(Vt(u)&&!Ge(u)&&!(u instanceof Qe)){if(u instanceof An)return u;if(_t.call(u,"__wrapped__"))return Ab(u)}return new An(u)}var ls=function(){function u(){}return function(f){if(!$t(f))return{};if(Ex)return Ex(f);u.prototype=f;var d=new u;return u.prototype=r,d}}();function wc(){}function An(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=r}w.templateSettings={escape:nv,evaluate:iv,interpolate:Qf,variable:"",imports:{_:w}},w.prototype=wc.prototype,w.prototype.constructor=w,An.prototype=ls(wc.prototype),An.prototype.constructor=An;function Qe(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function ZO(){var u=new Qe(this.__wrapped__);return u.__actions__=Zr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Zr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Zr(this.__views__),u}function JO(){if(this.__filtered__){var u=new Qe(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function QO(){var u=this.__wrapped__.value(),f=this.__dir__,d=Ge(u),g=f<0,E=d?u.length:0,C=cL(0,E,this.__views__),O=C.start,F=C.end,$=F-O,q=g?F:O-1,K=this.__iteratees__,Q=K.length,he=0,we=Or($,this.__takeCount__);if(!d||!g&&E==$&&we==$)return Zx(u,this.__actions__);var Le=[];e:for(;$--&&he<we;){q+=f;for(var Xe=-1,ke=u[q];++Xe<Q;){var Ze=K[Xe],tt=Ze.iteratee,dn=Ze.type,Vr=tt(ke);if(dn==le)ke=Vr;else if(!Vr){if(dn==qe)continue e;break e}}Le[he++]=ke}return Le}Qe.prototype=ls(wc.prototype),Qe.prototype.constructor=Qe;function aa(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var g=u[f];this.set(g[0],g[1])}}function e3(){this.__data__=zu?zu(null):{},this.size=0}function t3(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function r3(u){var f=this.__data__;if(zu){var d=f[u];return d===l?r:d}return _t.call(f,u)?f[u]:r}function n3(u){var f=this.__data__;return zu?f[u]!==r:_t.call(f,u)}function i3(u,f){var d=this.__data__;return this.size+=this.has(u)?0:1,d[u]=zu&&f===r?l:f,this}aa.prototype.clear=e3,aa.prototype.delete=t3,aa.prototype.get=r3,aa.prototype.has=n3,aa.prototype.set=i3;function Pi(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var g=u[f];this.set(g[0],g[1])}}function o3(){this.__data__=[],this.size=0}function a3(u){var f=this.__data__,d=Sc(f,u);if(d<0)return!1;var g=f.length-1;return d==g?f.pop():gc.call(f,d,1),--this.size,!0}function s3(u){var f=this.__data__,d=Sc(f,u);return d<0?r:f[d][1]}function u3(u){return Sc(this.__data__,u)>-1}function l3(u,f){var d=this.__data__,g=Sc(d,u);return g<0?(++this.size,d.push([u,f])):d[g][1]=f,this}Pi.prototype.clear=o3,Pi.prototype.delete=a3,Pi.prototype.get=s3,Pi.prototype.has=u3,Pi.prototype.set=l3;function Oi(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var g=u[f];this.set(g[0],g[1])}}function f3(){this.size=0,this.__data__={hash:new aa,map:new(Xu||Pi),string:new aa}}function c3(u){var f=Bc(this,u).delete(u);return this.size-=f?1:0,f}function h3(u){return Bc(this,u).get(u)}function d3(u){return Bc(this,u).has(u)}function p3(u,f){var d=Bc(this,u),g=d.size;return d.set(u,f),this.size+=d.size==g?0:1,this}Oi.prototype.clear=f3,Oi.prototype.delete=c3,Oi.prototype.get=h3,Oi.prototype.has=d3,Oi.prototype.set=p3;function sa(u){var f=-1,d=u==null?0:u.length;for(this.__data__=new Oi;++f<d;)this.add(u[f])}function v3(u){return this.__data__.set(u,l),this}function _3(u){return this.__data__.has(u)}sa.prototype.add=sa.prototype.push=v3,sa.prototype.has=_3;function Xn(u){var f=this.__data__=new Pi(u);this.size=f.size}function m3(){this.__data__=new Pi,this.size=0}function g3(u){var f=this.__data__,d=f.delete(u);return this.size=f.size,d}function y3(u){return this.__data__.get(u)}function x3(u){return this.__data__.has(u)}function b3(u,f){var d=this.__data__;if(d instanceof Pi){var g=d.__data__;if(!Xu||g.length<i-1)return g.push([u,f]),this.size=++d.size,this;d=this.__data__=new Oi(g)}return d.set(u,f),this.size=d.size,this}Xn.prototype.clear=m3,Xn.prototype.delete=g3,Xn.prototype.get=y3,Xn.prototype.has=x3,Xn.prototype.set=b3;function Ax(u,f){var d=Ge(u),g=!d&&ha(u),E=!d&&!g&&yo(u),C=!d&&!g&&!E&&ds(u),O=d||g||E||C,F=O?Bv(u.length,PO):[],$=F.length;for(var q in u)(f||_t.call(u,q))&&!(O&&(q=="length"||E&&(q=="offset"||q=="parent")||C&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||Ui(q,$)))&&F.push(q);return F}function Rx(u){var f=u.length;return f?u[e_(0,f-1)]:r}function E3(u,f){return Dc(Zr(u),ua(f,0,u.length))}function T3(u){return Dc(Zr(u))}function Wv(u,f,d){(d!==r&&!Vn(u[f],d)||d===r&&!(f in u))&&Li(u,f,d)}function qu(u,f,d){var g=u[f];(!(_t.call(u,f)&&Vn(g,d))||d===r&&!(f in u))&&Li(u,f,d)}function Sc(u,f){for(var d=u.length;d--;)if(Vn(u[d][0],f))return d;return-1}function w3(u,f,d,g){return vo(u,function(E,C,O){f(g,E,d(E),O)}),g}function Nx(u,f){return u&&hi(f,dr(f),u)}function S3(u,f){return u&&hi(f,Qr(f),u)}function Li(u,f,d){f=="__proto__"&&yc?yc(u,f,{configurable:!0,enumerable:!0,value:d,writable:!0}):u[f]=d}function Xv(u,f){for(var d=-1,g=f.length,E=X(g),C=u==null;++d<g;)E[d]=C?r:S_(u,f[d]);return E}function ua(u,f,d){return u===u&&(d!==r&&(u=u<=d?u:d),f!==r&&(u=u>=f?u:f)),u}function Rn(u,f,d,g,E,C){var O,F=f&p,$=f&v,q=f&_;if(d&&(O=E?d(u,g,E,C):d(u)),O!==r)return O;if(!$t(u))return u;var K=Ge(u);if(K){if(O=dL(u),!F)return Zr(u,O)}else{var Q=Lr(u),he=Q==ft||Q==$e;if(yo(u))return eb(u,F);if(Q==Gt||Q==Fe||he&&!E){if(O=$||he?{}:yb(u),!F)return $?rL(u,S3(O,u)):tL(u,Nx(O,u))}else{if(!Tt[Q])return E?u:{};O=pL(u,Q,F)}}C||(C=new Xn);var we=C.get(u);if(we)return we;C.set(u,O),Yb(u)?u.forEach(function(ke){O.add(Rn(ke,f,d,ke,u,C))}):Vb(u)&&u.forEach(function(ke,Ze){O.set(Ze,Rn(ke,f,d,Ze,u,C))});var Le=q?$?c_:f_:$?Qr:dr,Xe=K?r:Le(u);return Cn(Xe||u,function(ke,Ze){Xe&&(Ze=ke,ke=u[Ze]),qu(O,Ze,Rn(ke,f,d,Ze,u,C))}),O}function C3(u){var f=dr(u);return function(d){return Px(d,u,f)}}function Px(u,f,d){var g=d.length;if(u==null)return!g;for(u=Et(u);g--;){var E=d[g],C=f[E],O=u[E];if(O===r&&!(E in u)||!C(O))return!1}return!0}function Ox(u,f,d){if(typeof u!="function")throw new In(a);return rl(function(){u.apply(r,d)},f)}function Ku(u,f,d,g){var E=-1,C=uc,O=!0,F=u.length,$=[],q=f.length;if(!F)return $;d&&(f=Ut(f,fn(d))),g?(C=Pv,O=!1):f.length>=i&&(C=ju,O=!1,f=new sa(f));e:for(;++E<F;){var K=u[E],Q=d==null?K:d(K);if(K=g||K!==0?K:0,O&&Q===Q){for(var he=q;he--;)if(f[he]===Q)continue e;$.push(K)}else C(f,Q,g)||$.push(K)}return $}var vo=ob(ci),Lx=ob(zv,!0);function I3(u,f){var d=!0;return vo(u,function(g,E,C){return d=!!f(g,E,C),d}),d}function Cc(u,f,d){for(var g=-1,E=u.length;++g<E;){var C=u[g],O=f(C);if(O!=null&&(F===r?O===O&&!hn(O):d(O,F)))var F=O,$=C}return $}function A3(u,f,d,g){var E=u.length;for(d=He(d),d<0&&(d=-d>E?0:E+d),g=g===r||g>E?E:He(g),g<0&&(g+=E),g=d>g?0:Kb(g);d<g;)u[d++]=f;return u}function kx(u,f){var d=[];return vo(u,function(g,E,C){f(g,E,C)&&d.push(g)}),d}function br(u,f,d,g,E){var C=-1,O=u.length;for(d||(d=_L),E||(E=[]);++C<O;){var F=u[C];f>0&&d(F)?f>1?br(F,f-1,d,g,E):co(E,F):g||(E[E.length]=F)}return E}var Vv=ab(),Fx=ab(!0);function ci(u,f){return u&&Vv(u,f,dr)}function zv(u,f){return u&&Fx(u,f,dr)}function Ic(u,f){return fo(f,function(d){return Bi(u[d])})}function la(u,f){f=mo(f,u);for(var d=0,g=f.length;u!=null&&d<g;)u=u[di(f[d++])];return d&&d==g?u:r}function Ux(u,f,d){var g=f(u);return Ge(u)?g:co(g,d(u))}function Wr(u){return u==null?u===r?zf:Ye:oa&&oa in Et(u)?fL(u):TL(u)}function Yv(u,f){return u>f}function R3(u,f){return u!=null&&_t.call(u,f)}function N3(u,f){return u!=null&&f in Et(u)}function P3(u,f,d){return u>=Or(f,d)&&u<ur(f,d)}function qv(u,f,d){for(var g=d?Pv:uc,E=u[0].length,C=u.length,O=C,F=X(C),$=1/0,q=[];O--;){var K=u[O];O&&f&&(K=Ut(K,fn(f))),$=Or(K.length,$),F[O]=!d&&(f||E>=120&&K.length>=120)?new sa(O&&K):r}K=u[0];var Q=-1,he=F[0];e:for(;++Q<E&&q.length<$;){var we=K[Q],Le=f?f(we):we;if(we=d||we!==0?we:0,!(he?ju(he,Le):g(q,Le,d))){for(O=C;--O;){var Xe=F[O];if(!(Xe?ju(Xe,Le):g(u[O],Le,d)))continue e}he&&he.push(Le),q.push(we)}}return q}function O3(u,f,d,g){return ci(u,function(E,C,O){f(g,d(E),C,O)}),g}function Zu(u,f,d){f=mo(f,u),u=Tb(u,f);var g=u==null?u:u[di(Pn(f))];return g==null?r:ln(g,u,d)}function Bx(u){return Vt(u)&&Wr(u)==Fe}function L3(u){return Vt(u)&&Wr(u)==so}function k3(u){return Vt(u)&&Wr(u)==Ke}function Ju(u,f,d,g,E){return u===f?!0:u==null||f==null||!Vt(u)&&!Vt(f)?u!==u&&f!==f:F3(u,f,d,g,Ju,E)}function F3(u,f,d,g,E,C){var O=Ge(u),F=Ge(f),$=O?Me:Lr(u),q=F?Me:Lr(f);$=$==Fe?Gt:$,q=q==Fe?Gt:q;var K=$==Gt,Q=q==Gt,he=$==q;if(he&&yo(u)){if(!yo(f))return!1;O=!0,K=!1}if(he&&!K)return C||(C=new Xn),O||ds(u)?_b(u,f,d,g,E,C):uL(u,f,$,d,g,E,C);if(!(d&y)){var we=K&&_t.call(u,"__wrapped__"),Le=Q&&_t.call(f,"__wrapped__");if(we||Le){var Xe=we?u.value():u,ke=Le?f.value():f;return C||(C=new Xn),E(Xe,ke,d,g,C)}}return he?(C||(C=new Xn),lL(u,f,d,g,E,C)):!1}function U3(u){return Vt(u)&&Lr(u)==ht}function Kv(u,f,d,g){var E=d.length,C=E,O=!g;if(u==null)return!C;for(u=Et(u);E--;){var F=d[E];if(O&&F[2]?F[1]!==u[F[0]]:!(F[0]in u))return!1}for(;++E<C;){F=d[E];var $=F[0],q=u[$],K=F[1];if(O&&F[2]){if(q===r&&!($ in u))return!1}else{var Q=new Xn;if(g)var he=g(q,K,$,u,f,Q);if(!(he===r?Ju(K,q,y|x,g,Q):he))return!1}}return!0}function Dx(u){if(!$t(u)||gL(u))return!1;var f=Bi(u)?UO:gv;return f.test(ca(u))}function B3(u){return Vt(u)&&Wr(u)==wn}function D3(u){return Vt(u)&&Lr(u)==hr}function M3(u){return Vt(u)&&Wc(u.length)&&!!At[Wr(u)]}function Mx(u){return typeof u=="function"?u:u==null?en:typeof u=="object"?Ge(u)?Hx(u[0],u[1]):$x(u):sE(u)}function Zv(u){if(!tl(u))return HO(u);var f=[];for(var d in Et(u))_t.call(u,d)&&d!="constructor"&&f.push(d);return f}function G3(u){if(!$t(u))return EL(u);var f=tl(u),d=[];for(var g in u)g=="constructor"&&(f||!_t.call(u,g))||d.push(g);return d}function Jv(u,f){return u<f}function Gx(u,f){var d=-1,g=Jr(u)?X(u.length):[];return vo(u,function(E,C,O){g[++d]=f(E,C,O)}),g}function $x(u){var f=d_(u);return f.length==1&&f[0][2]?bb(f[0][0],f[0][1]):function(d){return d===u||Kv(d,u,f)}}function Hx(u,f){return v_(u)&&xb(f)?bb(di(u),f):function(d){var g=S_(d,u);return g===r&&g===f?C_(d,u):Ju(f,g,y|x)}}function Ac(u,f,d,g,E){u!==f&&Vv(f,function(C,O){if(E||(E=new Xn),$t(C))$3(u,f,O,d,Ac,g,E);else{var F=g?g(m_(u,O),C,O+"",u,f,E):r;F===r&&(F=C),Wv(u,O,F)}},Qr)}function $3(u,f,d,g,E,C,O){var F=m_(u,d),$=m_(f,d),q=O.get($);if(q){Wv(u,d,q);return}var K=C?C(F,$,d+"",u,f,O):r,Q=K===r;if(Q){var he=Ge($),we=!he&&yo($),Le=!he&&!we&&ds($);K=$,he||we||Le?Ge(F)?K=F:Qt(F)?K=Zr(F):we?(Q=!1,K=eb($,!0)):Le?(Q=!1,K=tb($,!0)):K=[]:nl($)||ha($)?(K=F,ha(F)?K=Zb(F):(!$t(F)||Bi(F))&&(K=yb($))):Q=!1}Q&&(O.set($,K),E(K,$,g,C,O),O.delete($)),Wv(u,d,K)}function jx(u,f){var d=u.length;if(!!d)return f+=f<0?d:0,Ui(f,d)?u[f]:r}function Wx(u,f,d){f.length?f=Ut(f,function(C){return Ge(C)?function(O){return la(O,C.length===1?C[0]:C)}:C}):f=[en];var g=-1;f=Ut(f,fn(Oe()));var E=Gx(u,function(C,O,F){var $=Ut(f,function(q){return q(C)});return{criteria:$,index:++g,value:C}});return pO(E,function(C,O){return eL(C,O,d)})}function H3(u,f){return Xx(u,f,function(d,g){return C_(u,g)})}function Xx(u,f,d){for(var g=-1,E=f.length,C={};++g<E;){var O=f[g],F=la(u,O);d(F,O)&&Qu(C,mo(O,u),F)}return C}function j3(u){return function(f){return la(f,u)}}function Qv(u,f,d,g){var E=g?dO:rs,C=-1,O=f.length,F=u;for(u===f&&(f=Zr(f)),d&&(F=Ut(u,fn(d)));++C<O;)for(var $=0,q=f[C],K=d?d(q):q;($=E(F,K,$,g))>-1;)F!==u&&gc.call(F,$,1),gc.call(u,$,1);return u}function Vx(u,f){for(var d=u?f.length:0,g=d-1;d--;){var E=f[d];if(d==g||E!==C){var C=E;Ui(E)?gc.call(u,E,1):n_(u,E)}}return u}function e_(u,f){return u+bc(Cx()*(f-u+1))}function W3(u,f,d,g){for(var E=-1,C=ur(xc((f-u)/(d||1)),0),O=X(C);C--;)O[g?C:++E]=u,u+=d;return O}function t_(u,f){var d="";if(!u||f<1||f>Ue)return d;do f%2&&(d+=u),f=bc(f/2),f&&(u+=u);while(f);return d}function ze(u,f){return g_(Eb(u,f,en),u+"")}function X3(u){return Rx(ps(u))}function V3(u,f){var d=ps(u);return Dc(d,ua(f,0,d.length))}function Qu(u,f,d,g){if(!$t(u))return u;f=mo(f,u);for(var E=-1,C=f.length,O=C-1,F=u;F!=null&&++E<C;){var $=di(f[E]),q=d;if($==="__proto__"||$==="constructor"||$==="prototype")return u;if(E!=O){var K=F[$];q=g?g(K,$,F):r,q===r&&(q=$t(K)?K:Ui(f[E+1])?[]:{})}qu(F,$,q),F=F[$]}return u}var zx=Ec?function(u,f){return Ec.set(u,f),u}:en,z3=yc?function(u,f){return yc(u,"toString",{configurable:!0,enumerable:!1,value:A_(f),writable:!0})}:en;function Y3(u){return Dc(ps(u))}function Nn(u,f,d){var g=-1,E=u.length;f<0&&(f=-f>E?0:E+f),d=d>E?E:d,d<0&&(d+=E),E=f>d?0:d-f>>>0,f>>>=0;for(var C=X(E);++g<E;)C[g]=u[g+f];return C}function q3(u,f){var d;return vo(u,function(g,E,C){return d=f(g,E,C),!d}),!!d}function Rc(u,f,d){var g=0,E=u==null?g:u.length;if(typeof f=="number"&&f===f&&E<=ce){for(;g<E;){var C=g+E>>>1,O=u[C];O!==null&&!hn(O)&&(d?O<=f:O<f)?g=C+1:E=C}return E}return r_(u,f,en,d)}function r_(u,f,d,g){var E=0,C=u==null?0:u.length;if(C===0)return 0;f=d(f);for(var O=f!==f,F=f===null,$=hn(f),q=f===r;E<C;){var K=bc((E+C)/2),Q=d(u[K]),he=Q!==r,we=Q===null,Le=Q===Q,Xe=hn(Q);if(O)var ke=g||Le;else q?ke=Le&&(g||he):F?ke=Le&&he&&(g||!we):$?ke=Le&&he&&!we&&(g||!Xe):we||Xe?ke=!1:ke=g?Q<=f:Q<f;ke?E=K+1:C=K}return Or(C,ie)}function Yx(u,f){for(var d=-1,g=u.length,E=0,C=[];++d<g;){var O=u[d],F=f?f(O):O;if(!d||!Vn(F,$)){var $=F;C[E++]=O===0?0:O}}return C}function qx(u){return typeof u=="number"?u:hn(u)?J:+u}function cn(u){if(typeof u=="string")return u;if(Ge(u))return Ut(u,cn)+"";if(hn(u))return Ix?Ix.call(u):"";var f=u+"";return f=="0"&&1/u==-Se?"-0":f}function _o(u,f,d){var g=-1,E=uc,C=u.length,O=!0,F=[],$=F;if(d)O=!1,E=Pv;else if(C>=i){var q=f?null:aL(u);if(q)return fc(q);O=!1,E=ju,$=new sa}else $=f?[]:F;e:for(;++g<C;){var K=u[g],Q=f?f(K):K;if(K=d||K!==0?K:0,O&&Q===Q){for(var he=$.length;he--;)if($[he]===Q)continue e;f&&$.push(Q),F.push(K)}else E($,Q,d)||($!==F&&$.push(Q),F.push(K))}return F}function n_(u,f){return f=mo(f,u),u=Tb(u,f),u==null||delete u[di(Pn(f))]}function Kx(u,f,d,g){return Qu(u,f,d(la(u,f)),g)}function Nc(u,f,d,g){for(var E=u.length,C=g?E:-1;(g?C--:++C<E)&&f(u[C],C,u););return d?Nn(u,g?0:C,g?C+1:E):Nn(u,g?C+1:0,g?E:C)}function Zx(u,f){var d=u;return d instanceof Qe&&(d=d.value()),Ov(f,function(g,E){return E.func.apply(E.thisArg,co([g],E.args))},d)}function i_(u,f,d){var g=u.length;if(g<2)return g?_o(u[0]):[];for(var E=-1,C=X(g);++E<g;)for(var O=u[E],F=-1;++F<g;)F!=E&&(C[E]=Ku(C[E]||O,u[F],f,d));return _o(br(C,1),f,d)}function Jx(u,f,d){for(var g=-1,E=u.length,C=f.length,O={};++g<E;){var F=g<C?f[g]:r;d(O,u[g],F)}return O}function o_(u){return Qt(u)?u:[]}function a_(u){return typeof u=="function"?u:en}function mo(u,f){return Ge(u)?u:v_(u,f)?[u]:Ib(dt(u))}var K3=ze;function go(u,f,d){var g=u.length;return d=d===r?g:d,!f&&d>=g?u:Nn(u,f,d)}var Qx=BO||function(u){return xr.clearTimeout(u)};function eb(u,f){if(f)return u.slice();var d=u.length,g=bx?bx(d):new u.constructor(d);return u.copy(g),g}function s_(u){var f=new u.constructor(u.byteLength);return new _c(f).set(new _c(u)),f}function Z3(u,f){var d=f?s_(u.buffer):u.buffer;return new u.constructor(d,u.byteOffset,u.byteLength)}function J3(u){var f=new u.constructor(u.source,tc.exec(u));return f.lastIndex=u.lastIndex,f}function Q3(u){return Yu?Et(Yu.call(u)):{}}function tb(u,f){var d=f?s_(u.buffer):u.buffer;return new u.constructor(d,u.byteOffset,u.length)}function rb(u,f){if(u!==f){var d=u!==r,g=u===null,E=u===u,C=hn(u),O=f!==r,F=f===null,$=f===f,q=hn(f);if(!F&&!q&&!C&&u>f||C&&O&&$&&!F&&!q||g&&O&&$||!d&&$||!E)return 1;if(!g&&!C&&!q&&u<f||q&&d&&E&&!g&&!C||F&&d&&E||!O&&E||!$)return-1}return 0}function eL(u,f,d){for(var g=-1,E=u.criteria,C=f.criteria,O=E.length,F=d.length;++g<O;){var $=rb(E[g],C[g]);if($){if(g>=F)return $;var q=d[g];return $*(q=="desc"?-1:1)}}return u.index-f.index}function nb(u,f,d,g){for(var E=-1,C=u.length,O=d.length,F=-1,$=f.length,q=ur(C-O,0),K=X($+q),Q=!g;++F<$;)K[F]=f[F];for(;++E<O;)(Q||E<C)&&(K[d[E]]=u[E]);for(;q--;)K[F++]=u[E++];return K}function ib(u,f,d,g){for(var E=-1,C=u.length,O=-1,F=d.length,$=-1,q=f.length,K=ur(C-F,0),Q=X(K+q),he=!g;++E<K;)Q[E]=u[E];for(var we=E;++$<q;)Q[we+$]=f[$];for(;++O<F;)(he||E<C)&&(Q[we+d[O]]=u[E++]);return Q}function Zr(u,f){var d=-1,g=u.length;for(f||(f=X(g));++d<g;)f[d]=u[d];return f}function hi(u,f,d,g){var E=!d;d||(d={});for(var C=-1,O=f.length;++C<O;){var F=f[C],$=g?g(d[F],u[F],F,d,u):r;$===r&&($=u[F]),E?Li(d,F,$):qu(d,F,$)}return d}function tL(u,f){return hi(u,p_(u),f)}function rL(u,f){return hi(u,mb(u),f)}function Pc(u,f){return function(d,g){var E=Ge(d)?sO:w3,C=f?f():{};return E(d,u,Oe(g,2),C)}}function fs(u){return ze(function(f,d){var g=-1,E=d.length,C=E>1?d[E-1]:r,O=E>2?d[2]:r;for(C=u.length>3&&typeof C=="function"?(E--,C):r,O&&Xr(d[0],d[1],O)&&(C=E<3?r:C,E=1),f=Et(f);++g<E;){var F=d[g];F&&u(f,F,g,C)}return f})}function ob(u,f){return function(d,g){if(d==null)return d;if(!Jr(d))return u(d,g);for(var E=d.length,C=f?E:-1,O=Et(d);(f?C--:++C<E)&&g(O[C],C,O)!==!1;);return d}}function ab(u){return function(f,d,g){for(var E=-1,C=Et(f),O=g(f),F=O.length;F--;){var $=O[u?F:++E];if(d(C[$],$,C)===!1)break}return f}}function nL(u,f,d){var g=f&m,E=el(u);function C(){var O=this&&this!==xr&&this instanceof C?E:u;return O.apply(g?d:this,arguments)}return C}function sb(u){return function(f){f=dt(f);var d=ns(f)?Wn(f):r,g=d?d[0]:f.charAt(0),E=d?go(d,1).join(""):f.slice(1);return g[u]()+E}}function cs(u){return function(f){return Ov(oE(iE(f).replace(zP,"")),u,"")}}function el(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var d=ls(u.prototype),g=u.apply(d,f);return $t(g)?g:d}}function iL(u,f,d){var g=el(u);function E(){for(var C=arguments.length,O=X(C),F=C,$=hs(E);F--;)O[F]=arguments[F];var q=C<3&&O[0]!==$&&O[C-1]!==$?[]:ho(O,$);if(C-=q.length,C<d)return hb(u,f,Oc,E.placeholder,r,O,q,r,r,d-C);var K=this&&this!==xr&&this instanceof E?g:u;return ln(K,this,O)}return E}function ub(u){return function(f,d,g){var E=Et(f);if(!Jr(f)){var C=Oe(d,3);f=dr(f),d=function(F){return C(E[F],F,E)}}var O=u(f,d,g);return O>-1?E[C?f[O]:O]:r}}function lb(u){return Fi(function(f){var d=f.length,g=d,E=An.prototype.thru;for(u&&f.reverse();g--;){var C=f[g];if(typeof C!="function")throw new In(a);if(E&&!O&&Uc(C)=="wrapper")var O=new An([],!0)}for(g=O?g:d;++g<d;){C=f[g];var F=Uc(C),$=F=="wrapper"?h_(C):r;$&&__($[0])&&$[1]==(U|A|R|j)&&!$[4].length&&$[9]==1?O=O[Uc($[0])].apply(O,$[3]):O=C.length==1&&__(C)?O[F]():O.thru(C)}return function(){var q=arguments,K=q[0];if(O&&q.length==1&&Ge(K))return O.plant(K).value();for(var Q=0,he=d?f[Q].apply(this,q):K;++Q<d;)he=f[Q].call(this,he);return he}})}function Oc(u,f,d,g,E,C,O,F,$,q){var K=f&U,Q=f&m,he=f&b,we=f&(A|P),Le=f&D,Xe=he?r:el(u);function ke(){for(var Ze=arguments.length,tt=X(Ze),dn=Ze;dn--;)tt[dn]=arguments[dn];if(we)var Vr=hs(ke),pn=_O(tt,Vr);if(g&&(tt=nb(tt,g,E,we)),C&&(tt=ib(tt,C,O,we)),Ze-=pn,we&&Ze<q){var er=ho(tt,Vr);return hb(u,f,Oc,ke.placeholder,d,tt,er,F,$,q-Ze)}var zn=Q?d:this,Mi=he?zn[u]:u;return Ze=tt.length,F?tt=wL(tt,F):Le&&Ze>1&&tt.reverse(),K&&$<Ze&&(tt.length=$),this&&this!==xr&&this instanceof ke&&(Mi=Xe||el(Mi)),Mi.apply(zn,tt)}return ke}function fb(u,f){return function(d,g){return O3(d,u,f(g),{})}}function Lc(u,f){return function(d,g){var E;if(d===r&&g===r)return f;if(d!==r&&(E=d),g!==r){if(E===r)return g;typeof d=="string"||typeof g=="string"?(d=cn(d),g=cn(g)):(d=qx(d),g=qx(g)),E=u(d,g)}return E}}function u_(u){return Fi(function(f){return f=Ut(f,fn(Oe())),ze(function(d){var g=this;return u(f,function(E){return ln(E,g,d)})})})}function kc(u,f){f=f===r?" ":cn(f);var d=f.length;if(d<2)return d?t_(f,u):f;var g=t_(f,xc(u/is(f)));return ns(f)?go(Wn(g),0,u).join(""):g.slice(0,u)}function oL(u,f,d,g){var E=f&m,C=el(u);function O(){for(var F=-1,$=arguments.length,q=-1,K=g.length,Q=X(K+$),he=this&&this!==xr&&this instanceof O?C:u;++q<K;)Q[q]=g[q];for(;$--;)Q[q++]=arguments[++F];return ln(he,E?d:this,Q)}return O}function cb(u){return function(f,d,g){return g&&typeof g!="number"&&Xr(f,d,g)&&(d=g=r),f=Di(f),d===r?(d=f,f=0):d=Di(d),g=g===r?f<d?1:-1:Di(g),W3(f,d,g,u)}}function Fc(u){return function(f,d){return typeof f=="string"&&typeof d=="string"||(f=On(f),d=On(d)),u(f,d)}}function hb(u,f,d,g,E,C,O,F,$,q){var K=f&A,Q=K?O:r,he=K?r:O,we=K?C:r,Le=K?r:C;f|=K?R:I,f&=~(K?I:R),f&T||(f&=~(m|b));var Xe=[u,f,E,we,Q,Le,he,F,$,q],ke=d.apply(r,Xe);return __(u)&&wb(ke,Xe),ke.placeholder=g,Sb(ke,u,f)}function l_(u){var f=sr[u];return function(d,g){if(d=On(d),g=g==null?0:Or(He(g),292),g&&Sx(d)){var E=(dt(d)+"e").split("e"),C=f(E[0]+"e"+(+E[1]+g));return E=(dt(C)+"e").split("e"),+(E[0]+"e"+(+E[1]-g))}return f(d)}}var aL=ss&&1/fc(new ss([,-0]))[1]==Se?function(u){return new ss(u)}:P_;function db(u){return function(f){var d=Lr(f);return d==ht?Mv(f):d==hr?TO(f):vO(f,u(f))}}function ki(u,f,d,g,E,C,O,F){var $=f&b;if(!$&&typeof u!="function")throw new In(a);var q=g?g.length:0;if(q||(f&=~(R|I),g=E=r),O=O===r?O:ur(He(O),0),F=F===r?F:He(F),q-=E?E.length:0,f&I){var K=g,Q=E;g=E=r}var he=$?r:h_(u),we=[u,f,d,g,E,K,Q,C,O,F];if(he&&bL(we,he),u=we[0],f=we[1],d=we[2],g=we[3],E=we[4],F=we[9]=we[9]===r?$?0:u.length:ur(we[9]-q,0),!F&&f&(A|P)&&(f&=~(A|P)),!f||f==m)var Le=nL(u,f,d);else f==A||f==P?Le=iL(u,f,F):(f==R||f==(m|R))&&!E.length?Le=oL(u,f,d,g):Le=Oc.apply(r,we);var Xe=he?zx:wb;return Sb(Xe(Le,we),u,f)}function pb(u,f,d,g){return u===r||Vn(u,as[d])&&!_t.call(g,d)?f:u}function vb(u,f,d,g,E,C){return $t(u)&&$t(f)&&(C.set(f,u),Ac(u,f,r,vb,C),C.delete(f)),u}function sL(u){return nl(u)?r:u}function _b(u,f,d,g,E,C){var O=d&y,F=u.length,$=f.length;if(F!=$&&!(O&&$>F))return!1;var q=C.get(u),K=C.get(f);if(q&&K)return q==f&&K==u;var Q=-1,he=!0,we=d&x?new sa:r;for(C.set(u,f),C.set(f,u);++Q<F;){var Le=u[Q],Xe=f[Q];if(g)var ke=O?g(Xe,Le,Q,f,u,C):g(Le,Xe,Q,u,f,C);if(ke!==r){if(ke)continue;he=!1;break}if(we){if(!Lv(f,function(Ze,tt){if(!ju(we,tt)&&(Le===Ze||E(Le,Ze,d,g,C)))return we.push(tt)})){he=!1;break}}else if(!(Le===Xe||E(Le,Xe,d,g,C))){he=!1;break}}return C.delete(u),C.delete(f),he}function uL(u,f,d,g,E,C,O){switch(d){case Ni:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case so:return!(u.byteLength!=f.byteLength||!C(new _c(u),new _c(f)));case lt:case Ke:case nt:return Vn(+u,+f);case Je:return u.name==f.name&&u.message==f.message;case wn:case jn:return u==f+"";case ht:var F=Mv;case hr:var $=g&y;if(F||(F=fc),u.size!=f.size&&!$)return!1;var q=O.get(u);if(q)return q==f;g|=x,O.set(u,f);var K=_b(F(u),F(f),g,E,C,O);return O.delete(u),K;case ui:if(Yu)return Yu.call(u)==Yu.call(f)}return!1}function lL(u,f,d,g,E,C){var O=d&y,F=f_(u),$=F.length,q=f_(f),K=q.length;if($!=K&&!O)return!1;for(var Q=$;Q--;){var he=F[Q];if(!(O?he in f:_t.call(f,he)))return!1}var we=C.get(u),Le=C.get(f);if(we&&Le)return we==f&&Le==u;var Xe=!0;C.set(u,f),C.set(f,u);for(var ke=O;++Q<$;){he=F[Q];var Ze=u[he],tt=f[he];if(g)var dn=O?g(tt,Ze,he,f,u,C):g(Ze,tt,he,u,f,C);if(!(dn===r?Ze===tt||E(Ze,tt,d,g,C):dn)){Xe=!1;break}ke||(ke=he=="constructor")}if(Xe&&!ke){var Vr=u.constructor,pn=f.constructor;Vr!=pn&&"constructor"in u&&"constructor"in f&&!(typeof Vr=="function"&&Vr instanceof Vr&&typeof pn=="function"&&pn instanceof pn)&&(Xe=!1)}return C.delete(u),C.delete(f),Xe}function Fi(u){return g_(Eb(u,r,Pb),u+"")}function f_(u){return Ux(u,dr,p_)}function c_(u){return Ux(u,Qr,mb)}var h_=Ec?function(u){return Ec.get(u)}:P_;function Uc(u){for(var f=u.name+"",d=us[f],g=_t.call(us,f)?d.length:0;g--;){var E=d[g],C=E.func;if(C==null||C==u)return E.name}return f}function hs(u){var f=_t.call(w,"placeholder")?w:u;return f.placeholder}function Oe(){var u=w.iteratee||R_;return u=u===R_?Mx:u,arguments.length?u(arguments[0],arguments[1]):u}function Bc(u,f){var d=u.__data__;return mL(f)?d[typeof f=="string"?"string":"hash"]:d.map}function d_(u){for(var f=dr(u),d=f.length;d--;){var g=f[d],E=u[g];f[d]=[g,E,xb(E)]}return f}function fa(u,f){var d=xO(u,f);return Dx(d)?d:r}function fL(u){var f=_t.call(u,oa),d=u[oa];try{u[oa]=r;var g=!0}catch{}var E=pc.call(u);return g&&(f?u[oa]=d:delete u[oa]),E}var p_=$v?function(u){return u==null?[]:(u=Et(u),fo($v(u),function(f){return Tx.call(u,f)}))}:O_,mb=$v?function(u){for(var f=[];u;)co(f,p_(u)),u=mc(u);return f}:O_,Lr=Wr;(Hv&&Lr(new Hv(new ArrayBuffer(1)))!=Ni||Xu&&Lr(new Xu)!=ht||jv&&Lr(jv.resolve())!=Kr||ss&&Lr(new ss)!=hr||Vu&&Lr(new Vu)!=ao)&&(Lr=function(u){var f=Wr(u),d=f==Gt?u.constructor:r,g=d?ca(d):"";if(g)switch(g){case VO:return Ni;case zO:return ht;case YO:return Kr;case qO:return hr;case KO:return ao}return f});function cL(u,f,d){for(var g=-1,E=d.length;++g<E;){var C=d[g],O=C.size;switch(C.type){case"drop":u+=O;break;case"dropRight":f-=O;break;case"take":f=Or(f,u+O);break;case"takeRight":u=ur(u,f-O);break}}return{start:u,end:f}}function hL(u){var f=u.match(fv);return f?f[1].split(cv):[]}function gb(u,f,d){f=mo(f,u);for(var g=-1,E=f.length,C=!1;++g<E;){var O=di(f[g]);if(!(C=u!=null&&d(u,O)))break;u=u[O]}return C||++g!=E?C:(E=u==null?0:u.length,!!E&&Wc(E)&&Ui(O,E)&&(Ge(u)||ha(u)))}function dL(u){var f=u.length,d=new u.constructor(f);return f&&typeof u[0]=="string"&&_t.call(u,"index")&&(d.index=u.index,d.input=u.input),d}function yb(u){return typeof u.constructor=="function"&&!tl(u)?ls(mc(u)):{}}function pL(u,f,d){var g=u.constructor;switch(f){case so:return s_(u);case lt:case Ke:return new g(+u);case Ni:return Z3(u,d);case Ya:case qa:case Ka:case Za:case Ja:case ta:case Bu:case Du:case ra:return tb(u,d);case ht:return new g;case nt:case jn:return new g(u);case wn:return J3(u);case hr:return new g;case ui:return Q3(u)}}function vL(u,f){var d=f.length;if(!d)return u;var g=d-1;return f[g]=(d>1?"& ":"")+f[g],f=f.join(d>2?", ":" "),u.replace(lv,`{
/* [wrapped with `+f+`] */
`)}function _L(u){return Ge(u)||ha(u)||!!(wx&&u&&u[wx])}function Ui(u,f){var d=typeof u;return f=f==null?Ue:f,!!f&&(d=="number"||d!="symbol"&&xv.test(u))&&u>-1&&u%1==0&&u<f}function Xr(u,f,d){if(!$t(d))return!1;var g=typeof f;return(g=="number"?Jr(d)&&Ui(f,d.length):g=="string"&&f in d)?Vn(d[f],u):!1}function v_(u,f){if(Ge(u))return!1;var d=typeof u;return d=="number"||d=="symbol"||d=="boolean"||u==null||hn(u)?!0:av.test(u)||!ov.test(u)||f!=null&&u in Et(f)}function mL(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function __(u){var f=Uc(u),d=w[f];if(typeof d!="function"||!(f in Qe.prototype))return!1;if(u===d)return!0;var g=h_(d);return!!g&&u===g[0]}function gL(u){return!!xx&&xx in u}var yL=hc?Bi:L_;function tl(u){var f=u&&u.constructor,d=typeof f=="function"&&f.prototype||as;return u===d}function xb(u){return u===u&&!$t(u)}function bb(u,f){return function(d){return d==null?!1:d[u]===f&&(f!==r||u in Et(d))}}function xL(u){var f=Hc(u,function(g){return d.size===c&&d.clear(),g}),d=f.cache;return f}function bL(u,f){var d=u[1],g=f[1],E=d|g,C=E<(m|b|U),O=g==U&&d==A||g==U&&d==j&&u[7].length<=f[8]||g==(U|j)&&f[7].length<=f[8]&&d==A;if(!(C||O))return u;g&m&&(u[2]=f[2],E|=d&m?0:T);var F=f[3];if(F){var $=u[3];u[3]=$?nb($,F,f[4]):F,u[4]=$?ho(u[3],h):f[4]}return F=f[5],F&&($=u[5],u[5]=$?ib($,F,f[6]):F,u[6]=$?ho(u[5],h):f[6]),F=f[7],F&&(u[7]=F),g&U&&(u[8]=u[8]==null?f[8]:Or(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=E,u}function EL(u){var f=[];if(u!=null)for(var d in Et(u))f.push(d);return f}function TL(u){return pc.call(u)}function Eb(u,f,d){return f=ur(f===r?u.length-1:f,0),function(){for(var g=arguments,E=-1,C=ur(g.length-f,0),O=X(C);++E<C;)O[E]=g[f+E];E=-1;for(var F=X(f+1);++E<f;)F[E]=g[E];return F[f]=d(O),ln(u,this,F)}}function Tb(u,f){return f.length<2?u:la(u,Nn(f,0,-1))}function wL(u,f){for(var d=u.length,g=Or(f.length,d),E=Zr(u);g--;){var C=f[g];u[g]=Ui(C,d)?E[C]:r}return u}function m_(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var wb=Cb(zx),rl=MO||function(u,f){return xr.setTimeout(u,f)},g_=Cb(z3);function Sb(u,f,d){var g=f+"";return g_(u,vL(g,SL(hL(g),d)))}function Cb(u){var f=0,d=0;return function(){var g=jO(),E=_e-(g-d);if(d=g,E>0){if(++f>=ue)return arguments[0]}else f=0;return u.apply(r,arguments)}}function Dc(u,f){var d=-1,g=u.length,E=g-1;for(f=f===r?g:f;++d<f;){var C=e_(d,E),O=u[C];u[C]=u[d],u[d]=O}return u.length=f,u}var Ib=xL(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(sv,function(d,g,E,C){f.push(E?C.replace(pv,"$1"):g||d)}),f});function di(u){if(typeof u=="string"||hn(u))return u;var f=u+"";return f=="0"&&1/u==-Se?"-0":f}function ca(u){if(u!=null){try{return dc.call(u)}catch{}try{return u+""}catch{}}return""}function SL(u,f){return Cn(Ie,function(d){var g="_."+d[0];f&d[1]&&!uc(u,g)&&u.push(g)}),u.sort()}function Ab(u){if(u instanceof Qe)return u.clone();var f=new An(u.__wrapped__,u.__chain__);return f.__actions__=Zr(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function CL(u,f,d){(d?Xr(u,f,d):f===r)?f=1:f=ur(He(f),0);var g=u==null?0:u.length;if(!g||f<1)return[];for(var E=0,C=0,O=X(xc(g/f));E<g;)O[C++]=Nn(u,E,E+=f);return O}function IL(u){for(var f=-1,d=u==null?0:u.length,g=0,E=[];++f<d;){var C=u[f];C&&(E[g++]=C)}return E}function AL(){var u=arguments.length;if(!u)return[];for(var f=X(u-1),d=arguments[0],g=u;g--;)f[g-1]=arguments[g];return co(Ge(d)?Zr(d):[d],br(f,1))}var RL=ze(function(u,f){return Qt(u)?Ku(u,br(f,1,Qt,!0)):[]}),NL=ze(function(u,f){var d=Pn(f);return Qt(d)&&(d=r),Qt(u)?Ku(u,br(f,1,Qt,!0),Oe(d,2)):[]}),PL=ze(function(u,f){var d=Pn(f);return Qt(d)&&(d=r),Qt(u)?Ku(u,br(f,1,Qt,!0),r,d):[]});function OL(u,f,d){var g=u==null?0:u.length;return g?(f=d||f===r?1:He(f),Nn(u,f<0?0:f,g)):[]}function LL(u,f,d){var g=u==null?0:u.length;return g?(f=d||f===r?1:He(f),f=g-f,Nn(u,0,f<0?0:f)):[]}function kL(u,f){return u&&u.length?Nc(u,Oe(f,3),!0,!0):[]}function FL(u,f){return u&&u.length?Nc(u,Oe(f,3),!0):[]}function UL(u,f,d,g){var E=u==null?0:u.length;return E?(d&&typeof d!="number"&&Xr(u,f,d)&&(d=0,g=E),A3(u,f,d,g)):[]}function Rb(u,f,d){var g=u==null?0:u.length;if(!g)return-1;var E=d==null?0:He(d);return E<0&&(E=ur(g+E,0)),lc(u,Oe(f,3),E)}function Nb(u,f,d){var g=u==null?0:u.length;if(!g)return-1;var E=g-1;return d!==r&&(E=He(d),E=d<0?ur(g+E,0):Or(E,g-1)),lc(u,Oe(f,3),E,!0)}function Pb(u){var f=u==null?0:u.length;return f?br(u,1):[]}function BL(u){var f=u==null?0:u.length;return f?br(u,Se):[]}function DL(u,f){var d=u==null?0:u.length;return d?(f=f===r?1:He(f),br(u,f)):[]}function ML(u){for(var f=-1,d=u==null?0:u.length,g={};++f<d;){var E=u[f];g[E[0]]=E[1]}return g}function Ob(u){return u&&u.length?u[0]:r}function GL(u,f,d){var g=u==null?0:u.length;if(!g)return-1;var E=d==null?0:He(d);return E<0&&(E=ur(g+E,0)),rs(u,f,E)}function $L(u){var f=u==null?0:u.length;return f?Nn(u,0,-1):[]}var HL=ze(function(u){var f=Ut(u,o_);return f.length&&f[0]===u[0]?qv(f):[]}),jL=ze(function(u){var f=Pn(u),d=Ut(u,o_);return f===Pn(d)?f=r:d.pop(),d.length&&d[0]===u[0]?qv(d,Oe(f,2)):[]}),WL=ze(function(u){var f=Pn(u),d=Ut(u,o_);return f=typeof f=="function"?f:r,f&&d.pop(),d.length&&d[0]===u[0]?qv(d,r,f):[]});function XL(u,f){return u==null?"":$O.call(u,f)}function Pn(u){var f=u==null?0:u.length;return f?u[f-1]:r}function VL(u,f,d){var g=u==null?0:u.length;if(!g)return-1;var E=g;return d!==r&&(E=He(d),E=E<0?ur(g+E,0):Or(E,g-1)),f===f?SO(u,f,E):lc(u,hx,E,!0)}function zL(u,f){return u&&u.length?jx(u,He(f)):r}var YL=ze(Lb);function Lb(u,f){return u&&u.length&&f&&f.length?Qv(u,f):u}function qL(u,f,d){return u&&u.length&&f&&f.length?Qv(u,f,Oe(d,2)):u}function KL(u,f,d){return u&&u.length&&f&&f.length?Qv(u,f,r,d):u}var ZL=Fi(function(u,f){var d=u==null?0:u.length,g=Xv(u,f);return Vx(u,Ut(f,function(E){return Ui(E,d)?+E:E}).sort(rb)),g});function JL(u,f){var d=[];if(!(u&&u.length))return d;var g=-1,E=[],C=u.length;for(f=Oe(f,3);++g<C;){var O=u[g];f(O,g,u)&&(d.push(O),E.push(g))}return Vx(u,E),d}function y_(u){return u==null?u:XO.call(u)}function QL(u,f,d){var g=u==null?0:u.length;return g?(d&&typeof d!="number"&&Xr(u,f,d)?(f=0,d=g):(f=f==null?0:He(f),d=d===r?g:He(d)),Nn(u,f,d)):[]}function ek(u,f){return Rc(u,f)}function tk(u,f,d){return r_(u,f,Oe(d,2))}function rk(u,f){var d=u==null?0:u.length;if(d){var g=Rc(u,f);if(g<d&&Vn(u[g],f))return g}return-1}function nk(u,f){return Rc(u,f,!0)}function ik(u,f,d){return r_(u,f,Oe(d,2),!0)}function ok(u,f){var d=u==null?0:u.length;if(d){var g=Rc(u,f,!0)-1;if(Vn(u[g],f))return g}return-1}function ak(u){return u&&u.length?Yx(u):[]}function sk(u,f){return u&&u.length?Yx(u,Oe(f,2)):[]}function uk(u){var f=u==null?0:u.length;return f?Nn(u,1,f):[]}function lk(u,f,d){return u&&u.length?(f=d||f===r?1:He(f),Nn(u,0,f<0?0:f)):[]}function fk(u,f,d){var g=u==null?0:u.length;return g?(f=d||f===r?1:He(f),f=g-f,Nn(u,f<0?0:f,g)):[]}function ck(u,f){return u&&u.length?Nc(u,Oe(f,3),!1,!0):[]}function hk(u,f){return u&&u.length?Nc(u,Oe(f,3)):[]}var dk=ze(function(u){return _o(br(u,1,Qt,!0))}),pk=ze(function(u){var f=Pn(u);return Qt(f)&&(f=r),_o(br(u,1,Qt,!0),Oe(f,2))}),vk=ze(function(u){var f=Pn(u);return f=typeof f=="function"?f:r,_o(br(u,1,Qt,!0),r,f)});function _k(u){return u&&u.length?_o(u):[]}function mk(u,f){return u&&u.length?_o(u,Oe(f,2)):[]}function gk(u,f){return f=typeof f=="function"?f:r,u&&u.length?_o(u,r,f):[]}function x_(u){if(!(u&&u.length))return[];var f=0;return u=fo(u,function(d){if(Qt(d))return f=ur(d.length,f),!0}),Bv(f,function(d){return Ut(u,kv(d))})}function kb(u,f){if(!(u&&u.length))return[];var d=x_(u);return f==null?d:Ut(d,function(g){return ln(f,r,g)})}var yk=ze(function(u,f){return Qt(u)?Ku(u,f):[]}),xk=ze(function(u){return i_(fo(u,Qt))}),bk=ze(function(u){var f=Pn(u);return Qt(f)&&(f=r),i_(fo(u,Qt),Oe(f,2))}),Ek=ze(function(u){var f=Pn(u);return f=typeof f=="function"?f:r,i_(fo(u,Qt),r,f)}),Tk=ze(x_);function wk(u,f){return Jx(u||[],f||[],qu)}function Sk(u,f){return Jx(u||[],f||[],Qu)}var Ck=ze(function(u){var f=u.length,d=f>1?u[f-1]:r;return d=typeof d=="function"?(u.pop(),d):r,kb(u,d)});function Fb(u){var f=w(u);return f.__chain__=!0,f}function Ik(u,f){return f(u),u}function Mc(u,f){return f(u)}var Ak=Fi(function(u){var f=u.length,d=f?u[0]:0,g=this.__wrapped__,E=function(C){return Xv(C,u)};return f>1||this.__actions__.length||!(g instanceof Qe)||!Ui(d)?this.thru(E):(g=g.slice(d,+d+(f?1:0)),g.__actions__.push({func:Mc,args:[E],thisArg:r}),new An(g,this.__chain__).thru(function(C){return f&&!C.length&&C.push(r),C}))});function Rk(){return Fb(this)}function Nk(){return new An(this.value(),this.__chain__)}function Pk(){this.__values__===r&&(this.__values__=qb(this.value()));var u=this.__index__>=this.__values__.length,f=u?r:this.__values__[this.__index__++];return{done:u,value:f}}function Ok(){return this}function Lk(u){for(var f,d=this;d instanceof wc;){var g=Ab(d);g.__index__=0,g.__values__=r,f?E.__wrapped__=g:f=g;var E=g;d=d.__wrapped__}return E.__wrapped__=u,f}function kk(){var u=this.__wrapped__;if(u instanceof Qe){var f=u;return this.__actions__.length&&(f=new Qe(this)),f=f.reverse(),f.__actions__.push({func:Mc,args:[y_],thisArg:r}),new An(f,this.__chain__)}return this.thru(y_)}function Fk(){return Zx(this.__wrapped__,this.__actions__)}var Uk=Pc(function(u,f,d){_t.call(u,d)?++u[d]:Li(u,d,1)});function Bk(u,f,d){var g=Ge(u)?fx:I3;return d&&Xr(u,f,d)&&(f=r),g(u,Oe(f,3))}function Dk(u,f){var d=Ge(u)?fo:kx;return d(u,Oe(f,3))}var Mk=ub(Rb),Gk=ub(Nb);function $k(u,f){return br(Gc(u,f),1)}function Hk(u,f){return br(Gc(u,f),Se)}function jk(u,f,d){return d=d===r?1:He(d),br(Gc(u,f),d)}function Ub(u,f){var d=Ge(u)?Cn:vo;return d(u,Oe(f,3))}function Bb(u,f){var d=Ge(u)?uO:Lx;return d(u,Oe(f,3))}var Wk=Pc(function(u,f,d){_t.call(u,d)?u[d].push(f):Li(u,d,[f])});function Xk(u,f,d,g){u=Jr(u)?u:ps(u),d=d&&!g?He(d):0;var E=u.length;return d<0&&(d=ur(E+d,0)),Xc(u)?d<=E&&u.indexOf(f,d)>-1:!!E&&rs(u,f,d)>-1}var Vk=ze(function(u,f,d){var g=-1,E=typeof f=="function",C=Jr(u)?X(u.length):[];return vo(u,function(O){C[++g]=E?ln(f,O,d):Zu(O,f,d)}),C}),zk=Pc(function(u,f,d){Li(u,d,f)});function Gc(u,f){var d=Ge(u)?Ut:Gx;return d(u,Oe(f,3))}function Yk(u,f,d,g){return u==null?[]:(Ge(f)||(f=f==null?[]:[f]),d=g?r:d,Ge(d)||(d=d==null?[]:[d]),Wx(u,f,d))}var qk=Pc(function(u,f,d){u[d?0:1].push(f)},function(){return[[],[]]});function Kk(u,f,d){var g=Ge(u)?Ov:px,E=arguments.length<3;return g(u,Oe(f,4),d,E,vo)}function Zk(u,f,d){var g=Ge(u)?lO:px,E=arguments.length<3;return g(u,Oe(f,4),d,E,Lx)}function Jk(u,f){var d=Ge(u)?fo:kx;return d(u,jc(Oe(f,3)))}function Qk(u){var f=Ge(u)?Rx:X3;return f(u)}function eF(u,f,d){(d?Xr(u,f,d):f===r)?f=1:f=He(f);var g=Ge(u)?E3:V3;return g(u,f)}function tF(u){var f=Ge(u)?T3:Y3;return f(u)}function rF(u){if(u==null)return 0;if(Jr(u))return Xc(u)?is(u):u.length;var f=Lr(u);return f==ht||f==hr?u.size:Zv(u).length}function nF(u,f,d){var g=Ge(u)?Lv:q3;return d&&Xr(u,f,d)&&(f=r),g(u,Oe(f,3))}var iF=ze(function(u,f){if(u==null)return[];var d=f.length;return d>1&&Xr(u,f[0],f[1])?f=[]:d>2&&Xr(f[0],f[1],f[2])&&(f=[f[0]]),Wx(u,br(f,1),[])}),$c=DO||function(){return xr.Date.now()};function oF(u,f){if(typeof f!="function")throw new In(a);return u=He(u),function(){if(--u<1)return f.apply(this,arguments)}}function Db(u,f,d){return f=d?r:f,f=u&&f==null?u.length:f,ki(u,U,r,r,r,r,f)}function Mb(u,f){var d;if(typeof f!="function")throw new In(a);return u=He(u),function(){return--u>0&&(d=f.apply(this,arguments)),u<=1&&(f=r),d}}var b_=ze(function(u,f,d){var g=m;if(d.length){var E=ho(d,hs(b_));g|=R}return ki(u,g,f,d,E)}),Gb=ze(function(u,f,d){var g=m|b;if(d.length){var E=ho(d,hs(Gb));g|=R}return ki(f,g,u,d,E)});function $b(u,f,d){f=d?r:f;var g=ki(u,A,r,r,r,r,r,f);return g.placeholder=$b.placeholder,g}function Hb(u,f,d){f=d?r:f;var g=ki(u,P,r,r,r,r,r,f);return g.placeholder=Hb.placeholder,g}function jb(u,f,d){var g,E,C,O,F,$,q=0,K=!1,Q=!1,he=!0;if(typeof u!="function")throw new In(a);f=On(f)||0,$t(d)&&(K=!!d.leading,Q="maxWait"in d,C=Q?ur(On(d.maxWait)||0,f):C,he="trailing"in d?!!d.trailing:he);function we(er){var zn=g,Mi=E;return g=E=r,q=er,O=u.apply(Mi,zn),O}function Le(er){return q=er,F=rl(Ze,f),K?we(er):O}function Xe(er){var zn=er-$,Mi=er-q,uE=f-zn;return Q?Or(uE,C-Mi):uE}function ke(er){var zn=er-$,Mi=er-q;return $===r||zn>=f||zn<0||Q&&Mi>=C}function Ze(){var er=$c();if(ke(er))return tt(er);F=rl(Ze,Xe(er))}function tt(er){return F=r,he&&g?we(er):(g=E=r,O)}function dn(){F!==r&&Qx(F),q=0,g=$=E=F=r}function Vr(){return F===r?O:tt($c())}function pn(){var er=$c(),zn=ke(er);if(g=arguments,E=this,$=er,zn){if(F===r)return Le($);if(Q)return Qx(F),F=rl(Ze,f),we($)}return F===r&&(F=rl(Ze,f)),O}return pn.cancel=dn,pn.flush=Vr,pn}var aF=ze(function(u,f){return Ox(u,1,f)}),sF=ze(function(u,f,d){return Ox(u,On(f)||0,d)});function uF(u){return ki(u,D)}function Hc(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new In(a);var d=function(){var g=arguments,E=f?f.apply(this,g):g[0],C=d.cache;if(C.has(E))return C.get(E);var O=u.apply(this,g);return d.cache=C.set(E,O)||C,O};return d.cache=new(Hc.Cache||Oi),d}Hc.Cache=Oi;function jc(u){if(typeof u!="function")throw new In(a);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function lF(u){return Mb(2,u)}var fF=K3(function(u,f){f=f.length==1&&Ge(f[0])?Ut(f[0],fn(Oe())):Ut(br(f,1),fn(Oe()));var d=f.length;return ze(function(g){for(var E=-1,C=Or(g.length,d);++E<C;)g[E]=f[E].call(this,g[E]);return ln(u,this,g)})}),E_=ze(function(u,f){var d=ho(f,hs(E_));return ki(u,R,r,f,d)}),Wb=ze(function(u,f){var d=ho(f,hs(Wb));return ki(u,I,r,f,d)}),cF=Fi(function(u,f){return ki(u,j,r,r,r,f)});function hF(u,f){if(typeof u!="function")throw new In(a);return f=f===r?f:He(f),ze(u,f)}function dF(u,f){if(typeof u!="function")throw new In(a);return f=f==null?0:ur(He(f),0),ze(function(d){var g=d[f],E=go(d,0,f);return g&&co(E,g),ln(u,this,E)})}function pF(u,f,d){var g=!0,E=!0;if(typeof u!="function")throw new In(a);return $t(d)&&(g="leading"in d?!!d.leading:g,E="trailing"in d?!!d.trailing:E),jb(u,f,{leading:g,maxWait:f,trailing:E})}function vF(u){return Db(u,1)}function _F(u,f){return E_(a_(f),u)}function mF(){if(!arguments.length)return[];var u=arguments[0];return Ge(u)?u:[u]}function gF(u){return Rn(u,_)}function yF(u,f){return f=typeof f=="function"?f:r,Rn(u,_,f)}function xF(u){return Rn(u,p|_)}function bF(u,f){return f=typeof f=="function"?f:r,Rn(u,p|_,f)}function EF(u,f){return f==null||Px(u,f,dr(f))}function Vn(u,f){return u===f||u!==u&&f!==f}var TF=Fc(Yv),wF=Fc(function(u,f){return u>=f}),ha=Bx(function(){return arguments}())?Bx:function(u){return Vt(u)&&_t.call(u,"callee")&&!Tx.call(u,"callee")},Ge=X.isArray,SF=ix?fn(ix):L3;function Jr(u){return u!=null&&Wc(u.length)&&!Bi(u)}function Qt(u){return Vt(u)&&Jr(u)}function CF(u){return u===!0||u===!1||Vt(u)&&Wr(u)==lt}var yo=GO||L_,IF=ox?fn(ox):k3;function AF(u){return Vt(u)&&u.nodeType===1&&!nl(u)}function RF(u){if(u==null)return!0;if(Jr(u)&&(Ge(u)||typeof u=="string"||typeof u.splice=="function"||yo(u)||ds(u)||ha(u)))return!u.length;var f=Lr(u);if(f==ht||f==hr)return!u.size;if(tl(u))return!Zv(u).length;for(var d in u)if(_t.call(u,d))return!1;return!0}function NF(u,f){return Ju(u,f)}function PF(u,f,d){d=typeof d=="function"?d:r;var g=d?d(u,f):r;return g===r?Ju(u,f,r,d):!!g}function T_(u){if(!Vt(u))return!1;var f=Wr(u);return f==Je||f==It||typeof u.message=="string"&&typeof u.name=="string"&&!nl(u)}function OF(u){return typeof u=="number"&&Sx(u)}function Bi(u){if(!$t(u))return!1;var f=Wr(u);return f==ft||f==$e||f==ut||f==si}function Xb(u){return typeof u=="number"&&u==He(u)}function Wc(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Ue}function $t(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function Vt(u){return u!=null&&typeof u=="object"}var Vb=ax?fn(ax):U3;function LF(u,f){return u===f||Kv(u,f,d_(f))}function kF(u,f,d){return d=typeof d=="function"?d:r,Kv(u,f,d_(f),d)}function FF(u){return zb(u)&&u!=+u}function UF(u){if(yL(u))throw new De(o);return Dx(u)}function BF(u){return u===null}function DF(u){return u==null}function zb(u){return typeof u=="number"||Vt(u)&&Wr(u)==nt}function nl(u){if(!Vt(u)||Wr(u)!=Gt)return!1;var f=mc(u);if(f===null)return!0;var d=_t.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&dc.call(d)==kO}var w_=sx?fn(sx):B3;function MF(u){return Xb(u)&&u>=-Ue&&u<=Ue}var Yb=ux?fn(ux):D3;function Xc(u){return typeof u=="string"||!Ge(u)&&Vt(u)&&Wr(u)==jn}function hn(u){return typeof u=="symbol"||Vt(u)&&Wr(u)==ui}var ds=lx?fn(lx):M3;function GF(u){return u===r}function $F(u){return Vt(u)&&Lr(u)==ao}function HF(u){return Vt(u)&&Wr(u)==Yf}var jF=Fc(Jv),WF=Fc(function(u,f){return u<=f});function qb(u){if(!u)return[];if(Jr(u))return Xc(u)?Wn(u):Zr(u);if(Wu&&u[Wu])return EO(u[Wu]());var f=Lr(u),d=f==ht?Mv:f==hr?fc:ps;return d(u)}function Di(u){if(!u)return u===0?u:0;if(u=On(u),u===Se||u===-Se){var f=u<0?-1:1;return f*vt}return u===u?u:0}function He(u){var f=Di(u),d=f%1;return f===f?d?f-d:f:0}function Kb(u){return u?ua(He(u),0,W):0}function On(u){if(typeof u=="number")return u;if(hn(u))return J;if($t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=$t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=vx(u);var d=mv.test(u);return d||yv.test(u)?oO(u.slice(2),d?2:8):_v.test(u)?J:+u}function Zb(u){return hi(u,Qr(u))}function XF(u){return u?ua(He(u),-Ue,Ue):u===0?u:0}function dt(u){return u==null?"":cn(u)}var VF=fs(function(u,f){if(tl(f)||Jr(f)){hi(f,dr(f),u);return}for(var d in f)_t.call(f,d)&&qu(u,d,f[d])}),Jb=fs(function(u,f){hi(f,Qr(f),u)}),Vc=fs(function(u,f,d,g){hi(f,Qr(f),u,g)}),zF=fs(function(u,f,d,g){hi(f,dr(f),u,g)}),YF=Fi(Xv);function qF(u,f){var d=ls(u);return f==null?d:Nx(d,f)}var KF=ze(function(u,f){u=Et(u);var d=-1,g=f.length,E=g>2?f[2]:r;for(E&&Xr(f[0],f[1],E)&&(g=1);++d<g;)for(var C=f[d],O=Qr(C),F=-1,$=O.length;++F<$;){var q=O[F],K=u[q];(K===r||Vn(K,as[q])&&!_t.call(u,q))&&(u[q]=C[q])}return u}),ZF=ze(function(u){return u.push(r,vb),ln(Qb,r,u)});function JF(u,f){return cx(u,Oe(f,3),ci)}function QF(u,f){return cx(u,Oe(f,3),zv)}function eU(u,f){return u==null?u:Vv(u,Oe(f,3),Qr)}function tU(u,f){return u==null?u:Fx(u,Oe(f,3),Qr)}function rU(u,f){return u&&ci(u,Oe(f,3))}function nU(u,f){return u&&zv(u,Oe(f,3))}function iU(u){return u==null?[]:Ic(u,dr(u))}function oU(u){return u==null?[]:Ic(u,Qr(u))}function S_(u,f,d){var g=u==null?r:la(u,f);return g===r?d:g}function aU(u,f){return u!=null&&gb(u,f,R3)}function C_(u,f){return u!=null&&gb(u,f,N3)}var sU=fb(function(u,f,d){f!=null&&typeof f.toString!="function"&&(f=pc.call(f)),u[f]=d},A_(en)),uU=fb(function(u,f,d){f!=null&&typeof f.toString!="function"&&(f=pc.call(f)),_t.call(u,f)?u[f].push(d):u[f]=[d]},Oe),lU=ze(Zu);function dr(u){return Jr(u)?Ax(u):Zv(u)}function Qr(u){return Jr(u)?Ax(u,!0):G3(u)}function fU(u,f){var d={};return f=Oe(f,3),ci(u,function(g,E,C){Li(d,f(g,E,C),g)}),d}function cU(u,f){var d={};return f=Oe(f,3),ci(u,function(g,E,C){Li(d,E,f(g,E,C))}),d}var hU=fs(function(u,f,d){Ac(u,f,d)}),Qb=fs(function(u,f,d,g){Ac(u,f,d,g)}),dU=Fi(function(u,f){var d={};if(u==null)return d;var g=!1;f=Ut(f,function(C){return C=mo(C,u),g||(g=C.length>1),C}),hi(u,c_(u),d),g&&(d=Rn(d,p|v|_,sL));for(var E=f.length;E--;)n_(d,f[E]);return d});function pU(u,f){return eE(u,jc(Oe(f)))}var vU=Fi(function(u,f){return u==null?{}:H3(u,f)});function eE(u,f){if(u==null)return{};var d=Ut(c_(u),function(g){return[g]});return f=Oe(f),Xx(u,d,function(g,E){return f(g,E[0])})}function _U(u,f,d){f=mo(f,u);var g=-1,E=f.length;for(E||(E=1,u=r);++g<E;){var C=u==null?r:u[di(f[g])];C===r&&(g=E,C=d),u=Bi(C)?C.call(u):C}return u}function mU(u,f,d){return u==null?u:Qu(u,f,d)}function gU(u,f,d,g){return g=typeof g=="function"?g:r,u==null?u:Qu(u,f,d,g)}var tE=db(dr),rE=db(Qr);function yU(u,f,d){var g=Ge(u),E=g||yo(u)||ds(u);if(f=Oe(f,4),d==null){var C=u&&u.constructor;E?d=g?new C:[]:$t(u)?d=Bi(C)?ls(mc(u)):{}:d={}}return(E?Cn:ci)(u,function(O,F,$){return f(d,O,F,$)}),d}function xU(u,f){return u==null?!0:n_(u,f)}function bU(u,f,d){return u==null?u:Kx(u,f,a_(d))}function EU(u,f,d,g){return g=typeof g=="function"?g:r,u==null?u:Kx(u,f,a_(d),g)}function ps(u){return u==null?[]:Dv(u,dr(u))}function TU(u){return u==null?[]:Dv(u,Qr(u))}function wU(u,f,d){return d===r&&(d=f,f=r),d!==r&&(d=On(d),d=d===d?d:0),f!==r&&(f=On(f),f=f===f?f:0),ua(On(u),f,d)}function SU(u,f,d){return f=Di(f),d===r?(d=f,f=0):d=Di(d),u=On(u),P3(u,f,d)}function CU(u,f,d){if(d&&typeof d!="boolean"&&Xr(u,f,d)&&(f=d=r),d===r&&(typeof f=="boolean"?(d=f,f=r):typeof u=="boolean"&&(d=u,u=r)),u===r&&f===r?(u=0,f=1):(u=Di(u),f===r?(f=u,u=0):f=Di(f)),u>f){var g=u;u=f,f=g}if(d||u%1||f%1){var E=Cx();return Or(u+E*(f-u+iO("1e-"+((E+"").length-1))),f)}return e_(u,f)}var IU=cs(function(u,f,d){return f=f.toLowerCase(),u+(d?nE(f):f)});function nE(u){return I_(dt(u).toLowerCase())}function iE(u){return u=dt(u),u&&u.replace(bv,mO).replace(YP,"")}function AU(u,f,d){u=dt(u),f=cn(f);var g=u.length;d=d===r?g:ua(He(d),0,g);var E=d;return d-=f.length,d>=0&&u.slice(d,E)==f}function RU(u){return u=dt(u),u&&rv.test(u)?u.replace(Zf,gO):u}function NU(u){return u=dt(u),u&&uv.test(u)?u.replace(Mu,"\\$&"):u}var PU=cs(function(u,f,d){return u+(d?"-":"")+f.toLowerCase()}),OU=cs(function(u,f,d){return u+(d?" ":"")+f.toLowerCase()}),LU=sb("toLowerCase");function kU(u,f,d){u=dt(u),f=He(f);var g=f?is(u):0;if(!f||g>=f)return u;var E=(f-g)/2;return kc(bc(E),d)+u+kc(xc(E),d)}function FU(u,f,d){u=dt(u),f=He(f);var g=f?is(u):0;return f&&g<f?u+kc(f-g,d):u}function UU(u,f,d){u=dt(u),f=He(f);var g=f?is(u):0;return f&&g<f?kc(f-g,d)+u:u}function BU(u,f,d){return d||f==null?f=0:f&&(f=+f),WO(dt(u).replace(Gu,""),f||0)}function DU(u,f,d){return(d?Xr(u,f,d):f===r)?f=1:f=He(f),t_(dt(u),f)}function MU(){var u=arguments,f=dt(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var GU=cs(function(u,f,d){return u+(d?"_":"")+f.toLowerCase()});function $U(u,f,d){return d&&typeof d!="number"&&Xr(u,f,d)&&(f=d=r),d=d===r?W:d>>>0,d?(u=dt(u),u&&(typeof f=="string"||f!=null&&!w_(f))&&(f=cn(f),!f&&ns(u))?go(Wn(u),0,d):u.split(f,d)):[]}var HU=cs(function(u,f,d){return u+(d?" ":"")+I_(f)});function jU(u,f,d){return u=dt(u),d=d==null?0:ua(He(d),0,u.length),f=cn(f),u.slice(d,d+f.length)==f}function WU(u,f,d){var g=w.templateSettings;d&&Xr(u,f,d)&&(f=r),u=dt(u),f=Vc({},f,g,pb);var E=Vc({},f.imports,g.imports,pb),C=dr(E),O=Dv(E,C),F,$,q=0,K=f.interpolate||Qa,Q="__p += '",he=Gv((f.escape||Qa).source+"|"+K.source+"|"+(K===Qf?vv:Qa).source+"|"+(f.evaluate||Qa).source+"|$","g"),we="//# sourceURL="+(_t.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++QP+"]")+`
`;u.replace(he,function(ke,Ze,tt,dn,Vr,pn){return tt||(tt=dn),Q+=u.slice(q,pn).replace(rc,yO),Ze&&(F=!0,Q+=`' +
__e(`+Ze+`) +
'`),Vr&&($=!0,Q+=`';
`+Vr+`;
__p += '`),tt&&(Q+=`' +
((__t = (`+tt+`)) == null ? '' : __t) +
'`),q=pn+ke.length,ke}),Q+=`';
`;var Le=_t.call(f,"variable")&&f.variable;if(!Le)Q=`with (obj) {
`+Q+`
}
`;else if(dv.test(Le))throw new De(s);Q=($?Q.replace(qf,""):Q).replace(tv,"$1").replace(li,"$1;"),Q="function("+(Le||"obj")+`) {
`+(Le?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var Xe=aE(function(){return ct(C,we+"return "+Q).apply(r,O)});if(Xe.source=Q,T_(Xe))throw Xe;return Xe}function XU(u){return dt(u).toLowerCase()}function VU(u){return dt(u).toUpperCase()}function zU(u,f,d){if(u=dt(u),u&&(d||f===r))return vx(u);if(!u||!(f=cn(f)))return u;var g=Wn(u),E=Wn(f),C=_x(g,E),O=mx(g,E)+1;return go(g,C,O).join("")}function YU(u,f,d){if(u=dt(u),u&&(d||f===r))return u.slice(0,yx(u)+1);if(!u||!(f=cn(f)))return u;var g=Wn(u),E=mx(g,Wn(f))+1;return go(g,0,E).join("")}function qU(u,f,d){if(u=dt(u),u&&(d||f===r))return u.replace(Gu,"");if(!u||!(f=cn(f)))return u;var g=Wn(u),E=_x(g,Wn(f));return go(g,E).join("")}function KU(u,f){var d=z,g=pe;if($t(f)){var E="separator"in f?f.separator:E;d="length"in f?He(f.length):d,g="omission"in f?cn(f.omission):g}u=dt(u);var C=u.length;if(ns(u)){var O=Wn(u);C=O.length}if(d>=C)return u;var F=d-is(g);if(F<1)return g;var $=O?go(O,0,F).join(""):u.slice(0,F);if(E===r)return $+g;if(O&&(F+=$.length-F),w_(E)){if(u.slice(F).search(E)){var q,K=$;for(E.global||(E=Gv(E.source,dt(tc.exec(E))+"g")),E.lastIndex=0;q=E.exec(K);)var Q=q.index;$=$.slice(0,Q===r?F:Q)}}else if(u.indexOf(cn(E),F)!=F){var he=$.lastIndexOf(E);he>-1&&($=$.slice(0,he))}return $+g}function ZU(u){return u=dt(u),u&&Jf.test(u)?u.replace(Kf,CO):u}var JU=cs(function(u,f,d){return u+(d?" ":"")+f.toUpperCase()}),I_=sb("toUpperCase");function oE(u,f,d){return u=dt(u),f=d?r:f,f===r?bO(u)?RO(u):hO(u):u.match(f)||[]}var aE=ze(function(u,f){try{return ln(u,r,f)}catch(d){return T_(d)?d:new De(d)}}),QU=Fi(function(u,f){return Cn(f,function(d){d=di(d),Li(u,d,b_(u[d],u))}),u});function e4(u){var f=u==null?0:u.length,d=Oe();return u=f?Ut(u,function(g){if(typeof g[1]!="function")throw new In(a);return[d(g[0]),g[1]]}):[],ze(function(g){for(var E=-1;++E<f;){var C=u[E];if(ln(C[0],this,g))return ln(C[1],this,g)}})}function t4(u){return C3(Rn(u,p))}function A_(u){return function(){return u}}function r4(u,f){return u==null||u!==u?f:u}var n4=lb(),i4=lb(!0);function en(u){return u}function R_(u){return Mx(typeof u=="function"?u:Rn(u,p))}function o4(u){return $x(Rn(u,p))}function a4(u,f){return Hx(u,Rn(f,p))}var s4=ze(function(u,f){return function(d){return Zu(d,u,f)}}),u4=ze(function(u,f){return function(d){return Zu(u,d,f)}});function N_(u,f,d){var g=dr(f),E=Ic(f,g);d==null&&!($t(f)&&(E.length||!g.length))&&(d=f,f=u,u=this,E=Ic(f,dr(f)));var C=!($t(d)&&"chain"in d)||!!d.chain,O=Bi(u);return Cn(E,function(F){var $=f[F];u[F]=$,O&&(u.prototype[F]=function(){var q=this.__chain__;if(C||q){var K=u(this.__wrapped__),Q=K.__actions__=Zr(this.__actions__);return Q.push({func:$,args:arguments,thisArg:u}),K.__chain__=q,K}return $.apply(u,co([this.value()],arguments))})}),u}function l4(){return xr._===this&&(xr._=FO),this}function P_(){}function f4(u){return u=He(u),ze(function(f){return jx(f,u)})}var c4=u_(Ut),h4=u_(fx),d4=u_(Lv);function sE(u){return v_(u)?kv(di(u)):j3(u)}function p4(u){return function(f){return u==null?r:la(u,f)}}var v4=cb(),_4=cb(!0);function O_(){return[]}function L_(){return!1}function m4(){return{}}function g4(){return""}function y4(){return!0}function x4(u,f){if(u=He(u),u<1||u>Ue)return[];var d=W,g=Or(u,W);f=Oe(f),u-=W;for(var E=Bv(g,f);++d<u;)f(d);return E}function b4(u){return Ge(u)?Ut(u,di):hn(u)?[u]:Zr(Ib(dt(u)))}function E4(u){var f=++LO;return dt(u)+f}var T4=Lc(function(u,f){return u+f},0),w4=l_("ceil"),S4=Lc(function(u,f){return u/f},1),C4=l_("floor");function I4(u){return u&&u.length?Cc(u,en,Yv):r}function A4(u,f){return u&&u.length?Cc(u,Oe(f,2),Yv):r}function R4(u){return dx(u,en)}function N4(u,f){return dx(u,Oe(f,2))}function P4(u){return u&&u.length?Cc(u,en,Jv):r}function O4(u,f){return u&&u.length?Cc(u,Oe(f,2),Jv):r}var L4=Lc(function(u,f){return u*f},1),k4=l_("round"),F4=Lc(function(u,f){return u-f},0);function U4(u){return u&&u.length?Uv(u,en):0}function B4(u,f){return u&&u.length?Uv(u,Oe(f,2)):0}return w.after=oF,w.ary=Db,w.assign=VF,w.assignIn=Jb,w.assignInWith=Vc,w.assignWith=zF,w.at=YF,w.before=Mb,w.bind=b_,w.bindAll=QU,w.bindKey=Gb,w.castArray=mF,w.chain=Fb,w.chunk=CL,w.compact=IL,w.concat=AL,w.cond=e4,w.conforms=t4,w.constant=A_,w.countBy=Uk,w.create=qF,w.curry=$b,w.curryRight=Hb,w.debounce=jb,w.defaults=KF,w.defaultsDeep=ZF,w.defer=aF,w.delay=sF,w.difference=RL,w.differenceBy=NL,w.differenceWith=PL,w.drop=OL,w.dropRight=LL,w.dropRightWhile=kL,w.dropWhile=FL,w.fill=UL,w.filter=Dk,w.flatMap=$k,w.flatMapDeep=Hk,w.flatMapDepth=jk,w.flatten=Pb,w.flattenDeep=BL,w.flattenDepth=DL,w.flip=uF,w.flow=n4,w.flowRight=i4,w.fromPairs=ML,w.functions=iU,w.functionsIn=oU,w.groupBy=Wk,w.initial=$L,w.intersection=HL,w.intersectionBy=jL,w.intersectionWith=WL,w.invert=sU,w.invertBy=uU,w.invokeMap=Vk,w.iteratee=R_,w.keyBy=zk,w.keys=dr,w.keysIn=Qr,w.map=Gc,w.mapKeys=fU,w.mapValues=cU,w.matches=o4,w.matchesProperty=a4,w.memoize=Hc,w.merge=hU,w.mergeWith=Qb,w.method=s4,w.methodOf=u4,w.mixin=N_,w.negate=jc,w.nthArg=f4,w.omit=dU,w.omitBy=pU,w.once=lF,w.orderBy=Yk,w.over=c4,w.overArgs=fF,w.overEvery=h4,w.overSome=d4,w.partial=E_,w.partialRight=Wb,w.partition=qk,w.pick=vU,w.pickBy=eE,w.property=sE,w.propertyOf=p4,w.pull=YL,w.pullAll=Lb,w.pullAllBy=qL,w.pullAllWith=KL,w.pullAt=ZL,w.range=v4,w.rangeRight=_4,w.rearg=cF,w.reject=Jk,w.remove=JL,w.rest=hF,w.reverse=y_,w.sampleSize=eF,w.set=mU,w.setWith=gU,w.shuffle=tF,w.slice=QL,w.sortBy=iF,w.sortedUniq=ak,w.sortedUniqBy=sk,w.split=$U,w.spread=dF,w.tail=uk,w.take=lk,w.takeRight=fk,w.takeRightWhile=ck,w.takeWhile=hk,w.tap=Ik,w.throttle=pF,w.thru=Mc,w.toArray=qb,w.toPairs=tE,w.toPairsIn=rE,w.toPath=b4,w.toPlainObject=Zb,w.transform=yU,w.unary=vF,w.union=dk,w.unionBy=pk,w.unionWith=vk,w.uniq=_k,w.uniqBy=mk,w.uniqWith=gk,w.unset=xU,w.unzip=x_,w.unzipWith=kb,w.update=bU,w.updateWith=EU,w.values=ps,w.valuesIn=TU,w.without=yk,w.words=oE,w.wrap=_F,w.xor=xk,w.xorBy=bk,w.xorWith=Ek,w.zip=Tk,w.zipObject=wk,w.zipObjectDeep=Sk,w.zipWith=Ck,w.entries=tE,w.entriesIn=rE,w.extend=Jb,w.extendWith=Vc,N_(w,w),w.add=T4,w.attempt=aE,w.camelCase=IU,w.capitalize=nE,w.ceil=w4,w.clamp=wU,w.clone=gF,w.cloneDeep=xF,w.cloneDeepWith=bF,w.cloneWith=yF,w.conformsTo=EF,w.deburr=iE,w.defaultTo=r4,w.divide=S4,w.endsWith=AU,w.eq=Vn,w.escape=RU,w.escapeRegExp=NU,w.every=Bk,w.find=Mk,w.findIndex=Rb,w.findKey=JF,w.findLast=Gk,w.findLastIndex=Nb,w.findLastKey=QF,w.floor=C4,w.forEach=Ub,w.forEachRight=Bb,w.forIn=eU,w.forInRight=tU,w.forOwn=rU,w.forOwnRight=nU,w.get=S_,w.gt=TF,w.gte=wF,w.has=aU,w.hasIn=C_,w.head=Ob,w.identity=en,w.includes=Xk,w.indexOf=GL,w.inRange=SU,w.invoke=lU,w.isArguments=ha,w.isArray=Ge,w.isArrayBuffer=SF,w.isArrayLike=Jr,w.isArrayLikeObject=Qt,w.isBoolean=CF,w.isBuffer=yo,w.isDate=IF,w.isElement=AF,w.isEmpty=RF,w.isEqual=NF,w.isEqualWith=PF,w.isError=T_,w.isFinite=OF,w.isFunction=Bi,w.isInteger=Xb,w.isLength=Wc,w.isMap=Vb,w.isMatch=LF,w.isMatchWith=kF,w.isNaN=FF,w.isNative=UF,w.isNil=DF,w.isNull=BF,w.isNumber=zb,w.isObject=$t,w.isObjectLike=Vt,w.isPlainObject=nl,w.isRegExp=w_,w.isSafeInteger=MF,w.isSet=Yb,w.isString=Xc,w.isSymbol=hn,w.isTypedArray=ds,w.isUndefined=GF,w.isWeakMap=$F,w.isWeakSet=HF,w.join=XL,w.kebabCase=PU,w.last=Pn,w.lastIndexOf=VL,w.lowerCase=OU,w.lowerFirst=LU,w.lt=jF,w.lte=WF,w.max=I4,w.maxBy=A4,w.mean=R4,w.meanBy=N4,w.min=P4,w.minBy=O4,w.stubArray=O_,w.stubFalse=L_,w.stubObject=m4,w.stubString=g4,w.stubTrue=y4,w.multiply=L4,w.nth=zL,w.noConflict=l4,w.noop=P_,w.now=$c,w.pad=kU,w.padEnd=FU,w.padStart=UU,w.parseInt=BU,w.random=CU,w.reduce=Kk,w.reduceRight=Zk,w.repeat=DU,w.replace=MU,w.result=_U,w.round=k4,w.runInContext=G,w.sample=Qk,w.size=rF,w.snakeCase=GU,w.some=nF,w.sortedIndex=ek,w.sortedIndexBy=tk,w.sortedIndexOf=rk,w.sortedLastIndex=nk,w.sortedLastIndexBy=ik,w.sortedLastIndexOf=ok,w.startCase=HU,w.startsWith=jU,w.subtract=F4,w.sum=U4,w.sumBy=B4,w.template=WU,w.times=x4,w.toFinite=Di,w.toInteger=He,w.toLength=Kb,w.toLower=XU,w.toNumber=On,w.toSafeInteger=XF,w.toString=dt,w.toUpper=VU,w.trim=zU,w.trimEnd=YU,w.trimStart=qU,w.truncate=KU,w.unescape=ZU,w.uniqueId=E4,w.upperCase=JU,w.upperFirst=I_,w.each=Ub,w.eachRight=Bb,w.first=Ob,N_(w,function(){var u={};return ci(w,function(f,d){_t.call(w.prototype,d)||(u[d]=f)}),u}(),{chain:!1}),w.VERSION=n,Cn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){w[u].placeholder=w}),Cn(["drop","take"],function(u,f){Qe.prototype[u]=function(d){d=d===r?1:ur(He(d),0);var g=this.__filtered__&&!f?new Qe(this):this.clone();return g.__filtered__?g.__takeCount__=Or(d,g.__takeCount__):g.__views__.push({size:Or(d,W),type:u+(g.__dir__<0?"Right":"")}),g},Qe.prototype[u+"Right"]=function(d){return this.reverse()[u](d).reverse()}}),Cn(["filter","map","takeWhile"],function(u,f){var d=f+1,g=d==qe||d==fe;Qe.prototype[u]=function(E){var C=this.clone();return C.__iteratees__.push({iteratee:Oe(E,3),type:d}),C.__filtered__=C.__filtered__||g,C}}),Cn(["head","last"],function(u,f){var d="take"+(f?"Right":"");Qe.prototype[u]=function(){return this[d](1).value()[0]}}),Cn(["initial","tail"],function(u,f){var d="drop"+(f?"":"Right");Qe.prototype[u]=function(){return this.__filtered__?new Qe(this):this[d](1)}}),Qe.prototype.compact=function(){return this.filter(en)},Qe.prototype.find=function(u){return this.filter(u).head()},Qe.prototype.findLast=function(u){return this.reverse().find(u)},Qe.prototype.invokeMap=ze(function(u,f){return typeof u=="function"?new Qe(this):this.map(function(d){return Zu(d,u,f)})}),Qe.prototype.reject=function(u){return this.filter(jc(Oe(u)))},Qe.prototype.slice=function(u,f){u=He(u);var d=this;return d.__filtered__&&(u>0||f<0)?new Qe(d):(u<0?d=d.takeRight(-u):u&&(d=d.drop(u)),f!==r&&(f=He(f),d=f<0?d.dropRight(-f):d.take(f-u)),d)},Qe.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Qe.prototype.toArray=function(){return this.take(W)},ci(Qe.prototype,function(u,f){var d=/^(?:filter|find|map|reject)|While$/.test(f),g=/^(?:head|last)$/.test(f),E=w[g?"take"+(f=="last"?"Right":""):f],C=g||/^find/.test(f);!E||(w.prototype[f]=function(){var O=this.__wrapped__,F=g?[1]:arguments,$=O instanceof Qe,q=F[0],K=$||Ge(O),Q=function(Ze){var tt=E.apply(w,co([Ze],F));return g&&he?tt[0]:tt};K&&d&&typeof q=="function"&&q.length!=1&&($=K=!1);var he=this.__chain__,we=!!this.__actions__.length,Le=C&&!he,Xe=$&&!we;if(!C&&K){O=Xe?O:new Qe(this);var ke=u.apply(O,F);return ke.__actions__.push({func:Mc,args:[Q],thisArg:r}),new An(ke,he)}return Le&&Xe?u.apply(this,F):(ke=this.thru(Q),Le?g?ke.value()[0]:ke.value():ke)})}),Cn(["pop","push","shift","sort","splice","unshift"],function(u){var f=cc[u],d=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",g=/^(?:pop|shift)$/.test(u);w.prototype[u]=function(){var E=arguments;if(g&&!this.__chain__){var C=this.value();return f.apply(Ge(C)?C:[],E)}return this[d](function(O){return f.apply(Ge(O)?O:[],E)})}}),ci(Qe.prototype,function(u,f){var d=w[f];if(d){var g=d.name+"";_t.call(us,g)||(us[g]=[]),us[g].push({name:f,func:d})}}),us[Oc(r,b).name]=[{name:"wrapper",func:r}],Qe.prototype.clone=ZO,Qe.prototype.reverse=JO,Qe.prototype.value=QO,w.prototype.at=Ak,w.prototype.chain=Rk,w.prototype.commit=Nk,w.prototype.next=Pk,w.prototype.plant=Lk,w.prototype.reverse=kk,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=Fk,w.prototype.first=w.prototype.head,Wu&&(w.prototype[Wu]=Ok),w},os=NO();ia?((ia.exports=os)._=os,Rv._=os):xr._=os}).call(Dr)})(jy,jy.exports);var A1=jy.exports;const tr=[];class cX{constructor(){Ln(this,"currentApp",null);Ln(this,"effectsContainer");Ln(this,"figureContainer");Ln(this,"figureObjects",[]);Ln(this,"backgroundContainer");Ln(this,"backgroundObjects",[]);Ln(this,"frameDuration",mr.shared.elapsedMS);Ln(this,"stageAnimations",[]);Ln(this,"lockTransformTarget",[]);Ln(this,"stageWidth",2560);Ln(this,"stageHeight",1440);const t=new wp({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(t.view)),t.renderer.view.style.position="absolute",t.renderer.view.style.display="block",t.renderer.view.id="pixiCanvas",t.renderer.autoResize=!0;const n=document.getElementById("root");n&&t.renderer.resize(n.clientWidth,n.clientHeight),t.renderer.view.style.zIndex="5",t.stage.sortableChildren=!0,this.effectsContainer=new Rr,this.effectsContainer.zIndex=3,this.figureContainer=new Rr,this.figureContainer.zIndex=2,this.backgroundContainer=new Rr,this.backgroundContainer.zIndex=0,t.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=t}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(t,r,n="default"){var i;this.stageAnimations.push({uuid:kh(),animationObject:t,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),t.setStartState(),(i=this.currentApp)==null||i.ticker.add(t.tickerFunc)}registerPresetAnimation(t,r,n="default",i){var a;const o=i.find(s=>s.target===n);if(o){const s=this.getStageObjByKey(n);if(s){const l=s.pixiContainer;Object.assign(l,o.transform)}return}this.stageAnimations.push({uuid:kh(),animationObject:t,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),t.setStartState(),(a=this.currentApp)==null||a.ticker.add(t.tickerFunc)}stopPresetAnimationOnTarget(t){const r=this.stageAnimations.find(n=>n.targetKey===t&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(t){var n,i;const r=this.stageAnimations.findIndex(o=>o.key===t);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState(),this.unlockStageObject((i=o.targetKey)!=null?i:"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(t,r=!1){var i,o;const n=this.stageAnimations.findIndex(a=>a.key===t);if(n>=0){const a=this.stageAnimations[n];if((i=this.currentApp)==null||i.ticker.remove(a.animationObject.tickerFunc),a.animationObject.setEndState(),this.unlockStageObject((o=a.targetKey)!=null?o:"default"),a.targetKey){const s=this.getStageObjByKey(a.targetKey);if(s){const l={alpha:s.pixiContainer.alpha,scale:{x:s.pixiContainer.scale.x,y:s.pixiContainer.scale.y},pivot:{x:s.pixiContainer.pivot.x,y:s.pixiContainer.pivot.y},position:{x:s.pixiContainer.x,y:s.pixiContainer.y},rotation:s.pixiContainer.rotation},c=de.getState().stage.effects,h=A1.cloneDeep(c);let p={target:a.targetKey,transform:l};const v=h.findIndex(_=>_.target===a.targetKey);v>=0?(p=h[v],p.transform=l,h[v]=p):h.push(p),dN(h,r)}}this.stageAnimations.splice(n,1)}}addBg(t,r){const n=new Mn,i=new Rr;this.backgroundObjects.findIndex(c=>c.key===t)>=0&&this.removeStageObjectByKey(t),this.backgroundContainer.addChild(i),this.backgroundObjects.push({uuid:kh(),key:t,pixiContainer:i,sourceUrl:r});const s=()=>{const c=n.resources[r].texture;if(c&&i){const h=c.width,p=c.height,v=this.stageWidth/h,_=this.stageHeight/p,y=Math.max(v,_),x=new io(c);x.scale.x=y,x.scale.y=y,x.anchor.set(.5),x.position.x=this.stageWidth/2,x.position.y=this.stageHeight/2,i.addChild(x)}};Object.keys(n.resources).includes(r)?s():(Vw(),n.add(r).load(s))}addFigure(t,r,n="center"){const i=new Mn,o=new Rr;this.figureObjects.findIndex(h=>h.key===t)>=0&&this.removeStageObjectByKey(t),this.figureContainer.addChild(o),this.figureObjects.push({uuid:kh(),key:t,pixiContainer:o,sourceUrl:r});const l=()=>{const h=i.resources[r].texture;if(h&&o){const p=h.width,v=h.height,_=this.stageWidth/p,y=this.stageHeight/v,x=Math.min(_,y),m=new io(h);m.scale.x=x,m.scale.y=x,m.anchor.set(.5),m.position.y=this.stageHeight/2;const b=p*x;n==="center"&&(m.position.x=this.stageWidth/2),n==="left"&&(m.position.x=b/2),n==="right"&&(m.position.x=this.stageWidth-b/2),o.addChild(m)}};Object.keys(i.resources).includes(r)?l():(Vw(),i.add(r).load(l))}getStageObjByKey(t){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===t)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(t){const r=this.figureObjects.findIndex(i=>i.key===t),n=this.backgroundObjects.findIndex(i=>i.key===t);if(r>=0){const i=this.figureObjects[r];i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}lockStageObject(t){this.lockTransformTarget.push(t)}unlockStageObject(t){const r=this.lockTransformTarget.findIndex(n=>n===t);r>=0&&this.lockTransformTarget.splice(r,1)}}function dN(e,t=!1){t||setTimeout(()=>{const r=tr[tr.length-1];if(r){const n=A1.cloneDeep(r),i=n.currentStageState.effects;for(;i.length>0;)i.pop();i.push(...e),tr.pop(),tr.push(n)}},50),de.dispatch(Yt({key:"effects",value:e}))}const hX=e=>{let t="center",r=e.content;for(const s of e.args)s.key==="left"&&s.value===!0&&(t="left"),s.key==="right"&&s.value===!0&&(t="right"),s.key==="clear"&&s.value===!0&&(r=""),r==="none"&&(r="");const n=de.dispatch,i=de.getState().stage.effects,o=A1.cloneDeep(i),a=o.findIndex(s=>s.target===`fig-${t}`);switch(a>=0&&o.splice(a,1),dN(o),t){case"center":n(Yt({key:"figName",value:r}));break;case"left":n(Yt({key:"figNameLeft",value:r}));break;case"right":n(Yt({key:"figNameRight",value:r}));break}return{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},dX=e=>{let t=e.content;return(e.content==="none"||e.content==="")&&(t=""),de.dispatch(Yt({key:"miniAvatar",value:t})),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},pX="_TextBox_EventHandler_1cj5m_1",vX="_TextBox_main_1cj5m_9",_X="_showSoftly_1cj5m_1",mX="_TextBox_textElement_1cj5m_35",gX="_TextBox_textElement_start_1cj5m_40",yX="_TextDelayShow_1cj5m_1",xX="_TextBox_textElement_Settled_1cj5m_45",bX="_TextBox_showName_1cj5m_49",EX="_miniAvatarContainer_1cj5m_65",TX="_miniAvatarImg_1cj5m_73";var ei={TextBox_EventHandler:pX,TextBox_main:vX,showSoftly:_X,TextBox_textElement:mX,TextBox_textElement_start:gX,TextDelayShow:yX,TextBox_textElement_Settled:xX,TextBox_showName:bX,miniAvatarContainer:EX,miniAvatarImg:TX};const wX="_TextBox_EventHandler_449dq_2",SX="_TextBox_main_449dq_10",CX="_showSoftly_449dq_1",IX="_TextBox_textElement_449dq_38",AX="_TextBox_textElement_start_449dq_43",RX="_TextDelayShow_449dq_1",NX="_TextBox_textElement_Settled_449dq_48",PX="_TextBox_showName_449dq_52",OX="_miniAvatarContainer_449dq_68",LX="_miniAvatarImg_449dq_76";var ed={TextBox_EventHandler:wX,TextBox_main:SX,showSoftly:CX,TextBox_textElement:IX,TextBox_textElement_start:AX,TextDelayShow:RX,TextBox_textElement_Settled:NX,TextBox_showName:PX,miniAvatarContainer:OX,miniAvatarImg:LX};const Cp=()=>Math.random().toString().substring(0,10),Z={performList:[],timeoutList:[],isAuto:!1,isFast:!1,autoInterval:null,fastInterval:null,autoTimeout:null,pixiStage:null},Ip=e=>{for(let t=0;t<Z.performList.length;t++){const r=Z.performList[t];!r.isHoldOn&&r.performName===e&&(r.stopFunction(),clearTimeout(r.stopTimeout),Z.performList.splice(t,1),t--)}},kX=e=>{Re.debug("\u5355\u6B21\u64AD\u653E\u8BED\u97F3");const t=Cp();let r="";for(const i of e.args)i.key==="vocal"&&(r=i.value.toString());let n=document.getElementById("currentVocal");n!==null&&(n.currentTime=0,n.pause()),de.dispatch(Yt({key:"vocal",value:r})),setTimeout(()=>{let i=document.getElementById("currentVocal");if(i!==null){i.currentTime=0;const o={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!0,stopFunction:()=>{i.oncanplay=()=>{},i.pause()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};Z.performList.push(o),i.oncanplay=()=>{i.play()},i.onended=()=>{for(const a of Z.performList)a.performName===t&&(a.isOver=!0,a.stopFunction(),Ip(a.performName))}}},1)},Hf={textInitialDelay:80},pN=e=>{const t=de.getState().stage,r=t.enableFilm===""?ei:ed,n=de.getState().userData,i=de.dispatch;let o=e.content,a=Math.random().toString(),s=!1,l=!1;e.args.forEach(y=>{y.key==="concat"&&y.value===!0&&(a=t.currentDialogKey,o=t.showText+o,s=!0),y.key==="notend"&&y.value===!0&&(l=!0)}),i(Yt(s?{key:"currentConcatDialogPrev",value:t.showText}:{key:"currentConcatDialogPrev",value:""})),i(Yt({key:"showText",value:o})),i(Yt({key:"vocal",value:""})),i(Yt({key:"currentDialogKey",value:a}));const h=(Hf.textInitialDelay-20*n.optionData.textSpeed)*e.content.length;let p=t.showName;for(const y of e.args)y.key==="speaker"&&(p=y.value),y.key==="clear"&&y.value===!0&&(p=""),y.key==="vocal"&&kX(e);i(Yt({key:"showName",value:p})),setTimeout(()=>{[...document.querySelectorAll("."+r.TextBox_textElement_start)].forEach(m=>{m.className=r.TextBox_textElement})},0);const v=Cp();let _=750-n.optionData.textSpeed*250;return l&&(_=0),{performName:v,duration:h+_,isOver:!1,isHoldOn:!1,stopFunction:()=>{[...document.querySelectorAll("."+r.TextBox_textElement)].forEach(m=>{m.className=r.TextBox_textElement_Settled})},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:l}},FX={performName:"",duration:100,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};function UX(){this.__data__=[],this.size=0}var BX=UX;function DX(e,t){return e===t||e!==e&&t!==t}var vN=DX,MX=vN;function GX(e,t){for(var r=e.length;r--;)if(MX(e[r][0],t))return r;return-1}var Ap=GX,$X=Ap,HX=Array.prototype,jX=HX.splice;function WX(e){var t=this.__data__,r=$X(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():jX.call(t,r,1),--this.size,!0}var XX=WX,VX=Ap;function zX(e){var t=this.__data__,r=VX(t,e);return r<0?void 0:t[r][1]}var YX=zX,qX=Ap;function KX(e){return qX(this.__data__,e)>-1}var ZX=KX,JX=Ap;function QX(e,t){var r=this.__data__,n=JX(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var eV=QX,tV=BX,rV=XX,nV=YX,iV=ZX,oV=eV;function Au(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Au.prototype.clear=tV;Au.prototype.delete=rV;Au.prototype.get=nV;Au.prototype.has=iV;Au.prototype.set=oV;var Rp=Au,aV=Rp;function sV(){this.__data__=new aV,this.size=0}var uV=sV;function lV(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var fV=lV;function cV(e){return this.__data__.get(e)}var hV=cV;function dV(e){return this.__data__.has(e)}var pV=dV,vV=typeof Dr=="object"&&Dr&&Dr.Object===Object&&Dr,_N=vV,_V=_N,mV=typeof self=="object"&&self&&self.Object===Object&&self,gV=_V||mV||Function("return this")(),ai=gV,yV=ai,xV=yV.Symbol,R1=xV,LC=R1,mN=Object.prototype,bV=mN.hasOwnProperty,EV=mN.toString,Sl=LC?LC.toStringTag:void 0;function TV(e){var t=bV.call(e,Sl),r=e[Sl];try{e[Sl]=void 0;var n=!0}catch{}var i=EV.call(e);return n&&(t?e[Sl]=r:delete e[Sl]),i}var wV=TV,SV=Object.prototype,CV=SV.toString;function IV(e){return CV.call(e)}var AV=IV,kC=R1,RV=wV,NV=AV,PV="[object Null]",OV="[object Undefined]",FC=kC?kC.toStringTag:void 0;function LV(e){return e==null?e===void 0?OV:PV:FC&&FC in Object(e)?RV(e):NV(e)}var jf=LV;function kV(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ea=kV,FV=jf,UV=ea,BV="[object AsyncFunction]",DV="[object Function]",MV="[object GeneratorFunction]",GV="[object Proxy]";function $V(e){if(!UV(e))return!1;var t=FV(e);return t==DV||t==MV||t==BV||t==GV}var gN=$V,HV=ai,jV=HV["__core-js_shared__"],WV=jV,Ym=WV,UC=function(){var e=/[^.]+$/.exec(Ym&&Ym.keys&&Ym.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function XV(e){return!!UC&&UC in e}var VV=XV,zV=Function.prototype,YV=zV.toString;function qV(e){if(e!=null){try{return YV.call(e)}catch{}try{return e+""}catch{}}return""}var yN=qV,KV=gN,ZV=VV,JV=ea,QV=yN,ez=/[\\^$.*+?()[\]{}|]/g,tz=/^\[object .+?Constructor\]$/,rz=Function.prototype,nz=Object.prototype,iz=rz.toString,oz=nz.hasOwnProperty,az=RegExp("^"+iz.call(oz).replace(ez,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sz(e){if(!JV(e)||ZV(e))return!1;var t=KV(e)?az:tz;return t.test(QV(e))}var uz=sz;function lz(e,t){return e==null?void 0:e[t]}var fz=lz,cz=uz,hz=fz;function dz(e,t){var r=hz(e,t);return cz(r)?r:void 0}var za=dz,pz=za,vz=ai,_z=pz(vz,"Map"),N1=_z,mz=za,gz=mz(Object,"create"),Np=gz,BC=Np;function yz(){this.__data__=BC?BC(null):{},this.size=0}var xz=yz;function bz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ez=bz,Tz=Np,wz="__lodash_hash_undefined__",Sz=Object.prototype,Cz=Sz.hasOwnProperty;function Iz(e){var t=this.__data__;if(Tz){var r=t[e];return r===wz?void 0:r}return Cz.call(t,e)?t[e]:void 0}var Az=Iz,Rz=Np,Nz=Object.prototype,Pz=Nz.hasOwnProperty;function Oz(e){var t=this.__data__;return Rz?t[e]!==void 0:Pz.call(t,e)}var Lz=Oz,kz=Np,Fz="__lodash_hash_undefined__";function Uz(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kz&&t===void 0?Fz:t,this}var Bz=Uz,Dz=xz,Mz=Ez,Gz=Az,$z=Lz,Hz=Bz;function Ru(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ru.prototype.clear=Dz;Ru.prototype.delete=Mz;Ru.prototype.get=Gz;Ru.prototype.has=$z;Ru.prototype.set=Hz;var jz=Ru,DC=jz,Wz=Rp,Xz=N1;function Vz(){this.size=0,this.__data__={hash:new DC,map:new(Xz||Wz),string:new DC}}var zz=Vz;function Yz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qz=Yz,Kz=qz;function Zz(e,t){var r=e.__data__;return Kz(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Pp=Zz,Jz=Pp;function Qz(e){var t=Jz(this,e).delete(e);return this.size-=t?1:0,t}var eY=Qz,tY=Pp;function rY(e){return tY(this,e).get(e)}var nY=rY,iY=Pp;function oY(e){return iY(this,e).has(e)}var aY=oY,sY=Pp;function uY(e,t){var r=sY(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var lY=uY,fY=zz,cY=eY,hY=nY,dY=aY,pY=lY;function Nu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nu.prototype.clear=fY;Nu.prototype.delete=cY;Nu.prototype.get=hY;Nu.prototype.has=dY;Nu.prototype.set=pY;var xN=Nu,vY=Rp,_Y=N1,mY=xN,gY=200;function yY(e,t){var r=this.__data__;if(r instanceof vY){var n=r.__data__;if(!_Y||n.length<gY-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new mY(n)}return r.set(e,t),this.size=r.size,this}var xY=yY,bY=Rp,EY=uV,TY=fV,wY=hV,SY=pV,CY=xY;function Pu(e){var t=this.__data__=new bY(e);this.size=t.size}Pu.prototype.clear=EY;Pu.prototype.delete=TY;Pu.prototype.get=wY;Pu.prototype.has=SY;Pu.prototype.set=CY;var IY=Pu;function AY(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var RY=AY,NY=za,PY=function(){try{var e=NY(Object,"defineProperty");return e({},"",{}),e}catch{}}(),OY=PY,MC=OY;function LY(e,t,r){t=="__proto__"&&MC?MC(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var bN=LY,kY=bN,FY=vN,UY=Object.prototype,BY=UY.hasOwnProperty;function DY(e,t,r){var n=e[t];(!(BY.call(e,t)&&FY(n,r))||r===void 0&&!(t in e))&&kY(e,t,r)}var EN=DY,MY=EN,GY=bN;function $Y(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),i?GY(r,s,l):MY(r,s,l)}return r}var Op=$Y;function HY(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var jY=HY;function WY(e){return e!=null&&typeof e=="object"}var Ou=WY,XY=jf,VY=Ou,zY="[object Arguments]";function YY(e){return VY(e)&&XY(e)==zY}var qY=YY,GC=qY,KY=Ou,TN=Object.prototype,ZY=TN.hasOwnProperty,JY=TN.propertyIsEnumerable,QY=GC(function(){return arguments}())?GC:function(e){return KY(e)&&ZY.call(e,"callee")&&!JY.call(e,"callee")},eq=QY,tq=Array.isArray,P1=tq,Wd={exports:{}};function rq(){return!1}var nq=rq;(function(e,t){var r=ai,n=nq,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Wd,Wd.exports);var iq=9007199254740991,oq=/^(?:0|[1-9]\d*)$/;function aq(e,t){var r=typeof e;return t=t==null?iq:t,!!t&&(r=="number"||r!="symbol"&&oq.test(e))&&e>-1&&e%1==0&&e<t}var sq=aq,uq=9007199254740991;function lq(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uq}var wN=lq,fq=jf,cq=wN,hq=Ou,dq="[object Arguments]",pq="[object Array]",vq="[object Boolean]",_q="[object Date]",mq="[object Error]",gq="[object Function]",yq="[object Map]",xq="[object Number]",bq="[object Object]",Eq="[object RegExp]",Tq="[object Set]",wq="[object String]",Sq="[object WeakMap]",Cq="[object ArrayBuffer]",Iq="[object DataView]",Aq="[object Float32Array]",Rq="[object Float64Array]",Nq="[object Int8Array]",Pq="[object Int16Array]",Oq="[object Int32Array]",Lq="[object Uint8Array]",kq="[object Uint8ClampedArray]",Fq="[object Uint16Array]",Uq="[object Uint32Array]",Nt={};Nt[Aq]=Nt[Rq]=Nt[Nq]=Nt[Pq]=Nt[Oq]=Nt[Lq]=Nt[kq]=Nt[Fq]=Nt[Uq]=!0;Nt[dq]=Nt[pq]=Nt[Cq]=Nt[vq]=Nt[Iq]=Nt[_q]=Nt[mq]=Nt[gq]=Nt[yq]=Nt[xq]=Nt[bq]=Nt[Eq]=Nt[Tq]=Nt[wq]=Nt[Sq]=!1;function Bq(e){return hq(e)&&cq(e.length)&&!!Nt[fq(e)]}var Dq=Bq;function Mq(e){return function(t){return e(t)}}var O1=Mq,Rf={exports:{}};(function(e,t){var r=_N,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(Rf,Rf.exports);var Gq=Dq,$q=O1,$C=Rf.exports,HC=$C&&$C.isTypedArray,Hq=HC?$q(HC):Gq,jq=Hq,Wq=jY,Xq=eq,Vq=P1,zq=Wd.exports,Yq=sq,qq=jq,Kq=Object.prototype,Zq=Kq.hasOwnProperty;function Jq(e,t){var r=Vq(e),n=!r&&Xq(e),i=!r&&!n&&zq(e),o=!r&&!n&&!i&&qq(e),a=r||n||i||o,s=a?Wq(e.length,String):[],l=s.length;for(var c in e)(t||Zq.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Yq(c,l)))&&s.push(c);return s}var SN=Jq,Qq=Object.prototype;function eK(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qq;return e===r}var L1=eK;function tK(e,t){return function(r){return e(t(r))}}var CN=tK,rK=CN,nK=rK(Object.keys,Object),iK=nK,oK=L1,aK=iK,sK=Object.prototype,uK=sK.hasOwnProperty;function lK(e){if(!oK(e))return aK(e);var t=[];for(var r in Object(e))uK.call(e,r)&&r!="constructor"&&t.push(r);return t}var fK=lK,cK=gN,hK=wN;function dK(e){return e!=null&&hK(e.length)&&!cK(e)}var IN=dK,pK=SN,vK=fK,_K=IN;function mK(e){return _K(e)?pK(e):vK(e)}var k1=mK,gK=Op,yK=k1;function xK(e,t){return e&&gK(t,yK(t),e)}var bK=xK;function EK(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var TK=EK,wK=ea,SK=L1,CK=TK,IK=Object.prototype,AK=IK.hasOwnProperty;function RK(e){if(!wK(e))return CK(e);var t=SK(e),r=[];for(var n in e)n=="constructor"&&(t||!AK.call(e,n))||r.push(n);return r}var NK=RK,PK=SN,OK=NK,LK=IN;function kK(e){return LK(e)?PK(e,!0):OK(e)}var F1=kK,FK=Op,UK=F1;function BK(e,t){return e&&FK(t,UK(t),e)}var DK=BK,Wy={exports:{}};(function(e,t){var r=ai,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,a=o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var p=c.length,v=s?s(p):new c.constructor(p);return c.copy(v),v}e.exports=l})(Wy,Wy.exports);function MK(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var GK=MK;function $K(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}var HK=$K;function jK(){return[]}var AN=jK,WK=HK,XK=AN,VK=Object.prototype,zK=VK.propertyIsEnumerable,jC=Object.getOwnPropertySymbols,YK=jC?function(e){return e==null?[]:(e=Object(e),WK(jC(e),function(t){return zK.call(e,t)}))}:XK,U1=YK,qK=Op,KK=U1;function ZK(e,t){return qK(e,KK(e),t)}var JK=ZK;function QK(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var RN=QK,eZ=CN,tZ=eZ(Object.getPrototypeOf,Object),NN=tZ,rZ=RN,nZ=NN,iZ=U1,oZ=AN,aZ=Object.getOwnPropertySymbols,sZ=aZ?function(e){for(var t=[];e;)rZ(t,iZ(e)),e=nZ(e);return t}:oZ,PN=sZ,uZ=Op,lZ=PN;function fZ(e,t){return uZ(e,lZ(e),t)}var cZ=fZ,hZ=RN,dZ=P1;function pZ(e,t,r){var n=t(e);return dZ(e)?n:hZ(n,r(e))}var ON=pZ,vZ=ON,_Z=U1,mZ=k1;function gZ(e){return vZ(e,mZ,_Z)}var yZ=gZ,xZ=ON,bZ=PN,EZ=F1;function TZ(e){return xZ(e,EZ,bZ)}var wZ=TZ,SZ=za,CZ=ai,IZ=SZ(CZ,"DataView"),AZ=IZ,RZ=za,NZ=ai,PZ=RZ(NZ,"Promise"),OZ=PZ,LZ=za,kZ=ai,FZ=LZ(kZ,"Set"),LN=FZ,UZ=za,BZ=ai,DZ=UZ(BZ,"WeakMap"),MZ=DZ,Xy=AZ,Vy=N1,zy=OZ,Yy=LN,qy=MZ,kN=jf,Lu=yN,WC="[object Map]",GZ="[object Object]",XC="[object Promise]",VC="[object Set]",zC="[object WeakMap]",YC="[object DataView]",$Z=Lu(Xy),HZ=Lu(Vy),jZ=Lu(zy),WZ=Lu(Yy),XZ=Lu(qy),Ta=kN;(Xy&&Ta(new Xy(new ArrayBuffer(1)))!=YC||Vy&&Ta(new Vy)!=WC||zy&&Ta(zy.resolve())!=XC||Yy&&Ta(new Yy)!=VC||qy&&Ta(new qy)!=zC)&&(Ta=function(e){var t=kN(e),r=t==GZ?e.constructor:void 0,n=r?Lu(r):"";if(n)switch(n){case $Z:return YC;case HZ:return WC;case jZ:return XC;case WZ:return VC;case XZ:return zC}return t});var B1=Ta,VZ=Object.prototype,zZ=VZ.hasOwnProperty;function YZ(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&zZ.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var qZ=YZ,KZ=ai,ZZ=KZ.Uint8Array,JZ=ZZ,qC=JZ;function QZ(e){var t=new e.constructor(e.byteLength);return new qC(t).set(new qC(e)),t}var D1=QZ,eJ=D1;function tJ(e,t){var r=t?eJ(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var rJ=tJ,nJ=/\w*$/;function iJ(e){var t=new e.constructor(e.source,nJ.exec(e));return t.lastIndex=e.lastIndex,t}var oJ=iJ,KC=R1,ZC=KC?KC.prototype:void 0,JC=ZC?ZC.valueOf:void 0;function aJ(e){return JC?Object(JC.call(e)):{}}var sJ=aJ,uJ=D1;function lJ(e,t){var r=t?uJ(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var fJ=lJ,cJ=D1,hJ=rJ,dJ=oJ,pJ=sJ,vJ=fJ,_J="[object Boolean]",mJ="[object Date]",gJ="[object Map]",yJ="[object Number]",xJ="[object RegExp]",bJ="[object Set]",EJ="[object String]",TJ="[object Symbol]",wJ="[object ArrayBuffer]",SJ="[object DataView]",CJ="[object Float32Array]",IJ="[object Float64Array]",AJ="[object Int8Array]",RJ="[object Int16Array]",NJ="[object Int32Array]",PJ="[object Uint8Array]",OJ="[object Uint8ClampedArray]",LJ="[object Uint16Array]",kJ="[object Uint32Array]";function FJ(e,t,r){var n=e.constructor;switch(t){case wJ:return cJ(e);case _J:case mJ:return new n(+e);case SJ:return hJ(e,r);case CJ:case IJ:case AJ:case RJ:case NJ:case PJ:case OJ:case LJ:case kJ:return vJ(e,r);case gJ:return new n;case yJ:case EJ:return new n(e);case xJ:return dJ(e);case bJ:return new n;case TJ:return pJ(e)}}var UJ=FJ,BJ=ea,QC=Object.create,DJ=function(){function e(){}return function(t){if(!BJ(t))return{};if(QC)return QC(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),MJ=DJ,GJ=MJ,$J=NN,HJ=L1;function jJ(e){return typeof e.constructor=="function"&&!HJ(e)?GJ($J(e)):{}}var WJ=jJ,XJ=B1,VJ=Ou,zJ="[object Map]";function YJ(e){return VJ(e)&&XJ(e)==zJ}var qJ=YJ,KJ=qJ,ZJ=O1,e2=Rf.exports,t2=e2&&e2.isMap,JJ=t2?ZJ(t2):KJ,QJ=JJ,eQ=B1,tQ=Ou,rQ="[object Set]";function nQ(e){return tQ(e)&&eQ(e)==rQ}var iQ=nQ,oQ=iQ,aQ=O1,r2=Rf.exports,n2=r2&&r2.isSet,sQ=n2?aQ(n2):oQ,uQ=sQ,lQ=IY,fQ=RY,cQ=EN,hQ=bK,dQ=DK,pQ=Wy.exports,vQ=GK,_Q=JK,mQ=cZ,gQ=yZ,yQ=wZ,xQ=B1,bQ=qZ,EQ=UJ,TQ=WJ,wQ=P1,SQ=Wd.exports,CQ=QJ,IQ=ea,AQ=uQ,RQ=k1,NQ=F1,PQ=1,OQ=2,LQ=4,FN="[object Arguments]",kQ="[object Array]",FQ="[object Boolean]",UQ="[object Date]",BQ="[object Error]",UN="[object Function]",DQ="[object GeneratorFunction]",MQ="[object Map]",GQ="[object Number]",BN="[object Object]",$Q="[object RegExp]",HQ="[object Set]",jQ="[object String]",WQ="[object Symbol]",XQ="[object WeakMap]",VQ="[object ArrayBuffer]",zQ="[object DataView]",YQ="[object Float32Array]",qQ="[object Float64Array]",KQ="[object Int8Array]",ZQ="[object Int16Array]",JQ="[object Int32Array]",QQ="[object Uint8Array]",eee="[object Uint8ClampedArray]",tee="[object Uint16Array]",ree="[object Uint32Array]",wt={};wt[FN]=wt[kQ]=wt[VQ]=wt[zQ]=wt[FQ]=wt[UQ]=wt[YQ]=wt[qQ]=wt[KQ]=wt[ZQ]=wt[JQ]=wt[MQ]=wt[GQ]=wt[BN]=wt[$Q]=wt[HQ]=wt[jQ]=wt[WQ]=wt[QQ]=wt[eee]=wt[tee]=wt[ree]=!0;wt[BQ]=wt[UN]=wt[XQ]=!1;function td(e,t,r,n,i,o){var a,s=t&PQ,l=t&OQ,c=t&LQ;if(r&&(a=i?r(e,n,i,o):r(e)),a!==void 0)return a;if(!IQ(e))return e;var h=wQ(e);if(h){if(a=bQ(e),!s)return vQ(e,a)}else{var p=xQ(e),v=p==UN||p==DQ;if(SQ(e))return pQ(e,s);if(p==BN||p==FN||v&&!i){if(a=l||v?{}:TQ(e),!s)return l?mQ(e,dQ(a,e)):_Q(e,hQ(a,e))}else{if(!wt[p])return i?e:{};a=EQ(e,p,s)}}o||(o=new lQ);var _=o.get(e);if(_)return _;o.set(e,a),AQ(e)?e.forEach(function(m){a.add(td(m,t,r,m,e,o))}):CQ(e)&&e.forEach(function(m,b){a.set(b,td(m,t,r,b,e,o))});var y=c?l?yQ:gQ:l?NQ:RQ,x=h?void 0:y(e);return fQ(x||e,function(m,b){x&&(b=m,m=e[b]),cQ(a,b,td(m,t,r,b,e,o))}),a}var nee=td,iee=nee,oee=1,aee=4;function see(e){return iee(e,oee|aee)}var Yr=see;const DN=e=>{let t=FX,r=pN;const n=new Map;if(fP.forEach(a=>{n.set(a.scriptType,a.scriptFunction)}),n.has(e.command)&&(r=n.get(e.command)),t=r(e),t.performName==="none")return;const i=de.getState().stage,o=Yr(i);o.PerformList.push({isHoldOn:t.isHoldOn,script:e}),de.dispatch(wu(o)),t.stopTimeout=setTimeout(()=>{t.isOver=!0,t.isHoldOn||(Ip(t.performName),t.goNextWhenOver&&MN())},t.duration),Z.performList.push(t)};function MN(){let e=!1;Z.performList.forEach(t=>{t.blockingAuto()&&!t.isOver&&(e=!0)}),e?setTimeout(MN,100):Hr()}const uee=e=>{Ai(e.sceneUrl).then(t=>{Te.currentScene=Ri(t,e.sceneName,e.sceneUrl),Te.currentSentenceId=e.continueLine+1,Re.debug("\u73B0\u5728\u6062\u590D\u573A\u666F\uFF0C\u6062\u590D\u540E\u573A\u666F\uFF1A",Te.currentScene),Hr()})};var M1={},Xd={document:{}},GN=Object.prototype.hasOwnProperty,$N=function(e){return Lp(e)?e.toLowerCase():e},zl=Array.isArray,lee=function(e){return Lp(e)?e.replace(/[A-Z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)|32)}):e};"I".toLowerCase()!=="i"&&($N=lee);var fee,G1=Object.prototype.toString,HN=Object.getPrototypeOf,qm=zN("ng");Xd.angular||(Xd.angular={});function cee(e){if(e==null||j1(e))return!1;if(zl(e)||Lp(e)||fee)return!0;var t="length"in Object(e)&&e.length;return H1(t)&&(t>=0&&(t-1 in e||e instanceof Array)||typeof e.item=="function")}function Wt(e,t,r){var n,i;if(e)if(XN(e))for(n in e)n!=="prototype"&&n!=="length"&&n!=="name"&&e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else if(zl(e)||cee(e)){var o=typeof e!="object";for(n=0,i=e.length;n<i;n++)(o||n in e)&&t.call(r,e[n],n,e)}else if(e.forEach&&e.forEach!==Wt)e.forEach(t,r,e);else if(WN(e))for(n in e)t.call(r,e[n],n,e);else if(typeof e.hasOwnProperty=="function")for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else for(n in e)GN.call(e,n)&&t.call(r,e[n],n,e);return e}function hee(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function $1(){}$1.$inject=[];function dee(e){return typeof e=="undefined"}function Ds(e){return typeof e!="undefined"}function jN(e){return e!==null&&typeof e=="object"}function WN(e){return e!==null&&typeof e=="object"&&!HN(e)}function Lp(e){return typeof e=="string"}function H1(e){return typeof e=="number"}function XN(e){return typeof e=="function"}function j1(e){return e&&e.window===e}function VN(e){return e&&e.$evalAsync&&e.$watch}var pee=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function vee(e){return e&&H1(e.length)&&pee.test(G1.call(e))}function _ee(e){return G1.call(e)==="[object ArrayBuffer]"}function mee(e,t){var r=[],n=[];if(t){if(vee(t)||_ee(t))throw qm("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw qm("cpi","Can't copy! Source and destination are identical.");return zl(t)?t.length=0:Wt(t,function(s,l){l!=="$$hashKey"&&delete t[l]}),r.push(e),n.push(t),i(e,t)}return o(e);function i(s,l){var c=l.$$hashKey,h;if(zl(s))for(var p=0,v=s.length;p<v;p++)l.push(o(s[p]));else if(WN(s))for(h in s)l[h]=o(s[h]);else if(s&&typeof s.hasOwnProperty=="function")for(h in s)s.hasOwnProperty(h)&&(l[h]=o(s[h]));else for(h in s)GN.call(s,h)&&(l[h]=o(s[h]));return hee(l,c),l}function o(s){if(!jN(s))return s;var l=r.indexOf(s);if(l!==-1)return n[l];if(j1(s)||VN(s))throw qm("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var c=!1,h=a(s);return h===void 0&&(h=zl(s)?[]:Object.create(HN(s)),c=!0),r.push(s),n.push(h),c?i(s,h):h}function a(s){switch(G1.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(o(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var l=new ArrayBuffer(s.byteLength);return new Uint8Array(l).set(new Uint8Array(s)),l}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var c=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return c.lastIndex=s.lastIndex,c;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(XN(s.cloneNode))return s.cloneNode(!0)}}function gee(e,t){var r=t;return typeof e=="string"&&e.charAt(0)==="$"&&e.charAt(1)==="$"?r=void 0:j1(t)?r="$WINDOW":t&&Xd.document===t?r="$DOCUMENT":VN(t)&&(r="$SCOPE"),r}function yee(e){if(!e.currentScript)return!0;var t=e.currentScript.getAttribute("src"),r=e.createElement("a");r.href=t;var n=r.protocol,i=e.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}yee(Xd.document);function xee(){return Object.create(null)}function bee(e){var t=[];return JSON.stringify(e,function(r,n){if(n=gee(r,n),jN(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function i2(e){return typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):dee(e)?"undefined":typeof e!="string"?bee(e):e}function zN(e,t){return t=t||Error,function(){var r=2,n=arguments,i=n[0],o="["+(e?e+":":"")+i+"] ",a=n[1],s,l;for(o+=a.replace(/\{\d+\}/g,function(c){var h=+c.slice(1,-1),p=h+r;return p<n.length?i2(n[p]):c}),o+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(e?e+"/":"")+i,l=r,s="?";l<n.length;l++,s="&")o+=s+"p"+(l-r)+"="+encodeURIComponent(i2(n[l]));return new t(o)}}var Ms=zN("$parse");({}).constructor.prototype.valueOf;function YN(e){return e+""}var rd=xee();Wt("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){rd[e]=!0});var Eee={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},Ky=function(t){this.options=t};Ky.prototype={constructor:Ky,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if(t==='"'||t==="'")this.readString(t);else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var r=t+this.peek(),n=r+this.peek(2),i=rd[t],o=rd[r],a=rd[n];if(i||o||a){var s=a?n:o?r:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return"0"<=e&&e<="9"&&typeof e=="string"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e===`
`||e==="\v"||e==="\xA0"},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||e==="_"||e==="$"},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return e.length===1?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var r=e.charCodeAt(0),n=t.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?e+t:e},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,r){r=r||this.index;var n=Ds(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,r)+"]":" "+r;throw Ms("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var r=$N(this.text.charAt(this.index));if(r==="."||this.isNumber(r))e+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))e+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&e.charAt(e.length-1)==="e")e+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&e.charAt(e.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var r="",n=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(n+=o,i){if(o==="u"){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,r+=String.fromCharCode(parseInt(a,16))}else{var s=Eee[o];r=r+(s||o)}i=!1}else if(o==="\\")i=!0;else if(o===e){this.index++,this.tokens.push({index:t,text:n,constant:!0,value:r});return}else r+=o;this.index++}this.throwError("Unterminated quote",t)}};var te=function(t,r){this.lexer=t,this.options=r};te.Program="Program";te.ExpressionStatement="ExpressionStatement";te.AssignmentExpression="AssignmentExpression";te.ConditionalExpression="ConditionalExpression";te.LogicalExpression="LogicalExpression";te.BinaryExpression="BinaryExpression";te.UnaryExpression="UnaryExpression";te.CallExpression="CallExpression";te.MemberExpression="MemberExpression";te.Identifier="Identifier";te.Literal="Literal";te.ArrayExpression="ArrayExpression";te.Property="Property";te.ObjectExpression="ObjectExpression";te.ThisExpression="ThisExpression";te.LocalsExpression="LocalsExpression";te.NGValueParameter="NGValueParameter";te.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:te.Program,body:e}},expressionStatement:function(){return{type:te.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!ZN(e))throw Ms("lval","Trying to assign a value to a non l-value");e={type:te.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e=this.logicalOR(),t,r;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(r=this.expression(),{type:te.ConditionalExpression,test:e,alternate:t,consequent:r}):e},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:te.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:te.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e=this.relational(),t;t=this.expect("==","!=","===","!==");)e={type:te.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var e=this.additive(),t;t=this.expect("<",">","<=",">=");)e={type:te.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var e=this.multiplicative(),t;t=this.expect("+","-");)e={type:te.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var e=this.unary(),t;t=this.expect("*","/","%");)e={type:te.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:te.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=mee(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:te.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)t.text==="("?(e={type:te.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):t.text==="["?(e={type:te.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):t.text==="."?e={type:te.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],r={type:te.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return r},parseArguments:function(){var e=[];if(this.peekToken().text!==")")do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:te.Identifier,name:e.text}},constant:function(){return{type:te.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:te.ArrayExpression,elements:e}},object:function(){var e=[],t;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;t={type:te.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:te.ObjectExpression,properties:e}},throwError:function(e,t){throw Ms("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(this.tokens.length===0)throw Ms("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(this.tokens.length===0)throw Ms("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,r,n){return this.peekAhead(0,e,t,r,n)},peekAhead:function(e,t,r,n,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===r||a===n||a===i||!t&&!r&&!n&&!i)return o}return!1},expect:function(e,t,r,n){var i=this.peek(e,t,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:te.ThisExpression},$locals:{type:te.LocalsExpression}}};function Tee(e,t){return typeof e!="undefined"?e:t}function qN(e,t){return typeof e=="undefined"?t:typeof t=="undefined"?e:e+t}function wee(e,t){var r=e(t);if(!r)throw new Error("Filter '"+t+"' is not defined");return!r.$stateful}function _r(e,t){var r,n,i;switch(e.type){case te.Program:r=!0,Wt(e.body,function(o){_r(o.expression,t),r=r&&o.expression.constant}),e.constant=r;break;case te.Literal:e.constant=!0,e.toWatch=[];break;case te.UnaryExpression:_r(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case te.BinaryExpression:_r(e.left,t),_r(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case te.LogicalExpression:_r(e.left,t),_r(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case te.ConditionalExpression:_r(e.test,t),_r(e.alternate,t),_r(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case te.Identifier:e.constant=!1,e.toWatch=[e];break;case te.MemberExpression:_r(e.object,t),e.computed&&_r(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case te.CallExpression:i=e.filter?wee(t,e.callee.name):!1,r=i,n=[],Wt(e.arguments,function(o){_r(o,t),r=r&&o.constant,o.constant||n.push.apply(n,o.toWatch)}),e.constant=r,e.toWatch=i?n:[e];break;case te.AssignmentExpression:_r(e.left,t),_r(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case te.ArrayExpression:r=!0,n=[],Wt(e.elements,function(o){_r(o,t),r=r&&o.constant,o.constant||n.push.apply(n,o.toWatch)}),e.constant=r,e.toWatch=n;break;case te.ObjectExpression:r=!0,n=[],Wt(e.properties,function(o){_r(o.value,t),r=r&&o.value.constant&&!o.computed,o.value.constant||n.push.apply(n,o.value.toWatch)}),e.constant=r,e.toWatch=n;break;case te.ThisExpression:e.constant=!1,e.toWatch=[];break;case te.LocalsExpression:e.constant=!1,e.toWatch=[];break}}function KN(e){if(e.length===1){var t=e[0].expression,r=t.toWatch;return r.length!==1||r[0]!==t?r:void 0}}function ZN(e){return e.type===te.Identifier||e.type===te.MemberExpression}function JN(e){if(e.body.length===1&&ZN(e.body[0].expression))return{type:te.AssignmentExpression,left:e.body[0].expression,right:{type:te.NGValueParameter},operator:"="}}function QN(e){return e.body.length===0||e.body.length===1&&(e.body[0].expression.type===te.Literal||e.body[0].expression.type===te.ArrayExpression||e.body[0].expression.type===te.ObjectExpression)}function eP(e){return e.constant}function tP(e,t){this.astBuilder=e,this.$filter=t}tP.prototype={compile:function(e){var t=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},_r(r,t.$filter);var n="",i;if(this.stage="assign",i=JN(r)){this.state.computing="assign";var o=this.nextId();this.recurse(i,o),this.return_(o),n="fn.assign="+this.generateFunction("assign","s,v,l")}var a=KN(r.body);t.stage="inputs",Wt(a,function(c,h){var p="fn"+h;t.state[p]={vars:[],body:[],own:{}},t.state.computing=p;var v=t.nextId();t.recurse(c,v),t.return_(v),t.state.inputs.push(p),c.watchId=h}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,YN,Tee,qN);return this.state=this.stage=void 0,l.ast=r,l.literal=QN(r),l.constant=eP(r),l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,r=this;return Wt(t,function(n){e.push("var "+n+"="+r.generateFunction(n,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return Wt(this.state.filters,function(r,n){e.push(r+"=$filter("+t.escape(n)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,n,i,o){var a,s,l=this,c,h,p;if(n=n||$1,!o&&Ds(e.watchId)){t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.unsafeComputedMember("i",e.watchId)),this.lazyRecurse(e,t,r,n,i,!0));return}switch(e.type){case te.Program:Wt(e.body,function(_,y){l.recurse(_.expression,void 0,void 0,function(x){s=x}),y!==e.body.length-1?l.current().body.push(s,";"):l.return_(s)});break;case te.Literal:h=this.escape(e.value),this.assign(t,h),n(t||h);break;case te.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(_){s=_}),h=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,h),n(h);break;case te.BinaryExpression:this.recurse(e.left,void 0,void 0,function(_){a=_}),this.recurse(e.right,void 0,void 0,function(_){s=_}),e.operator==="+"?h=this.plus(a,s):e.operator==="-"?h=this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):h="("+a+")"+e.operator+"("+s+")",this.assign(t,h),n(h);break;case te.LogicalExpression:t=t||this.nextId(),l.recurse(e.left,t),l.if_(e.operator==="&&"?t:l.not(t),l.lazyRecurse(e.right,t)),n(t);break;case te.ConditionalExpression:t=t||this.nextId(),l.recurse(e.test,t),l.if_(t,l.lazyRecurse(e.alternate,t),l.lazyRecurse(e.consequent,t)),n(t);break;case te.Identifier:t=t||this.nextId();var v=l.current().inAssignment;r&&(v?r.context=this.assign(this.nextId(),"s"):r.context=l.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),l.if_(l.stage==="inputs"||l.not(l.getHasOwnProperty("l",e.name)),function(){l.if_(l.stage==="inputs"||l.and_("s",l.or_(l.isNull(l.nonComputedMember("s",e.name)),l.hasOwnProperty_("s",e.name))),function(){i&&i!==1&&l.if_(l.isNull(l.nonComputedMember("s",e.name)),l.lazyAssign(l.nonComputedMember("s",e.name),"{}")),l.assign(t,l.nonComputedMember("s",e.name))})},t&&l.lazyAssign(t,l.nonComputedMember("l",e.name))),n(t);break;case te.MemberExpression:a=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),l.recurse(e.object,a,void 0,function(){var _=null,y=l.current().inAssignment;e.computed?(s=l.nextId(),y||l.state.computing==="assign"?_=l.unsafeComputedMember(a,s):_=l.computedMember(a,s)):(y||l.state.computing==="assign"?_=l.unsafeNonComputedMember(a,e.property.name):_=l.nonComputedMember(a,e.property.name),s=e.property.name),e.computed&&e.property.type===te.Literal&&l.recurse(e.property,s),l.if_(l.and_(l.notNull(a),l.or_(l.isNull(_),l.hasOwnProperty_(a,s,e.computed))),function(){e.computed?(e.property.type!==te.Literal&&l.recurse(e.property,s),i&&i!==1&&l.if_(l.not(_),l.lazyAssign(_,"{}")),l.assign(t,_),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&l.if_(l.isNull(_),l.lazyAssign(_,"{}")),l.assign(t,_),r&&(r.computed=!1,r.name=e.property.name))},function(){l.assign(t,"undefined")}),n(t)},!!i);break;case te.CallExpression:t=t||this.nextId(),e.filter?(s=l.filter(e.callee.name),c=[],Wt(e.arguments,function(_){var y=l.nextId();l.recurse(_,y),c.push(y)}),h=s+".call("+s+","+c.join(",")+")",l.assign(t,h),n(t)):(s=l.nextId(),a={},c=[],l.recurse(e.callee,s,a,function(){l.if_(l.notNull(s),function(){if(Wt(e.arguments,function(y){l.recurse(y,e.constant?void 0:l.nextId(),void 0,function(x){c.push(x)})}),a.name){var _=l.member(a.context,a.name,a.computed);h="("+_+" === null ? null : "+l.unsafeMember(a.context,a.name,a.computed)+".call("+[a.context].concat(c).join(",")+"))"}else h=s+"("+c.join(",")+")";l.assign(t,h)},function(){l.assign(t,"undefined")}),n(t)}));break;case te.AssignmentExpression:s=this.nextId(),a={},l.current().inAssignment=!0,this.recurse(e.left,void 0,a,function(){l.if_(l.and_(l.notNull(a.context),l.or_(l.hasOwnProperty_(a.context,a.name),l.isNull(l.member(a.context,a.name,a.computed)))),function(){l.recurse(e.right,s),h=l.member(a.context,a.name,a.computed)+e.operator+s,l.assign(t,h),n(t||h)}),l.current().inAssignment=!1,l.recurse(e.right,s),l.current().inAssignment=!0},1),l.current().inAssignment=!1;break;case te.ArrayExpression:c=[],Wt(e.elements,function(_){l.recurse(_,e.constant?void 0:l.nextId(),void 0,function(y){c.push(y)})}),h="["+c.join(",")+"]",this.assign(t,h),n(t||h);break;case te.ObjectExpression:c=[],p=!1,Wt(e.properties,function(_){_.computed&&(p=!0)}),p?(t=t||this.nextId(),this.assign(t,"{}"),Wt(e.properties,function(_){_.computed?(a=l.nextId(),l.recurse(_.key,a)):a=_.key.type===te.Identifier?_.key.name:""+_.key.value,s=l.nextId(),l.recurse(_.value,s),l.assign(l.unsafeMember(t,a,_.computed),s)})):(Wt(e.properties,function(_){l.recurse(_.value,e.constant?void 0:l.nextId(),void 0,function(y){c.push(l.escape(_.key.type===te.Identifier?_.key.name:""+_.key.value)+":"+y)})}),h="{"+c.join(",")+"}",this.assign(t,h)),n(t||h);break;case te.ThisExpression:this.assign(t,"s"),n(t||"s");break;case te.LocalsExpression:this.assign(t,"l"),n(t||"l");break;case te.NGValueParameter:this.assign(t,"v"),n(t||"v");break}},getHasOwnProperty:function(e,t){var r=e+"."+t,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),n[r]},assign:function(e,t){if(!!e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,r){if(e===!0)t();else{var n=this.current().body;n.push("if(",e,"){"),t(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(e,t){return"("+e+") || ("+t+")"},hasOwnProperty_:function(e,t,r){return r?"(Object.prototype.hasOwnProperty.call("+e+","+t+"))":"(Object.prototype.hasOwnProperty.call("+e+",'"+t+"'))"},and_:function(e,t){return"("+e+") && ("+t+")"},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(t)?i=e+"."+t:(t=t.replace(n,this.stringEscapeFn),i=e+'["'+t+'"]'),i},unsafeComputedMember:function(e,t){return e+"["+t+"]"},unsafeNonComputedMember:function(e,t){return this.nonComputedMember(e,t)},computedMember:function(e,t){return this.state.computing==="assign"?this.unsafeComputedMember(e,t):"("+e+".hasOwnProperty("+t+") ? "+e+"["+t+"] : null)"},unsafeMember:function(e,t,r){return r?this.unsafeComputedMember(e,t):this.unsafeNonComputedMember(e,t)},member:function(e,t,r){return r?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,r,n,i,o){var a=this;return function(){a.recurse(e,t,r,n,i,o)}},lazyAssign:function(e,t){var r=this;return function(){r.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(Lp(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(H1(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(e===null)return"null";if(typeof e=="undefined")return"undefined";throw Ms("esc","IMPOSSIBLE")},nextId:function(e,t){var r="v"+this.state.nextId++;return e||this.current().vars.push(r+(t?"="+t:"")),r},current:function(){return this.state[this.state.computing]}};function rP(e,t){this.astBuilder=e,this.$filter=t}rP.prototype={compile:function(e){var t=this,r=this.astBuilder.ast(e);_r(r,t.$filter);var n,i;(n=JN(r))&&(i=this.recurse(n));var o=KN(r.body),a;o&&(a=[],Wt(o,function(c,h){var p=t.recurse(c);c.input=p,a.push(p),c.watchId=h}));var s=[];Wt(r.body,function(c){s.push(t.recurse(c.expression))});var l=r.body.length===0?$1:r.body.length===1?s[0]:function(c,h){var p;return Wt(s,function(v){p=v(c,h)}),p};return i&&(l.assign=function(c,h,p){return i(c,p,h)}),a&&(l.inputs=a),l.ast=r,l.literal=QN(r),l.constant=eP(r),l},recurse:function(e,t,r){var n,i,o=this,a;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case te.Literal:return this.value(e.value,t);case te.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case te.BinaryExpression:return n=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](n,i,t);case te.LogicalExpression:return n=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](n,i,t);case te.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case te.Identifier:return o.identifier(e.name,t,r);case te.MemberExpression:return n=this.recurse(e.object,!1,!!r),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(n,i,t,r):this.nonComputedMember(n,i,t,r);case te.CallExpression:return a=[],Wt(e.arguments,function(s){a.push(o.recurse(s))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(s,l,c,h){for(var p=[],v=0;v<a.length;++v)p.push(a[v](s,l,c,h));var _=i.apply(void 0,p,h);return t?{context:void 0,name:void 0,value:_}:_}:function(s,l,c,h){var p=i(s,l,c,h),v;if(p.value!=null){for(var _=[],y=0;y<a.length;++y)_.push(a[y](s,l,c,h));v=p.value.apply(p.context,_)}return t?{value:v}:v};case te.AssignmentExpression:return n=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(s,l,c,h){var p=n(s,!1,c,h),v=i(s,l,c,h);return p.context[p.name]=v,t?{value:v}:v};case te.ArrayExpression:return a=[],Wt(e.elements,function(s){a.push(o.recurse(s))}),function(s,l,c,h){for(var p=[],v=0;v<a.length;++v)p.push(a[v](s,l,c,h));return t?{value:p}:p};case te.ObjectExpression:return a=[],Wt(e.properties,function(s){s.computed?a.push({key:o.recurse(s.key),computed:!0,value:o.recurse(s.value)}):a.push({key:s.key.type===te.Identifier?s.key.name:""+s.key.value,computed:!1,value:o.recurse(s.value)})}),function(s,l,c,h){for(var p={},v=0;v<a.length;++v)a[v].computed?p[a[v].key(s,l,c,h)]=a[v].value(s,l,c,h):p[a[v].key]=a[v].value(s,l,c,h);return t?{value:p}:p};case te.ThisExpression:return function(s){return t?{value:s}:s};case te.LocalsExpression:return function(s,l){return t?{value:l}:l};case te.NGValueParameter:return function(s,l,c){return t?{value:c}:c}}},"unary+":function(e,t){return function(r,n,i,o){var a=e(r,n,i,o);return Ds(a)?a=+a:a=0,t?{value:a}:a}},"unary-":function(e,t){return function(r,n,i,o){var a=e(r,n,i,o);return Ds(a)?a=-a:a=-0,t?{value:a}:a}},"unary!":function(e,t){return function(r,n,i,o){var a=!e(r,n,i,o);return t?{value:a}:a}},"binary+":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a),l=t(n,i,o,a),c=qN(s,l);return r?{value:c}:c}},"binary-":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a),l=t(n,i,o,a),c=(Ds(s)?s:0)-(Ds(l)?l:0);return r?{value:c}:c}},"binary*":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)*t(n,i,o,a);return r?{value:s}:s}},"binary/":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)/t(n,i,o,a);return r?{value:s}:s}},"binary%":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)%t(n,i,o,a);return r?{value:s}:s}},"binary===":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)===t(n,i,o,a);return r?{value:s}:s}},"binary!==":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)!==t(n,i,o,a);return r?{value:s}:s}},"binary==":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)==t(n,i,o,a);return r?{value:s}:s}},"binary!=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)!=t(n,i,o,a);return r?{value:s}:s}},"binary<":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)<t(n,i,o,a);return r?{value:s}:s}},"binary>":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)>t(n,i,o,a);return r?{value:s}:s}},"binary<=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)<=t(n,i,o,a);return r?{value:s}:s}},"binary>=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)>=t(n,i,o,a);return r?{value:s}:s}},"binary&&":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)&&t(n,i,o,a);return r?{value:s}:s}},"binary||":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)||t(n,i,o,a);return r?{value:s}:s}},"ternary?:":function(e,t,r,n){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):r(i,o,a,s);return n?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,r){return function(n,i,o,a){var s=i&&e in i?i:n;r&&r!==1&&s&&s[e]==null&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,r,n){return function(i,o,a,s){var l=e(i,o,a,s),c,h;return l!=null&&(c=t(i,o,a,s),c=YN(c),n&&n!==1&&l&&!l[c]&&(l[c]={}),Object.prototype.hasOwnProperty.call(l,c)&&(h=l[c])),r?{context:l,name:c,value:h}:h}},nonComputedMember:function(e,t,r,n){return function(i,o,a,s){var l=e(i,o,a,s);n&&n!==1&&l&&l[t]==null&&(l[t]={});var c=void 0;return l!=null&&Object.prototype.hasOwnProperty.call(l,t)&&(c=l[t]),r?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(r,n,i,o){return o?o[t]:e(r,n,i)}}};var Zy=function(t,r,n){this.lexer=t,this.$filter=r,this.options=n,this.ast=new te(t,n),this.astCompiler=n.csp?new rP(this.ast,r):new tP(this.ast,r)};Zy.prototype={constructor:Zy,parse:function(e){return this.astCompiler.compile(e)}};M1.Lexer=Ky;M1.Parser=Zy;var nP=M1,See={},Cee=nP.Lexer,Iee=nP.Parser;function Yl(e,t){t=t||{};var r;if(typeof e!="string")throw new TypeError("src must be a string, instead saw '"+typeof e+"'");var n={csp:!1,expensiveChecks:!0,literals:{true:!0,false:!1,null:null,undefined:void 0}},i=new Cee(t),o=new Iee(i,function(s){return See[s]},n);return Yl.cache?(r=Yl.cache[e],r||(r=Yl.cache[e]=o.parse(e)),r):o.parse(e)}Yl.cache=Object.create(null);var iP=Yl;const Aee=e=>{if(e.content.match(/=/)){const t=e.content.split(/=/)[0],r=e.content.split(/=/)[1];if(r.match(/[+\-*\/()]/)){const i=r.split(/([+\-*\/()])/g).map(s=>s.match(/[a-zA-Z]/)?oP(s).toString():s).reduce((s,l)=>s+l,""),a=iP(i)();de.dispatch(_l({key:t,value:a}))}else r.match(/true|false/)?(r.match(/true/)&&de.dispatch(_l({key:t,value:!0})),r.match(/false/)&&de.dispatch(_l({key:t,value:!1}))):isNaN(Number(r))?de.dispatch(_l({key:t,value:r})):de.dispatch(_l({key:t,value:Number(r)}));Re.debug("\u8BBE\u7F6E\u53D8\u91CF\uFF1A",{key:t,value:de.getState().stage.GameVar[t]})}return{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function oP(e){let t=0;return de.getState().stage.GameVar.hasOwnProperty(e)&&(t=de.getState().stage.GameVar[e]),t}function Ree(e){return iP(e)()}const Nee={backlog_size:200},aP=()=>{if(Te.currentSentenceId>Te.currentScene.sentenceList.length-1){if(Te.sceneStack.length!==0){const s=Te.sceneStack.pop();s!==void 0&&uee(s)}return}const e=Te.currentScene.sentenceList[Te.currentSentenceId];let t=!0,r=!1,n="";if(e.args.forEach(s=>{s.key==="when"&&(r=!0,n=s.value.toString())}),r){const l=n.split(/([+\-*\/()><=!]|>=|<=)/g).map(c=>c.match(/[a-zA-Z]/)?c.match(/true/)||c.match(/false/)?c:oP(c).toString():c).reduce((c,h)=>c+h,"");t=Ree(l)}if(!t){Re.warn("\u4E0D\u6EE1\u8DB3\u6761\u4EF6\uFF0C\u8DF3\u8FC7\u672C\u53E5\uFF01"),Te.currentSentenceId++,Hr();return}DN(e);let i=!1;e.args.forEach(s=>{s.key==="next"&&s.value&&(i=!0)});let o=e.command===Ee.say;e.args.forEach(s=>{s.key==="notend"&&s.value===!0&&(o=!1)});let a;if(i){Te.currentSentenceId++,aP();return}setTimeout(()=>{if(a=de.getState().stage,Re.debug("\u672C\u6761\u8BED\u53E5\u6267\u884C\u7ED3\u679C",a),o){const s=Yr(a);s.PerformList.forEach(c=>{c.script.args.forEach(h=>{h.key==="concat"&&(h.value=!1,c.script.content=s.showText)})});const l={currentStageState:s,saveScene:{currentSentenceId:Te.currentSentenceId,sceneStack:Yr(Te.sceneStack),sceneName:Te.currentScene.sceneName,sceneUrl:Te.currentScene.sceneUrl}};for(tr.push(l);tr.length>Nee.backlog_size;)tr.shift()}},0),Te.currentSentenceId++},Hr=()=>{if(de.getState().GUI.showTitle)return;let t=!1;if(Z.performList.forEach(i=>{i.blockingNext()&&!i.isOver&&(t=!0)}),t){Re.warn("next \u88AB\u963B\u585E\uFF01");return}let r=!0;if(Z.performList.forEach(i=>{i.isHoldOn||(r=!1)}),r){const i=de.getState().stage,o=Yr(i);for(let a=0;a<o.PerformList.length;a++)o.PerformList[a].isHoldOn||(o.PerformList.splice(a,1),a--);de.dispatch(wu(o)),aP();return}Re.warn("\u63D0\u524D\u7ED3\u675F\u88AB\u89E6\u53D1\uFF0C\u73B0\u5728\u6E05\u9664\u666E\u901A\u6F14\u51FA");let n=!1;for(let i=0;i<Z.performList.length;i++){const o=Z.performList[i];o.isHoldOn||(o.goNextWhenOver&&(n=!0),o.stopFunction(),clearTimeout(o.stopTimeout),Z.performList.splice(i,1),i--)}n&&Hr()};var Pee="__lodash_hash_undefined__";function Oee(e){return this.__data__.set(e,Pee),this}var Lee=Oee;function kee(e){return this.__data__.has(e)}var Fee=kee,Uee=xN,Bee=Lee,Dee=Fee;function Vd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Uee;++t<r;)this.add(e[t])}Vd.prototype.add=Vd.prototype.push=Bee;Vd.prototype.has=Dee;var Mee=Vd;function Gee(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var $ee=Gee;function Hee(e){return e!==e}var jee=Hee;function Wee(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Xee=Wee,Vee=$ee,zee=jee,Yee=Xee;function qee(e,t,r){return t===t?Yee(e,t,r):Vee(e,zee,r)}var Kee=qee,Zee=Kee;function Jee(e,t){var r=e==null?0:e.length;return!!r&&Zee(e,t,0)>-1}var Qee=Jee;function ete(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var tte=ete;function rte(e,t){return e.has(t)}var nte=rte;function ite(){}var ote=ite;function ate(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var sP=ate,Km=LN,ste=ote,ute=sP,lte=1/0,fte=Km&&1/ute(new Km([,-0]))[1]==lte?function(e){return new Km(e)}:ste,cte=fte,hte=Mee,dte=Qee,pte=tte,vte=nte,_te=cte,mte=sP,gte=200;function yte(e,t,r){var n=-1,i=dte,o=e.length,a=!0,s=[],l=s;if(r)a=!1,i=pte;else if(o>=gte){var c=t?null:_te(e);if(c)return mte(c);a=!1,i=vte,l=new hte}else l=t?[]:s;e:for(;++n<o;){var h=e[n],p=t?t(h):h;if(h=r||h!==0?h:0,a&&p===p){for(var v=l.length;v--;)if(l[v]===p)continue e;t&&l.push(p),s.push(h)}else i(l,p,r)||(l!==s&&l.push(p),s.push(h))}return s}var xte=yte,bte=xte;function Ete(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?bte(e,void 0,t):[]}var ku=Ete;const Wf=e=>{for(const t of e)Su.includes(t)?Re.warn(`\u573A\u666F${t}\u5DF2\u7ECF\u52A0\u8F7D\u8FC7\uFF0C\u65E0\u9700\u518D\u6B21\u52A0\u8F7D`):(Re.info(`\u73B0\u5728\u9884\u52A0\u8F7D\u573A\u666F${t}`),Ai(t).then(r=>{Ri(r,t,t)}))},uP=(e,t)=>{Ai(e).then(r=>{Te.currentScene=Ri(r,t,e),Te.currentSentenceId=0;const n=Te.currentScene.subSceneList;Su.push(e);const i=ku(n);Wf(i),Re.debug("\u73B0\u5728\u5207\u6362\u573A\u666F\uFF0C\u5207\u6362\u540E\u7684\u7ED3\u679C\uFF1A",Te),Hr()})},o2=e=>{const t=e.content.split("/"),r=t[t.length-1];return uP(e.content,r),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},lP=e=>{const t=Te.currentSentenceId;let r=t;Te.currentScene.sentenceList.forEach((n,i)=>{n.command===Ee.label&&n.content===e&&i>=t&&(r=i)}),Te.currentSentenceId=r,setTimeout(Hr,1)},Tte="_Choose_Main_1vesq_1",wte="_Choose_item_1vesq_13";var a2={Choose_Main:Tte,Choose_item:wte};const Ste=e=>{const r=e.content.split("|").map(a=>a.split(":")),i=de.getState().userData.optionData.textboxFont===fu.song?'"\u601D\u6E90\u5B8B\u4F53", serif':'"WebgalUI", serif',o=r.map((a,s)=>L("div",{className:a2.Choose_item,style:{fontFamily:i},onClick:()=>{a[1].match(/\./)?uP(a[1],a[0]):lP(a[1]),Ip("choose")},children:a[0]},a[0]+s));return Ua.render(L("div",{className:a2.Choose_Main,children:o}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isOver:!1,isHoldOn:!1,stopFunction:()=>{Ua.render(L("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},W1=e=>{e&&tr.splice(0,tr.length),Te.currentSentenceId=0,Te.sceneStack=[],Te.currentScene=GA.currentScene;for(const o of Z.performList)o.stopFunction();Z.performList=[];for(const o of Z.timeoutList)clearTimeout(o);Z.timeoutList=[],Z.isAuto=!1,Z.isFast=!1;const t=Z.autoInterval;t!==null&&clearInterval(t),Z.autoInterval=null;const r=Z.fastInterval;r!==null&&clearInterval(r),Z.fastInterval=null;const n=Z.autoTimeout;n!==null&&clearInterval(n),Z.autoTimeout=null;const i=Yr(gA);de.dispatch(wu(i))},Cte=e=>{W1(!0);const t=de.dispatch,r=Cr("start.txt",Dt.scene);return Ai(r).then(n=>{Te.currentScene=Ri(n,"start.txt",r)}),t(Lt({component:"showTitle",visibility:!0})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Ite=e=>{let t=e.content;return Qs(t),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Ate=e=>{const t=Cp();return Ua.render(L("div",{className:_f.videoContainer,children:L("video",{className:_f.fullScreen_video,id:"playVideoElement",src:e.content,autoPlay:!0})}),document.getElementById("videoContainer")),setTimeout(()=>{let r=document.getElementById("playVideoElement");if(r!==null){r.currentTime=0;const n={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{r.oncanplay=()=>{};const i=de.getState().userData,o=i.optionData.volumeMain,a=o*.01*i.optionData.vocalVolume*.01,s=o*.01*i.optionData.bgmVolume*.01,l=document.getElementById("currentBgm");l&&(l.volume=s.toString());const c=document.getElementById("currentVocal");l&&(c.volume=a.toString()),Ua.render(L("div",{}),document.getElementById("videoContainer"))},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};Z.performList.push(n),r.oncanplay=()=>{const a=document.getElementById("currentBgm");a&&(a.volume=0 .toString());const s=document.getElementById("currentVocal");a&&(s.volume=0 .toString()),r.play()},r.onended=()=>{for(const i of Z.performList)i.performName===t&&(i.isOver=!0,i.stopFunction(),Ip(i.performName),Hr())}}},1),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function s2(e,t){const n=e.args.find(i=>i.key===t);return n?n.value:null}function ql(e,t){const r=Z.pixiStage.getStageObjByKey(e);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function o(a){if(r){const s=r.pixiContainer,l=Z.pixiStage.frameDuration,c=t/l*a,h=1/c;s.alpha<1&&(s.alpha+=h)}}return{setStartState:n,setEndState:i,tickerFunc:o}}function X1(e,t){const r=Z.pixiStage.getStageObjByKey(e);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function o(a){if(r){const s=r.pixiContainer,l=Z.pixiStage.frameDuration,c=t/l*a,h=1/c;s.alpha>0&&(s.alpha-=h)}}return{setStartState:n,setEndState:i,tickerFunc:o}}const Rte=[{name:"universalSoftIn",animationGenerateFunc:ql},{name:"universalSoftOff",animationGenerateFunc:X1}],Nte=e=>{var l,c,h,p;const t=de.getState().stage.currentDialogKey,r=e.content,n=(l=s2(e,"duration"))!=null?l:0,i=(c=s2(e,"target"))!=null?c:0,o=`${i}-${r}-${n}`,a=Pte(r);let s=()=>{};if(a){Re.debug(`\u52A8\u753B${r}\u4F5C\u7528\u5728${i}`,n);const v=a(i,n);(h=Z.pixiStage)==null||h.stopPresetAnimationOnTarget(i),(p=Z.pixiStage)==null||p.registerAnimation(v,o,i),s=()=>{var x;const _=de.getState().stage.currentDialogKey,y=t!==_;(x=Z.pixiStage)==null||x.removeAnimationWithSetEffects(o,!y)}}return{performName:o,duration:n,isOver:!1,isHoldOn:!1,stopFunction:s,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Pte(e){const t=Rte.find(r=>r.name===e);return Re.debug("\u88C5\u8F7D\u52A8\u753B",t),t?t.animationGenerateFunc:null}const Ote=e=>({performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Lte=e=>(Z.performList.forEach(t=>{if(t.performName.match(/PixiPerform/)){Re.warn("pixi \u88AB\u811A\u672C\u91CD\u65B0\u521D\u59CB\u5316",t.performName);for(let i=0;i<Z.performList.length;i++){const o=Z.performList[i];o.performName===t.performName&&(o.stopFunction(),clearTimeout(o.stopTimeout),Z.performList.splice(i,1),i--)}const r=de.getState().stage,n=Yr(r);for(let i=0;i<n.PerformList.length;i++)n.PerformList[i].script.command===Ee.pixi&&(n.PerformList.splice(i,1),i--);de.dispatch(wu(n))}}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),kte=(e,t)=>{var c;const n=Z.pixiStage.effectsContainer,i=Z.pixiStage.currentApp,o=new Rr;n.addChild(o);const a=Pe.from("./game/tex/raindrop.png");o.x=i.screen.width/2,o.y=i.screen.height/2,o.pivot.x=o.width/2,o.pivot.y=o.height/2,o.scale.x=1,o.scale.y=1;const s=[];function l(h){for(let _=0;_<t;_++){const y=new io(a);let x=Math.random();x<=.5&&(x=.5),y.scale.x=.48*x,y.scale.y=.48*x,y.anchor.set(.5),y.x=Math.random()*2560-.5*2560,y.y=0-.5*1440,y.dropSpeed=Math.random()*2,y.acc=Math.random(),y.alpha=Math.random(),y.alpha>=.5&&(y.alpha=.5),y.alpha<=.2&&(y.alpha=.2),o.addChild(y),s.push(y)}for(const _ of s)_.dropSpeed=_.acc*.01+_.dropSpeed,_.y+=h*e*_.dropSpeed*1.1+3;s.length>=2500&&(s.unshift(),o.removeChild(o.children[0]))}return(c=Z.pixiStage)==null||c.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:l},"rain-Ticker"),{container:o,tickerKey:"rain-Ticker"}},Fte=e=>{var l;const r=Z.pixiStage.effectsContainer,n=Z.pixiStage.currentApp,i=new Rr;r.addChild(i);const o=Pe.from("./game/tex/snowFlake_min.png");i.x=n.screen.width/2,i.y=n.screen.height/2,i.pivot.x=i.width/2,i.pivot.y=i.height/2,i.scale.x=1,i.scale.y=1;const a=[];function s(c){const v=new io(o);let _=Math.random();_<=.5&&(_=.5),v.scale.x=.144*_,v.scale.y=.144*_,v.anchor.set(.5),v.x=Math.random()*2560-.5*2560,v.y=0-.5*1440,v.dropSpeed=Math.random()*2,v.acc=Math.random(),i.addChild(v),a.push(v);let y=0;for(const x of a){y++;const m=Math.random();x.dropSpeed=x.acc*.01+x.dropSpeed,x.y+=c*e*x.dropSpeed*.3+.7,y%2===0?(x.x+=c*m*.5,x.rotation+=c*m*.03):(x.x-=c*m*.5,x.rotation-=c*m*.03)}a.length>=500&&(a.unshift(),i.removeChild(i.children[0]))}return(l=Z.pixiStage)==null||l.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:s},"snow-Ticker"),{container:i,tickerKey:"snow-Ticker"}},Ute=e=>{const t="PixiPerform"+e.content;Z.performList.forEach(o=>{if(o.performName===t)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});let r,n,i;switch(e.content){case"rain":i=kte(6,10),r=i.container,n=i.tickerKey;break;case"snow":i=Fte(3),r=i.container,n=i.tickerKey;break}return{performName:t,duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{var o,a;Re.warn("\u73B0\u5728\u6B63\u5728\u5378\u8F7Dpixi\u6F14\u51FA"),r.destroy({texture:!0,baseTexture:!0}),(o=Z.pixiStage)==null||o.effectsContainer.removeChild(r),(a=Z.pixiStage)==null||a.removeAnimation(n)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},Bte=e=>({performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Dte=e=>(lP(e.content),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Mte=e=>{const t=de.getState().stage,r=de.getState().userData,n=de.dispatch;n(Yt({key:"showText",value:JSON.stringify(t.GameVar)})),n(Yt({key:"showName",value:"\u5C55\u793A\u53D8\u91CF"})),Re.debug("\u5C55\u793A\u53D8\u91CF\uFF1A",t.GameVar),setTimeout(()=>{[...document.querySelectorAll("."+ei.TextBox_textElement_start)].forEach(c=>{c.className=ei.TextBox_textElement})},0);const i=Cp(),o=Hf.textInitialDelay-20*r.optionData.textSpeed,a=750-r.optionData.textSpeed*250;return{performName:i,duration:e.content.length*o+a,isOver:!1,isHoldOn:!1,stopFunction:()=>{[...document.querySelectorAll("."+ei.TextBox_textElement)].forEach(c=>{c.className=ei.TextBox_textElement_Settled})},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Gte=e=>{const t=e.content;let r=e.content,n="default";e.args.forEach(o=>{o.key==="name"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())}),Re.info(`\u89E3\u9501CG\uFF1A${r}\uFF0C\u8DEF\u5F84\uFF1A${t}\uFF0C\u6240\u5C5E\u7CFB\u5217\uFF1A${n}`),de.dispatch(X6({name:r,url:t,series:n}));const i=de.getState().userData;return up.setItem(Nr.gameKey,i).then(()=>{}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},$te=e=>{const t=e.content;let r=e.content,n="default";e.args.forEach(o=>{o.key==="name"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())}),Re.info(`\u89E3\u9501BGM\uFF1A${r}\uFF0C\u8DEF\u5F84\uFF1A${t}\uFF0C\u6240\u5C5E\u7CFB\u5217\uFF1A${n}`),de.dispatch(V6({name:r,url:t,series:n}));const i=de.getState().userData;return up.setItem(Nr.gameKey,i).then(()=>{}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Hte=e=>(e.content!==""&&e.content!=="none"?de.dispatch(Yt({key:"enableFilm",value:e.content})):de.dispatch(Yt({key:"enableFilm",value:""})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),jte=(e,t)=>{Te.sceneStack.push({sceneName:Te.currentScene.sceneName,sceneUrl:Te.currentScene.sceneUrl,continueLine:Te.currentSentenceId}),Ai(e).then(r=>{Te.currentScene=Ri(r,t,e),Te.currentSentenceId=0;const n=Te.currentScene.subSceneList;Su.push(e);const i=ku(n);Wf(i),Re.debug("\u73B0\u5728\u8C03\u7528\u573A\u666F\uFF0C\u8C03\u7528\u7ED3\u679C\uFF1A",Te),Hr()})},Wte=e=>{const t=e.content.split("/"),r=t[t.length-1];return jte(e.content,r),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Xte(e){return e.content==="hide"?de.dispatch(Yt({key:"isDisableTextbox",value:!0})):de.dispatch(Yt({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const fP=[{scriptString:"intro",scriptType:Ee.intro,scriptFunction:b8},{scriptString:"changeBg",scriptType:Ee.changeBg,scriptFunction:N8},{scriptString:"changeFigure",scriptType:Ee.changeFigure,scriptFunction:hX},{scriptString:"miniAvatar",scriptType:Ee.miniAvatar,scriptFunction:dX},{scriptString:"changeScene",scriptType:Ee.changeScene,scriptFunction:o2},{scriptString:"choose",scriptType:Ee.choose,scriptFunction:Ste},{scriptString:"end",scriptType:Ee.end,scriptFunction:Cte},{scriptString:"bgm",scriptType:Ee.bgm,scriptFunction:Ite},{scriptString:"playVideo",scriptType:Ee.video,scriptFunction:Ate},{scriptString:"setAnimation",scriptType:Ee.setAnimation,scriptFunction:Nte},{scriptString:"setFilter",scriptType:Ee.setFilter,scriptFunction:Ote},{scriptString:"pixiInit",scriptType:Ee.pixiInit,scriptFunction:Lte},{scriptString:"pixiPerform",scriptType:Ee.pixi,scriptFunction:Ute},{scriptString:"label",scriptType:Ee.label,scriptFunction:Bte},{scriptString:"jumpLabel",scriptType:Ee.jumpLabel,scriptFunction:Dte},{scriptString:"setVar",scriptType:Ee.setVar,scriptFunction:Aee},{scriptString:"callScene",scriptType:Ee.callScene,scriptFunction:o2},{scriptString:"showVars",scriptType:Ee.showVars,scriptFunction:Mte},{scriptString:"unlockCg",scriptType:Ee.unlockCg,scriptFunction:Gte},{scriptString:"unlockBgm",scriptType:Ee.unlockBgm,scriptFunction:$te},{scriptString:"say",scriptType:Ee.say,scriptFunction:pN},{scriptString:"filmMode",scriptType:Ee.filmMode,scriptFunction:Hte},{scriptString:"callScene",scriptType:Ee.callScene,scriptFunction:Wte},{scriptString:"setTextbox",scriptType:Ee.setTextbox,scriptFunction:Xte}],Vte=[Ee.bgm,Ee.pixi,Ee.pixiInit,Ee.label,Ee.if,Ee.miniAvatar,Ee.setVar,Ee.unlockBgm,Ee.unlockCg,Ee.filmMode],u2=e=>{let t={type:Ee.say,additionalArgs:[]};const r=zte(e);return t.type=r,r===Ee.say&&t.additionalArgs.push({key:"speaker",value:e}),t=Yte(t,r),t};function zte(e){const t=new Map;return fP.forEach(r=>{t.set(r.scriptString,r.scriptType)}),t.has(e)?t.get(e):Ee.say}function Yte(e,t){return Vte.includes(t)&&e.additionalArgs.push({key:"next",value:!0}),e}const qte=e=>{const t=[];let n=e.replace(/ /g," ").split(" -");return n=n.filter(i=>i!==""),n.forEach(i=>{const o=i.split("=")[0],a=i.split("=")[1];i.match(/.ogg|.mp3|.wav/)?t.push({key:"vocal",value:Cr(i,Dt.vocal)}):a===void 0?t.push({key:o,value:!0}):a==="true"||a==="false"?t.push({key:o,value:a==="true"}):isNaN(Number(a))?t.push({key:o,value:a}):t.push({key:o,value:Number(a)})}),t},Kte=(e,t)=>{if(e==="none"||e==="")return"";switch(t){case Ee.changeBg:return Cr(e,Dt.background);case Ee.changeFigure:return Cr(e,Dt.figure);case Ee.bgm:return Cr(e,Dt.bgm);case Ee.callScene:return Cr(e,Dt.scene);case Ee.changeScene:return Cr(e,Dt.scene);case Ee.miniAvatar:return Cr(e,Dt.figure);case Ee.video:return Cr(e,Dt.video);case Ee.choose:return Zte(e);case Ee.unlockBgm:return Cr(e,Dt.bgm);case Ee.unlockCg:return Cr(e,Dt.background);default:return e}};function Zte(e){const t=e.split("|"),r=[],n=[];for(const a of t)r.push(a.split(":")[0]),n.push(a.split(":")[1]);const i=n.map(a=>a.match(/\./)?Cr(a,Dt.scene):a);let o="";for(let a=0;a<r.length;a++)a!==0&&(o=o+"|"),o=o+`${r[a]}:${i[a]}`;return o}const Jte=(e,t,r)=>{const n=[];return e===Ee.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Dt.vocal})}),t==="none"||t===""||(e===Ee.changeBg&&n.push({name:t,url:t,lineNumber:0,type:Dt.background}),e===Ee.changeFigure&&n.push({name:t,url:t,lineNumber:0,type:Dt.figure}),e===Ee.miniAvatar&&n.push({name:t,url:t,lineNumber:0,type:Dt.figure}),e===Ee.video&&n.push({name:t,url:t,lineNumber:0,type:Dt.video}),e===Ee.bgm&&n.push({name:t,url:t,lineNumber:0,type:Dt.bgm})),n},Qte=(e,t)=>{const r=[];return(e===Ee.changeScene||e===Ee.callScene)&&r.push(t),e===Ee.choose&&t.split("|").map(o=>o.split(":")[1]).forEach(o=>{o.match(/\./)&&r.push(o)}),r},ere=e=>{let t,r,n;const i=[];let o,a,s,l=e.split(";")[0];const c=/:/.exec(l);if(c===null){s=l,a=u2(s),t=a.type;for(const p of a.additionalArgs)t===Ee.say&&p.key==="speaker"||i.push(p)}else{s=l.substring(0,c.index),l=l.substring(c.index+1,l.length),a=u2(s),t=a.type;for(const p of a.additionalArgs)i.push(p)}const h=/ -/.exec(l);if(h){const p=l.substring(h.index,e.length);l=l.substring(0,h.index);for(const v of qte(p))i.push(v)}return r=Kte(l,t),o=Jte(t,r,i),n=Qte(t,r),{command:t,commandRaw:s,content:r,args:i,sentenceAssets:o,subScene:n}},tre=e=>{for(const t of e){let r=!0;if(HT.forEach(n=>{n===t.url&&(r=!1)}),!r)Re.warn("\u8BE5\u8D44\u6E90\u5DF2\u5728\u9884\u52A0\u8F7D\u5217\u8868\u4E2D\uFF0C\u65E0\u9700\u91CD\u590D\u52A0\u8F7D");else{const n=document.createElement("link");n.setAttribute("rel","prefetch"),n.setAttribute("href",t.url);const i=document.getElementsByTagName("head");i.length&&i[0].appendChild(n),HT.push(t.url)}}},Ri=(e,t,r)=>{const i=e.split(`
`).filter(c=>c.trim()!=="");let o=[],a=[];const s=i.map(c=>{const h=ere(c);return o=[...o,...h.sentenceAssets],a=[...a,...h.subScene],h});o=ku(o),tre(o);const l={sceneName:t,sceneUrl:r,sentenceList:s,assetsList:o,subSceneList:a};return Re.info(`\u89E3\u6790\u573A\u666F\uFF1A${t}\uFF0C\u6570\u636E\u4E3A\uFF1A`,l),l},rre=()=>{W1(!0);const e=Cr("start.txt",Dt.scene);Ai(e).then(t=>{Te.currentScene=Ri(t,"start.txt",e),Hr()}),de.dispatch(Lt({component:"showTitle",visibility:!1}))};var cP={exports:{}},hP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=be.exports;function nre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ire=typeof Object.is=="function"?Object.is:nre,ore=vu.useState,are=vu.useEffect,sre=vu.useLayoutEffect,ure=vu.useDebugValue;function lre(e,t){var r=t(),n=ore({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return sre(function(){i.value=r,i.getSnapshot=t,Zm(i)&&o({inst:i})},[e,r,t]),are(function(){return Zm(i)&&o({inst:i}),e(function(){Zm(i)&&o({inst:i})})},[e]),ure(r),r}function Zm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ire(e,r)}catch{return!0}}function fre(e,t){return t()}var cre=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?fre:lre;hP.useSyncExternalStore=vu.useSyncExternalStore!==void 0?vu.useSyncExternalStore:cre;cP.exports=hP;var dP={exports:{}},pP={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=be.exports,hre=cP.exports;function dre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pre=typeof Object.is=="function"?Object.is:dre,vre=hre.useSyncExternalStore,_re=kp.useRef,mre=kp.useEffect,gre=kp.useMemo,yre=kp.useDebugValue;pP.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=_re(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=gre(function(){function l(_){if(!c){if(c=!0,h=_,_=n(_),i!==void 0&&a.hasValue){var y=a.value;if(i(y,_))return p=y}return p=_}if(y=p,pre(h,_))return y;var x=n(_);return i!==void 0&&i(y,x)?y:(h=_,p=x)}var c=!1,h,p,v=r===void 0?null:r;return[function(){return l(t())},v===null?void 0:function(){return l(v())}]},[t,r,n,i]);var s=vre(e,o[0],o[1]);return mre(function(){a.hasValue=!0,a.value=s},[s]),yre(s),s};dP.exports=pP;function xre(e){e()}let vP=xre;const bre=e=>vP=e,Ere=()=>vP,zo=ve.createContext(null);function _P(){return be.exports.useContext(zo)}const Tre=()=>{throw new Error("uSES not initialized!")};let mP=Tre;const wre=e=>{mP=e},Sre=(e,t)=>e===t;function Cre(e=zo){const t=e===zo?_P:()=>be.exports.useContext(e);return function(n,i=Sre){const{store:o,subscription:a,getServerState:s}=t(),l=mP(a.addNestedSub,o.getState,s||o.getState,n,i);return be.exports.useDebugValue(l),l}}const pt=Cre();var gP={exports:{}},mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr=typeof Symbol=="function"&&Symbol.for,V1=yr?Symbol.for("react.element"):60103,z1=yr?Symbol.for("react.portal"):60106,Fp=yr?Symbol.for("react.fragment"):60107,Up=yr?Symbol.for("react.strict_mode"):60108,Bp=yr?Symbol.for("react.profiler"):60114,Dp=yr?Symbol.for("react.provider"):60109,Mp=yr?Symbol.for("react.context"):60110,Y1=yr?Symbol.for("react.async_mode"):60111,Gp=yr?Symbol.for("react.concurrent_mode"):60111,$p=yr?Symbol.for("react.forward_ref"):60112,Hp=yr?Symbol.for("react.suspense"):60113,Ire=yr?Symbol.for("react.suspense_list"):60120,jp=yr?Symbol.for("react.memo"):60115,Wp=yr?Symbol.for("react.lazy"):60116,Are=yr?Symbol.for("react.block"):60121,Rre=yr?Symbol.for("react.fundamental"):60117,Nre=yr?Symbol.for("react.responder"):60118,Pre=yr?Symbol.for("react.scope"):60119;function Tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case V1:switch(e=e.type,e){case Y1:case Gp:case Fp:case Bp:case Up:case Hp:return e;default:switch(e=e&&e.$$typeof,e){case Mp:case $p:case Wp:case jp:case Dp:return e;default:return t}}case z1:return t}}}function yP(e){return Tn(e)===Gp}mt.AsyncMode=Y1;mt.ConcurrentMode=Gp;mt.ContextConsumer=Mp;mt.ContextProvider=Dp;mt.Element=V1;mt.ForwardRef=$p;mt.Fragment=Fp;mt.Lazy=Wp;mt.Memo=jp;mt.Portal=z1;mt.Profiler=Bp;mt.StrictMode=Up;mt.Suspense=Hp;mt.isAsyncMode=function(e){return yP(e)||Tn(e)===Y1};mt.isConcurrentMode=yP;mt.isContextConsumer=function(e){return Tn(e)===Mp};mt.isContextProvider=function(e){return Tn(e)===Dp};mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===V1};mt.isForwardRef=function(e){return Tn(e)===$p};mt.isFragment=function(e){return Tn(e)===Fp};mt.isLazy=function(e){return Tn(e)===Wp};mt.isMemo=function(e){return Tn(e)===jp};mt.isPortal=function(e){return Tn(e)===z1};mt.isProfiler=function(e){return Tn(e)===Bp};mt.isStrictMode=function(e){return Tn(e)===Up};mt.isSuspense=function(e){return Tn(e)===Hp};mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fp||e===Gp||e===Bp||e===Up||e===Hp||e===Ire||typeof e=="object"&&e!==null&&(e.$$typeof===Wp||e.$$typeof===jp||e.$$typeof===Dp||e.$$typeof===Mp||e.$$typeof===$p||e.$$typeof===Rre||e.$$typeof===Nre||e.$$typeof===Pre||e.$$typeof===Are)};mt.typeOf=Tn;gP.exports=mt;var xP=gP.exports,Ore={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lre={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bP={};bP[xP.ForwardRef]=Ore;bP[xP.Memo]=Lre;var bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1=Symbol.for("react.element"),K1=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),qp=Symbol.for("react.context"),kre=Symbol.for("react.server_context"),Kp=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Qp=Symbol.for("react.memo"),ev=Symbol.for("react.lazy"),Fre=Symbol.for("react.offscreen"),EP;EP=Symbol.for("react.module.reference");function Hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case q1:switch(e=e.type,e){case Xp:case zp:case Vp:case Zp:case Jp:return e;default:switch(e=e&&e.$$typeof,e){case kre:case qp:case Kp:case ev:case Qp:case Yp:return e;default:return t}}case K1:return t}}}bt.ContextConsumer=qp;bt.ContextProvider=Yp;bt.Element=q1;bt.ForwardRef=Kp;bt.Fragment=Xp;bt.Lazy=ev;bt.Memo=Qp;bt.Portal=K1;bt.Profiler=zp;bt.StrictMode=Vp;bt.Suspense=Zp;bt.SuspenseList=Jp;bt.isAsyncMode=function(){return!1};bt.isConcurrentMode=function(){return!1};bt.isContextConsumer=function(e){return Hn(e)===qp};bt.isContextProvider=function(e){return Hn(e)===Yp};bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===q1};bt.isForwardRef=function(e){return Hn(e)===Kp};bt.isFragment=function(e){return Hn(e)===Xp};bt.isLazy=function(e){return Hn(e)===ev};bt.isMemo=function(e){return Hn(e)===Qp};bt.isPortal=function(e){return Hn(e)===K1};bt.isProfiler=function(e){return Hn(e)===zp};bt.isStrictMode=function(e){return Hn(e)===Vp};bt.isSuspense=function(e){return Hn(e)===Zp};bt.isSuspenseList=function(e){return Hn(e)===Jp};bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xp||e===zp||e===Vp||e===Zp||e===Jp||e===Fre||typeof e=="object"&&e!==null&&(e.$$typeof===ev||e.$$typeof===Qp||e.$$typeof===Yp||e.$$typeof===qp||e.$$typeof===Kp||e.$$typeof===EP||e.getModuleId!==void 0)};bt.typeOf=Hn;function Ure(){const e=Ere();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const l2={notify(){},get:()=>[]};function Bre(e,t){let r,n=l2;function i(p){return l(),n.subscribe(p)}function o(){n.notify()}function a(){h.onStateChange&&h.onStateChange()}function s(){return Boolean(r)}function l(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=Ure())}function c(){r&&(r(),r=void 0,n.clear(),n=l2)}const h={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:s,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>n};return h}const Dre=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Mre=Dre?be.exports.useLayoutEffect:be.exports.useEffect;function Gre({store:e,context:t,children:r,serverState:n}){const i=be.exports.useMemo(()=>{const s=Bre(e);return{store:e,subscription:s,getServerState:n?()=>n:void 0}},[e,n]),o=be.exports.useMemo(()=>e.getState(),[e]);return Mre(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]),L((t||zo).Provider,{value:i,children:r})}function TP(e=zo){const t=e===zo?_P:()=>be.exports.useContext(e);return function(){const{store:n}=t();return n}}const $re=TP();function Hre(e=zo){const t=e===zo?$re:TP(e);return function(){return t().dispatch}}const un=Hre();wre(dP.exports.useSyncExternalStoreWithSelector);bre(o0.exports.unstable_batchedUpdates);function Xf(e){const t=pt(e),r=be.exports.useRef(t);return be.exports.useEffect(()=>{r.current=t},[t]),r}function Fu(e){be.exports.useEffect(()=>{e()},[])}function Uu(e){be.exports.useEffect(()=>function(){e()},[])}function jre(e){be.exports.useEffect(()=>{e()})}const Wre="_ToCenter_1plr8_1",Xre="_main_1plr8_6",Vre="_button_1plr8_17",zre="_button_text_1plr8_23",Yre="_button_on_1plr8_28",qre="_singleButton_1plr8_40";var et={ToCenter:Wre,main:Xre,button:Vre,button_text:zre,button_on:Yre,singleButton:qre};const Jy=e=>{const t=document.getElementById("Button_ControlPanel_auto");t&&(e?t.className=et.button_on:t.className=et.singleButton)},wP=()=>{Z.isAuto=!1,Jy(!1),Z.autoInterval!==null&&(clearInterval(Z.autoInterval),Z.autoInterval=null),Z.autoTimeout!==null&&(clearTimeout(Z.autoTimeout),Z.autoTimeout=null)},SP=()=>{Z.isAuto?(Z.isAuto=!1,Jy(!1),Z.autoInterval!==null&&(clearInterval(Z.autoInterval),Z.autoInterval=null)):(Z.isAuto=!0,Jy(!0),Z.autoInterval=setInterval(Zre,100))},Kre=()=>{Hr(),Z.autoTimeout=null},Zre=()=>{const e=de.getState().userData.optionData.autoSpeed,t=750-250*e;let r=!1;Z.performList.forEach(n=>{n.blockingAuto()&&!n.isOver&&(r=!0)}),!r&&Z.autoTimeout===null&&(Z.autoTimeout=setTimeout(Kre,t))},CP=e=>{const t=document.getElementById("Button_ControlPanel_fast");t&&(e?t.className=et.button_on:t.className=et.singleButton)},nu=()=>{!AP()||(Z.isFast=!1,CP(!1),Z.fastInterval!==null&&(clearInterval(Z.fastInterval),Z.fastInterval=null))},IP=()=>{AP()||(Z.isFast=!0,CP(!0),Z.fastInterval=setInterval(()=>{Hr()},100))},AP=function(){return Z.isFast},RP=()=>{nu(),wP()},NP=()=>{Z.isFast?nu():IP()},f2=e=>{const t=de.getState().userData,r=PP(e);Re.debug("\u5B58\u6863\u6570\u636E\uFF1A",r);const n=Yr(t.saveData);Re.debug("newSaveData:",n),n[e]=r,de.dispatch(W6({key:"saveData",value:[...n]})),Re.debug("\u5B58\u6863\u5B8C\u6210\uFF0C\u5B58\u6863\u7ED3\u679C\uFF1A",n),Yg()};function PP(e){const t=de.getState().stage,r=Yr(tr),n=document.getElementById("pixiCanvas"),i=document.createElement("canvas"),o=i.getContext("2d");i.width=640,i.height=360,o.drawImage(n,0,0,640,360);const a=i.toDataURL("image/webp",.8);return i.remove(),{nowStageState:Yr(t),backlog:r,index:e,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:Te.currentSentenceId,sceneStack:Yr(Te.sceneStack),sceneName:Te.currentScene.sceneName,sceneUrl:Te.currentScene.sceneUrl},previewImage:a}}const Z1=()=>{Re.warn("\u6E05\u9664\u6240\u6709\u6F14\u51FA");for(let e=0;e<Z.performList.length;e++){const t=Z.performList[e];t.stopFunction(),clearTimeout(t.stopTimeout),Z.performList.splice(e,1),e--}},J1=()=>{de.getState().stage.PerformList.forEach(t=>{DN(t.script)})},Jre=e=>{const t=de.dispatch,r=tr[e];Re.debug("\u8BFB\u53D6\u7684backlog\u6570\u636E",r),Ai(r.saveScene.sceneUrl).then(i=>{Te.currentScene=Ri(i,r.saveScene.sceneName,r.saveScene.sceneUrl);const o=Te.currentScene.subSceneList;Su.push(Te.currentScene.sceneUrl);const a=ku(o);Wf(a)}),Te.currentSentenceId=r.saveScene.currentSentenceId,Te.sceneStack=Yr(r.saveScene.sceneStack),Z1();for(let i=tr.length-1;i>e;i--)tr.pop();const n=Yr(r.currentStageState);t(wu(n)),J1(),t(Lt({component:"showBacklog",visibility:!1})),t(Lt({component:"showTextBox",visibility:!0}))},Qre=e=>{const r=de.getState().userData.saveData[e];Re.debug("\u8BFB\u53D6\u7684\u5B58\u6863\u6570\u636E",r),OP(r)};function OP(e){if(!e){Re.info("\u6682\u65E0\u5B58\u6863");return}const t=e;Ai(t.sceneData.sceneUrl).then(o=>{Te.currentScene=Ri(o,t.sceneData.sceneName,t.sceneData.sceneUrl);const a=Te.currentScene.subSceneList;Su.push(Te.currentScene.sceneUrl);const s=ku(a);Wf(s)}),Te.currentSentenceId=t.sceneData.currentSentenceId,Te.sceneStack=Yr(t.sceneData.sceneStack),Z1();const r=t.backlog;tr.splice(0,tr.length);for(const o of r)tr.push(o);const n=Yr(t.nowStageState),i=de.dispatch;i(wu(n)),setTimeout(J1,0),i(Lt({component:"showTitle",visibility:!1})),i(Lt({component:"showMenuPanel",visibility:!1}))}const ene="_Backlog_main_vronf_2",tne="_backlog_soft_in_vronf_1",rne="_Backlog_main_out_vronf_15",nne="_backlog_soft_out_vronf_1",ine="_Backlog_main_out_IndexHide_vronf_28",one="_Backlog_main_DisableScroll_vronf_32",ane="_backlog_top_vronf_36",sne="_backlog_top_icon_vronf_42",une="_backlog_icon_softin_vronf_1",lne="_backlog_title_vronf_62",fne="_backlog_content_vronf_72",cne="_backlog_item_vronf_84",hne="_backlog_item_in_vronf_1",dne="_backlog_item_out_vronf_94",pne="_backlog_func_area_vronf_104",vne="_backlog_item_content_name_vronf_113",_ne="_backlog_item_content_vronf_113",mne="_backlog_item_button_list_vronf_137",gne="_backlog_item_button_element_vronf_144",yne="_backlog_item_content_text_vronf_157";var Tr={Backlog_main:ene,backlog_soft_in:tne,Backlog_main_out:rne,backlog_soft_out:nne,Backlog_main_out_IndexHide:ine,Backlog_main_DisableScroll:one,backlog_top:ane,backlog_top_icon:sne,backlog_icon_softin:une,backlog_title:lne,backlog_content:fne,backlog_item:cne,backlog_item_in:hne,backlog_item_out:dne,backlog_func_area:pne,backlog_item_content_name:vne,backlog_item_content:_ne,backlog_item_button_list:mne,backlog_item_button_element:gne,backlog_item_content_text:yne},xne=ai,bne=function(){return xne.Date.now()},Ene=bne,Tne=/\s/;function wne(e){for(var t=e.length;t--&&Tne.test(e.charAt(t)););return t}var Sne=wne,Cne=Sne,Ine=/^\s+/;function Ane(e){return e&&e.slice(0,Cne(e)+1).replace(Ine,"")}var Rne=Ane,Nne=jf,Pne=Ou,One="[object Symbol]";function Lne(e){return typeof e=="symbol"||Pne(e)&&Nne(e)==One}var kne=Lne,Fne=Rne,c2=ea,Une=kne,h2=0/0,Bne=/^[-+]0x[0-9a-f]+$/i,Dne=/^0b[01]+$/i,Mne=/^0o[0-7]+$/i,Gne=parseInt;function $ne(e){if(typeof e=="number")return e;if(Une(e))return h2;if(c2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=c2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fne(e);var r=Dne.test(e);return r||Mne.test(e)?Gne(e.slice(2),r?2:8):Bne.test(e)?h2:+e}var Hne=$ne,jne=ea,Jm=Ene,d2=Hne,Wne="Expected a function",Xne=Math.max,Vne=Math.min;function zne(e,t,r){var n,i,o,a,s,l,c=0,h=!1,p=!1,v=!0;if(typeof e!="function")throw new TypeError(Wne);t=d2(t)||0,jne(r)&&(h=!!r.leading,p="maxWait"in r,o=p?Xne(d2(r.maxWait)||0,t):o,v="trailing"in r?!!r.trailing:v);function _(I){var U=n,j=i;return n=i=void 0,c=I,a=e.apply(j,U),a}function y(I){return c=I,s=setTimeout(b,t),h?_(I):a}function x(I){var U=I-l,j=I-c,D=t-U;return p?Vne(D,o-j):D}function m(I){var U=I-l,j=I-c;return l===void 0||U>=t||U<0||p&&j>=o}function b(){var I=Jm();if(m(I))return T(I);s=setTimeout(b,x(I))}function T(I){return s=void 0,v&&n?_(I):(n=i=void 0,a)}function A(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function P(){return s===void 0?a:T(Jm())}function R(){var I=Jm(),U=m(I);if(n=arguments,i=this,l=I,U){if(s===void 0)return y(l);if(p)return clearTimeout(s),s=setTimeout(b,t),_(l)}return s===void 0&&(s=setTimeout(b,t)),a}return R.cancel=A,R.flush=P,R}var Yne=zne,qne=Yne,Kne=ea,Zne="Expected a function";function Jne(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Zne);return Kne(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),qne(e,t,{leading:n,maxWait:t,trailing:i})}var Qne=Jne;function eie(e){tie(),rie(),iie(),nie(),oie(),die()}function tie(){const e=Xf(l=>l.GUI),t=Q1(),r=Vf(e),n=LP(e),i=aie(e),o=uie(e),a=sie(e),s=be.exports.useCallback(l=>i()?(t("showGlobalDialog",!1),l.preventDefault(),!1):(a()&&t("showExtra",!1),r()&&t("showTextBox",!e.current.showTextBox),n()&&(t("showBacklog",!1),t("showTextBox",!0)),o()&&t("showMenuPanel",!1),l.preventDefault(),!1),[]);Fu(()=>{document.addEventListener("contextmenu",s)}),Uu(()=>{document.removeEventListener("contextmenu",s)})}function rie(){const e=Xf(s=>s.GUI),t=Q1(),r=Vf(e),n=LP(e),i=be.exports.useCallback(Qne(()=>{Hr()},100),[]),o=be.exports.useRef(0),a=be.exports.useCallback(s=>{const l=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",c=s.ctrlKey,h=document.querySelector(`.${Tr.backlog_content}`);if(r()&&l==="up"&&!c)t("showBacklog",!0),t("showTextBox",!1);else if(n()&&l==="down"&&!c){if(h){let p=pie(h),v=new Date().getTime();p&&v-o.current>100&&(t("showBacklog",!1),t("showTextBox",!0)),o.current=v}}else r()&&l==="down"&&!c&&i()},[]);Fu(()=>{document.addEventListener("wheel",a)}),Uu(()=>{document.removeEventListener("wheel",a)})}function nie(){const e=be.exports.useCallback(a=>a.keyCode===27,[]),t=Xf(a=>a.GUI),r=Vf(t),n=be.exports.useRef(!1),i=be.exports.useCallback(a=>{setTimeout(()=>{location.replace(a)},100)},[]),o=be.exports.useCallback(a=>{e(a)&&(fie(async()=>{if(n.current=!0,r()){try{document.body.innerText="",await kP()}catch(s){Re.error("\u4FDD\u5B58\u5931\u8D25",s)}Re.info("\u4FDD\u5B58\u5B8C\u6210")}else Re.info("\u6E38\u620F\u672A\u6FC0\u6D3B \u76F4\u63A5\u9000\u51FA")}),i("https://baidu.com"))},[]);Fu(()=>{document.addEventListener("keydown",o)}),Uu(()=>{document.removeEventListener("keydown",o)})}function iie(){const e=Xf(a=>a.GUI),t=Vf(e),r=be.exports.useCallback(a=>a.keyCode===17,[]),n=be.exports.useCallback(a=>{r(a)&&t()&&IP()},[]),i=be.exports.useCallback(a=>{r(a)&&t()&&nu()},[]),o=be.exports.useCallback(a=>{nu()},[]);Fu(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",o)}),Uu(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",o)}),jre(()=>{t()||nu()})}function oie(){const e=lie(),t=be.exports.useCallback(async r=>{e()&&await kP()},[]);Fu(()=>{window.addEventListener("beforeunload",t)}),Uu(()=>{window.removeEventListener("beforeunload",t)})}function Vf(e){return be.exports.useCallback(()=>!e.current.showTitle&&!e.current.showMenuPanel&&!e.current.showBacklog,[e])}function LP(e){return be.exports.useCallback(()=>e.current.showBacklog,[e])}function aie(e){return be.exports.useCallback(()=>e.current.showGlobalDialog,[e])}function sie(e){return be.exports.useCallback(()=>e.current.showExtra,[e])}function uie(e){return be.exports.useCallback(()=>[xt.Save,xt.Load,xt.Option].includes(e.current.currentMenuTag),[e])}function lie(){return be.exports.useCallback(()=>Te.currentSentenceId!==0,[Te])}function Q1(){const e=un();return(t,r)=>{e(Lt({component:t,visibility:r}))}}function fie(e){typeof Promise!="undefined"?Promise.resolve().then(e):setTimeout(e,0)}async function kP(){const e=PP(-1),t=Yr(e);de.dispatch(z6(t)),await Z6()}async function cie(){return await DA(),de.getState().userData.quickSaveData!==null}async function hie(){await DA();const e=de.getState().userData.quickSaveData;!e||OP(e)}function die(){const e=Xf(l=>l.GUI),t=Vf(e),r=Q1(),n=be.exports.useRef(!1),i=be.exports.useCallback(l=>l.keyCode===32||l.keyCode===13,[]),o=be.exports.useCallback(l=>{if(i(l)&&t()&&!n.current){if(!e.current.showTextBox){r("showTextBox",!0);return}RP(),Hr(),n.current=!0}},[]),a=be.exports.useCallback(l=>{i(l)&&t()&&(n.current=!1)},[]),s=be.exports.useCallback(l=>{n.current=!1},[]);Fu(()=>{document.addEventListener("keydown",o),document.addEventListener("keyup",a),document.addEventListener("blur",s)}),Uu(()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",a),document.removeEventListener("blur",s)})}function pie(e){const{scrollTop:t,clientHeight:r,scrollHeight:n}=e;return t===0}const vie=()=>{const e=pt(i=>i.GUI),t=un(),r=e.titleBg,n=r===""?"rgba(0,0,0,1)":`url("${r}")`;return ye(xn,{children:[e.showTitle&&L("div",{className:Ht.Title_backup_background}),L("div",{id:"enter_game_target",onClick:()=>{Qs(e.titleBgm)}}),e.showTitle&&L("div",{className:Ht.Title_main,style:{backgroundImage:n,backgroundSize:"cover"},children:ye("div",{className:Ht.Title_buttonList,children:[ye("div",{className:Ht.Title_button,onClick:rre,children:[L("div",{className:Ht.Title_button_text+" "+Ht.Title_button_text_up,children:"\u5F00\u59CB\u6E38\u620F"}),L("div",{className:Ht.Title_button_text,children:"START"})]}),ye("div",{className:Ht.Title_button,onClick:async()=>{if(t(Lt({component:"showTitle",visibility:!1})),Nr.prevBgm!==""?(Qs(Nr.prevBgm),Nr.prevBgm=""):Qs("/"),await cie()&&Te.currentSentenceId===0){await hie();return}Te.currentSentenceId===0&&Te.currentScene.sceneName==="start.txt"?Hr():J1()},children:[L("div",{className:Ht.Title_button_text+" "+Ht.Title_button_text_up,children:"\u7EE7\u7EED\u6E38\u620F"}),L("div",{className:Ht.Title_button_text,children:"CONTINUE"})]}),ye("div",{className:Ht.Title_button,onClick:()=>{t(Lt({component:"showMenuPanel",visibility:!0})),t(Na(xt.Option))},children:[L("div",{className:Ht.Title_button_text+" "+Ht.Title_button_text_up,children:"\u6E38\u620F\u9009\u9879"}),L("div",{className:Ht.Title_button_text,children:"OPTIONS"})]}),ye("div",{className:Ht.Title_button,onClick:()=>{t(Lt({component:"showMenuPanel",visibility:!0})),t(Na(xt.Load))},children:[L("div",{className:Ht.Title_button_text+" "+Ht.Title_button_text_up,children:"\u8BFB\u53D6\u5B58\u6863"}),L("div",{className:Ht.Title_button_text,children:"LOAD"})]}),ye("div",{className:Ht.Title_button,onClick:()=>{t(Lt({component:"showExtra",visibility:!0}))},children:[L("div",{className:Ht.Title_button_text+" "+Ht.Title_button_text_up,children:"\u9274\u8D4F\u6A21\u5F0F"}),L("div",{className:Ht.Title_button_text,children:"EXTRA"})]})]})})]})},_ie=e=>{const t=de.getState().GUI,r=de.dispatch;tR.get(e).then(n=>{var a;let i=n.data.split(`
`);i=i.map(s=>s.split(";")[0]);const o=i.map(s=>s.split(":"));Re.info("\u83B7\u53D6\u5230\u6E38\u620F\u4FE1\u606F",o),t&&o.forEach(s=>{if(s[0]==="Title_img"){const l=Cr(s[1],Dt.background);r(QT({asset:"titleBg",value:l}))}if(s[0]==="Title_bgm"){const l=Cr(s[1],Dt.bgm);r(QT({asset:"titleBgm",value:l}))}s[0]==="Game_name"&&(Nr.gameName=s[1],document.title=s[1]),s[0]==="Game_key"&&(Nr.gameKey=s[1],vf())}),(a=window==null?void 0:window.renderPromise)==null||a.call(window),delete window.renderPromise})},Fh=()=>{const r=window.innerHeight,n=window.innerWidth,i=r/1440,o=n/2560,a=n/1440,s=r/2560;let l=(1440-r)/2,c=(2560-n)/2,h=2560/2-n/2,p=1440/2-r/2;const v=document.getElementById("root");v&&(n>r?(c=-c,l=-l,n*(9/16)>=r&&(v.style.transform=`translate(${c}px, ${l}px) scale(${i},${i})`),n*(9/16)<r&&(v.style.transform=`translate(${c}px, ${l}px) scale(${o},${o})`)):(p=-p,r*(9/16)>=n&&(v.style.transform=`rotate(90deg) translate(${p}px, ${h}px) scale(${a},${a})`),r*(9/16)<n&&(v.style.transform=`rotate(90deg) translate(${p}px, ${h}px) scale(${s},${s})`)));const _=document.getElementById("Title_enter_page");l=(1440-r)/2,c=(2560-n)/2,h=2560/2-n/2,p=1440/2-r/2,_&&(n>r?(c=-c,l=-l,n*(9/16)>=r&&(_.style.transform=`translate(${c}px, ${l}px) scale(${i},${i})`),n*(9/16)<r&&(_.style.transform=`translate(${c}px, ${l}px) scale(${o},${o})`)):(p=-p,r*(9/16)>=n&&(_.style.transform=`rotate(90deg) translate(${p}px, ${h}px) scale(${a},${a})`),r*(9/16)<n&&(_.style.transform=`rotate(90deg) translate(${p}px, ${h}px) scale(${s},${s})`)))},nd=()=>{const e=de.getState().userData,t=e.optionData.volumeMain,r=t*.01*e.optionData.vocalVolume*.01,n=t*.01*e.optionData.bgmVolume*.01;Re.debug(`\u8BBE\u7F6E\u80CC\u666F\u97F3\u91CF\uFF1A${n},\u8BED\u97F3\u97F3\u91CF\uFF1A${r}`);const i=document.getElementById("currentBgm");i&&(i.volume=n.toString());const o=document.getElementById("currentVocal");i&&(o.volume=r.toString())},mie=e=>{const t=e.split(" "),r=t[1].replace(/json/g,"txt"),n=parseInt(t[2],10);Re.warn("\u6B63\u5728\u8DF3\u8F6C\u5230"+r+":"+n);const i=de.dispatch;i(Lt({component:"showTitle",visibility:!1})),i(Lt({component:"showMenuPanel",visibility:!1})),W1(!0);const o=Cr(r,Dt.scene);Ai(o).then(a=>{Te.currentScene=Ri(a,"start.txt",o);const s=Te.currentScene.sceneName;ex(n,s)})};function ex(e,t){Te.currentSentenceId<e&&Te.currentScene.sceneName===t&&(Hr(),setTimeout(()=>ex(e,t),2))}const gie=()=>{window.JMP=ex},yie=()=>{const e=window.location.hostname;if(window.location.protocol!=="http:")return;const r=`ws://${e}:9999`;Re.info("\u6B63\u5728\u542F\u52A8socket\u8FDE\u63A5\u4F4D\u4E8E\uFF1A"+r);const n=new WebSocket(r);n.onopen=()=>{Re.info("socket\u5DF2\u8FDE\u63A5"),n.send(" WebGAL \u5DF2\u548C Terre \u5EFA\u7ACB\u8FDE\u63A5\u3002")},n.onmessage=i=>{Re.info("\u6536\u5230\u4FE1\u606F",i.data);const o=i.data;o.match("jmp")&&mie(o)},n.onerror=i=>{Re.info("\u5F53\u524D\u6CA1\u6709\u8FDE\u63A5\u5230 Terre \u7F16\u8F91\u5668")}},xie=()=>{Re.info("WebGAL 4.3.2"),Re.info("Github: https://github.com/MakinoharaShoko/WebGAL "),Re.info("Made with \u2764 by MakinoharaShoko"),setTimeout(Fh,100),Fh(),window.onresize=Fh,document.onkeydown=function(n){const i=n;i&&i.keyCode===122&&setTimeout(()=>{Fh()},50)},bie("./game/userAnimation.css"),_ie("./game/config.txt");const e=Cr("start.txt",Dt.scene);Ai(e).then(n=>{Te.currentScene=Ri(n,"start.txt",e);const i=Te.currentScene.subSceneList;Su.push(e);const o=ku(i);Wf(o)}),nd(),Z.pixiStage=new cX;const r=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);"serviceWorker"in navigator&&r&&navigator.serviceWorker.getRegistrations().then(n=>{for(const i of n)i.unregister().then(()=>{Re.info("\u5DF2\u5378\u8F7D Service Worker")})}),gie(),yie()};function bie(e){const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}const Eie="_Menu_main_1a7i6_1",Tie="_Menu_ShowSoftly_1a7i6_1",wie="_Menu_TagContent_1a7i6_10";var p2={Menu_main:Eie,Menu_ShowSoftly:Tie,Menu_TagContent:wie};const Sie="_MenuPanel_main_12a6u_1",Cie="_MenuPanel_button_12a6u_10",Iie="_MenuPanel_button_icon_12a6u_34";var Gs={MenuPanel_main:Sie,MenuPanel_button:Cie,MenuPanel_button_icon:Iie},Aie=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){Rie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nie(e,t){if(e==null)return{};var r=Pie(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function Pie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Oie={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function Lie(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function kie(e,t,r){var n=typeof t.fill=="string"?[t.fill]:t.fill||[],i=[],o=t.theme||r.theme;switch(o){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:t.size||r.size,strokeWidth:t.strokeWidth||r.strokeWidth,strokeLinecap:t.strokeLinecap||r.strokeLinecap,strokeLinejoin:t.strokeLinejoin||r.strokeLinejoin,colors:i,id:e}}var FP=be.exports.createContext(Oie);FP.Provider;function cr(e,t,r){return function(n){var i=n.size,o=n.strokeWidth,a=n.strokeLinecap,s=n.strokeLinejoin,l=n.theme,c=n.fill,h=n.className,p=n.spin,v=Nie(n,Aie),_=be.exports.useContext(FP),y=be.exports.useMemo(Lie,[]),x=kie(y,{size:i,strokeWidth:o,strokeLinecap:a,strokeLinejoin:s,theme:l,fill:c},_),m=[_.prefix+"-icon"];return m.push(_.prefix+"-icon-"+e),t&&_.rtl&&m.push(_.prefix+"-icon-rtl"),p&&m.push(_.prefix+"-icon-spin"),h&&m.push(h),L("span",cE(fE({},_2(_2({},v),{},{className:m.join(" ")})),{children:r(x)}))}}var Fie=cr("align-text-left-one",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M26 24H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M34 15H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M32 33H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),UP=cr("close-small",!1,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M14 14L34 34",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M14 34L34 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Uie=cr("double-right",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M12 12L24 24L12 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M24 12L36 24L24 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),BP=cr("folder-open",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Bie=cr("go-end",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M14 12L26 24L14 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M34 12V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Die=cr("go-start",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M34 36L22 24L34 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M14 12V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Mie=cr("hamburger-button",!1,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M7.94977 11.9498H39.9498",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M7.94977 23.9498H39.9498",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M7.94977 35.9498H39.9498",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),DP=cr("home",!1,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1]}),ve.createElement("path",{d:"M9 42V18L4 22L24 6L44 22L39 18V42H9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M9 42H39",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),Gie=cr("logout",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M23.9917 6L6 6L6 42H24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M33 33L42 24L33 15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M16 23.9917H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),$ie=cr("music-list",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M24 19H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M24 10H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M8 38H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M8 28H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M8 10L16 15L8 20V10Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),MP=cr("play-one",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),Hie=cr("preview-close-one",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M9.85786 18C6.23858 21 4 24 4 24C4 24 12.9543 36 24 36C25.3699 36 26.7076 35.8154 28 35.4921M20.0318 12.5C21.3144 12.1816 22.6414 12 24 12C35.0457 12 44 24 44 24C44 24 41.7614 27 38.1421 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M20.3142 20.6213C19.4981 21.5112 19 22.6974 19 24C19 26.7614 21.2386 29 24 29C25.3627 29 26.5981 28.4548 27.5 27.5707",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M42 42L6 6",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),jie=cr("preview-open",!1,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M24 36C35.0457 36 44 24 44 24C44 24 35.0457 12 24 12C12.9543 12 4 24 4 24C4 24 12.9543 36 24 36Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),Wie=cr("replay-music",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M21 24V18L26 21L31 24L26 27L21 30V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M11.2721 36.7279C14.5294 39.9853 19.0294 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C19.0294 6 14.5294 8.01472 11.2721 11.2721C9.6141 12.9301 6 17 6 17",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M6 9V17H14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Xie=cr("return",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),GP=cr("save",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]}),ve.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M9 6H34.2814",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M14 26H34",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M14 34H24.0083",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),$P=cr("setting-two",!1,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M18.2838 43.1712C14.9327 42.1735 11.9498 40.3212 9.58787 37.8669C10.469 36.8226 11 35.4733 11 34C11 30.6863 8.31371 28 5 28C4.79955 28 4.60139 28.0098 4.40599 28.029C4.13979 26.7276 4 25.3801 4 24C4 21.9094 4.32077 19.8937 4.91579 17.9994C4.94381 17.9998 4.97188 18 5 18C8.31371 18 11 15.3137 11 12C11 11.0487 10.7786 10.1491 10.3846 9.34999C12.6975 7.19937 15.5205 5.5899 18.6521 4.72302C19.6444 6.66807 21.6667 8.00001 24 8.00001C26.3333 8.00001 28.3556 6.66807 29.3479 4.72302C32.4795 5.5899 35.3025 7.19937 37.6154 9.34999C37.2214 10.1491 37 11.0487 37 12C37 15.3137 39.6863 18 43 18C43.0281 18 43.0562 17.9998 43.0842 17.9994C43.6792 19.8937 44 21.9094 44 24C44 25.3801 43.8602 26.7276 43.594 28.029C43.3986 28.0098 43.2005 28 43 28C39.6863 28 37 30.6863 37 34C37 35.4733 37.531 36.8226 38.4121 37.8669C36.0502 40.3212 33.0673 42.1735 29.7162 43.1712C28.9428 40.7518 26.676 39 24 39C21.324 39 19.0572 40.7518 18.2838 43.1712Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),Vie=cr("square-small",!1,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M34 12H14C12.8954 12 12 12.8954 12 14V34C12 35.1046 12.8954 36 14 36H34C35.1046 36 36 35.1046 36 34V14C36 12.8954 35.1046 12 34 12Z",stroke:e.colors[0],strokeWidth:e.strokeWidth}))}),zie=cr("volume-notice",!0,function(e){return ve.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},ve.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),ve.createElement("path",{d:"M34.2358 41.1857C40.0835 37.6953 43.9999 31.305 43.9999 24C43.9999 16.8085 40.2042 10.5035 34.507 6.97906",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))});const Yie=e=>{let t;switch(e.iconName){case"save":t=L(GP,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"load":t=L(BP,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"option":t=L($P,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"title":t=L(DP,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;case"exit":t=L(Gie,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;default:t=L("div",{})}return t},Cl=e=>{let t=Gs.MenuPanel_button;return e.hasOwnProperty("buttonOnClassName")&&(t=t+e.buttonOnClassName),ye("div",{className:t,onClick:()=>{e.clickFunc()},style:{color:e.tagColor},children:[L("div",{className:Gs.MenuPanel_button_icon,children:L(Yie,{iconName:e.iconName,iconColor:e.iconColor})}),e.tagName]})},qie=()=>{const e=pt(p=>p.GUI),t=un(),r=e.currentMenuTag===xt.Save?` ${Gs.MenuPanel_button_hl}`:"",n=e.currentMenuTag===xt.Load?` ${Gs.MenuPanel_button_hl}`:"",i=e.currentMenuTag===xt.Option?` ${Gs.MenuPanel_button_hl}`:"",o=e.currentMenuTag===xt.Save?"rgba(74, 34, 93, 0.9)":"rgba(8, 8, 8, 0.3)",a=e.currentMenuTag===xt.Load?"rgba(11, 52, 110, 0.9)":"rgba(8, 8, 8, 0.3)",s=e.currentMenuTag===xt.Option?"rgba(81, 110, 65, 0.9)":"rgba(8, 8, 8, 0.3)",l=e.currentMenuTag===xt.Save?"rgba(74, 34, 93, 0.9)":"rgba(185, 185, 185, 1)",c=e.currentMenuTag===xt.Load?"rgba(11, 52, 110, 0.9)":"rgba(185, 185, 185, 1)",h=e.currentMenuTag===xt.Option?"rgba(81, 110, 65, 0.9)":"rgba(185, 185, 185, 1)";return ye("div",{className:Gs.MenuPanel_main,children:[L(Cl,{iconName:"save",buttonOnClassName:r,iconColor:l,tagColor:o,clickFunc:()=>{t(Na(xt.Save))},tagName:"\u5B58\u6863"},"saveButton"),L(Cl,{iconName:"load",buttonOnClassName:n,iconColor:c,tagColor:a,clickFunc:()=>{t(Na(xt.Load))},tagName:"\u8BFB\u6863"},"loadButton"),L(Cl,{iconName:"option",buttonOnClassName:i,iconColor:h,tagColor:s,clickFunc:()=>{t(Na(xt.Option))},tagName:"\u9009\u9879"},"optionButton"),L(Cl,{iconName:"title",clickFunc:()=>{t(Lt({component:"showTitle",visibility:!0})),t(Lt({component:"showMenuPanel",visibility:!1})),Qs(e.titleBgm)},tagName:"\u6807\u9898"},"titleIcon"),L(Cl,{iconName:"exit",clickFunc:()=>{t(Lt({component:"showMenuPanel",visibility:!1}))},tagName:"\u8FD4\u56DE"},"exitIcon")]})},Kie="_Save_Load_main_1ps49_2",Zie="_Save_Load_top_1ps49_9",Jie="_Elements_in_1ps49_1",Qie="_Save_Load_title_1ps49_17",eoe="_Save_title_text_1ps49_30",toe="_Load_title_text_1ps49_40",roe="_Save_Load_top_buttonList_1ps49_50",noe="_Save_Load_top_button_1ps49_50",ioe="_Save_Load_top_button_text_1ps49_69",ooe="_Save_Load_top_button_on_1ps49_80",aoe="_Load_top_button_on_1ps49_93",soe="_Load_top_button_1ps49_93",uoe="_Save_Load_content_1ps49_106",loe="_Save_Load_content_element_1ps49_115",foe="_Elements_in_transform_1ps49_1",coe="_Save_Load_content_element_top_1ps49_131",hoe="_Save_Load_content_element_top_index_1ps49_138",doe="_Load_content_elememt_top_index_1ps49_147",poe="_Save_Load_content_element_top_date_1ps49_151",voe="_Load_content_element_top_date_1ps49_162",_oe="_Save_Load_content_text_1ps49_166",moe="_Save_Load_content_text_padding_1ps49_180",goe="_Save_Load_content_speaker_1ps49_184",yoe="_Load_content_speaker_1ps49_193",xoe="_Load_content_text_1ps49_197",boe="_Save_Load_content_miniRen_1ps49_201",Eoe="_Save_Load_content_miniRen_bg_1ps49_208",Toe="_Save_Load_content_miniRen_figure_1ps49_215",woe="_Save_Load_content_miniRen_figLeft_1ps49_223",Soe="_Save_Load_content_miniRen_figRight_1ps49_228";var je={Save_Load_main:Kie,Save_Load_top:Zie,Elements_in:Jie,Save_Load_title:Qie,Save_title_text:eoe,Load_title_text:toe,Save_Load_top_buttonList:roe,Save_Load_top_button:noe,Save_Load_top_button_text:ioe,Save_Load_top_button_on:ooe,Load_top_button_on:aoe,Load_top_button:soe,Save_Load_content:uoe,Save_Load_content_element:loe,Elements_in_transform:foe,Save_Load_content_element_top:coe,Save_Load_content_element_top_index:hoe,Load_content_elememt_top_index:doe,Save_Load_content_element_top_date:poe,Load_content_element_top_date:voe,Save_Load_content_text:_oe,Save_Load_content_text_padding:moe,Save_Load_content_speaker:goe,Load_content_speaker:yoe,Load_content_text:xoe,Save_Load_content_miniRen:boe,Save_Load_content_miniRen_bg:Eoe,Save_Load_content_miniRen_figure:Toe,Save_Load_content_miniRen_figLeft:woe,Save_Load_content_miniRen_figRight:Soe};const Coe="_GlobalDialog_main_83u4c_2",Ioe="_showGlobalDialog_83u4c_1",Aoe="_glabalDialog_container_inner_83u4c_17",Roe="_glabalDialog_container_83u4c_17",Noe="_title_83u4c_36",Poe="_button_list_83u4c_41",Ooe="_button_83u4c_41";var _a={GlobalDialog_main:Coe,showGlobalDialog:Ioe,glabalDialog_container_inner:Aoe,glabalDialog_container:Roe,title:Noe,button_list:Poe,button:Ooe};function Loe(){const e=pt(t=>t.GUI.showGlobalDialog);return L(xn,{children:e&&L("div",{id:"globalDialogContainer"})})}function zd(e){de.dispatch(Lt({component:"showGlobalDialog",visibility:!0}));const t=()=>{e.leftFunc(),m2()},r=()=>{e.rightFunc(),m2()},n=L("div",{className:_a.GlobalDialog_main,children:L("div",{className:_a.glabalDialog_container,children:ye("div",{className:_a.glabalDialog_container_inner,children:[L("div",{className:_a.title,children:e.title}),ye("div",{className:_a.button_list,children:[L("div",{className:_a.button,onClick:t,children:e.leftText}),L("div",{className:_a.button,onClick:r,children:e.rightText})]})]})})});setTimeout(()=>{Ua.render(n,document.getElementById("globalDialogContainer"))},100)}function m2(){de.dispatch(Lt({component:"showGlobalDialog",visibility:!1}))}const koe=()=>{const e=pt(s=>s.userData),t=un(),r=[];for(let s=1;s<=20;s++){let l=je.Save_Load_top_button;s===e.optionData.slPage&&(l=l+" "+je.Save_Load_top_button_on);const c=L("div",{onClick:()=>{t(FA(s)),or()},className:l,children:L("div",{className:je.Save_Load_top_button_text,children:s})},"Save_element_page"+s);r.push(c)}const n=[],i=(e.optionData.slPage-1)*10+1,o=i+9;let a=0;for(let s=i;s<=o;s++){a++;const l=e.saveData[s];let c=L("div",{});if(l){const p=l.nowStageState.showName===""?"\xA0":`${l.nowStageState.showName}`;c=ye(xn,{children:[ye("div",{className:je.Save_Load_content_element_top,children:[L("div",{className:je.Save_Load_content_element_top_index,children:l.index}),L("div",{className:je.Save_Load_content_element_top_date,children:l.saveTime})]}),L("div",{className:je.Save_Load_content_miniRen,children:L("img",{className:je.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:l.previewImage})}),ye("div",{className:je.Save_Load_content_text,children:[L("div",{className:je.Save_Load_content_speaker,children:p}),L("div",{className:je.Save_Load_content_text_padding,children:l.nowStageState.showText})]})]})}const h=L("div",{onClick:()=>{e.saveData[s]?zd({title:"\u662F\u5426\u8986\u76D6\u5B58\u6863\uFF1F",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{f2(s),or()},rightFunc:()=>{}}):f2(s)},className:je.Save_Load_content_element,style:{animationDelay:`${a*30}ms`},children:c},"saveElement_"+s);n.push(h)}return ye("div",{className:je.Save_Load_main,children:[ye("div",{className:je.Save_Load_top,children:[L("div",{className:je.Save_Load_title,children:L("div",{className:je.Save_title_text,children:"\u5B58\u6863"})}),L("div",{className:je.Save_Load_top_buttonList,children:r})]}),L("div",{className:je.Save_Load_content,id:"Save_content_page_"+e.optionData.slPage,children:n})]})},Foe=()=>{const e=pt(s=>s.userData),t=un(),r=[];for(let s=1;s<=20;s++){let l=je.Save_Load_top_button+" "+je.Load_top_button;s===e.optionData.slPage&&(l=l+" "+je.Save_Load_top_button_on+" "+je.Load_top_button_on);const c=L("div",{onClick:()=>{t(FA(s)),or()},className:l,children:L("div",{className:je.Save_Load_top_button_text,children:s})},"Load_element_page"+s);r.push(c)}const n=[],i=(e.optionData.slPage-1)*10+1,o=i+9;let a=0;for(let s=i;s<=o;s++){a++;const l=e.saveData[s];let c=L("div",{});if(l){const p=l.nowStageState.showName===""?"\xA0":`${l.nowStageState.showName}`;c=ye(xn,{children:[ye("div",{className:je.Save_Load_content_element_top,children:[L("div",{className:je.Save_Load_content_element_top_index+" "+je.Load_content_elememt_top_index,children:l.index}),L("div",{className:je.Save_Load_content_element_top_date+" "+je.Load_content_element_top_date,children:l.saveTime})]}),L("div",{className:je.Save_Load_content_miniRen,children:L("img",{className:je.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:l.previewImage})}),ye("div",{className:je.Save_Load_content_text,children:[L("div",{className:je.Save_Load_content_speaker+" "+je.Load_content_speaker,children:p}),L("div",{className:je.Save_Load_content_text_padding,children:l.nowStageState.showText})]})]})}const h=L("div",{onClick:()=>Qre(s),className:je.Save_Load_content_element,style:{animationDelay:`${a*30}ms`},children:c},"loadElement_"+s);n.push(h)}return ye("div",{className:je.Save_Load_main,children:[ye("div",{className:je.Save_Load_top,children:[L("div",{className:je.Save_Load_title,children:L("div",{className:je.Load_title_text,children:"\u8BFB\u6863"})}),L("div",{className:je.Save_Load_top_buttonList,children:r})]}),L("div",{className:je.Save_Load_content,id:"Load_content_page_"+e.optionData.slPage,children:n})]})},Uoe="_Options_main_32y9w_2",Boe="_Options_top_32y9w_10",Doe="_Options_title_32y9w_17",Moe="_Option_title_text_32y9w_26",Goe="_Elements_in_32y9w_1",$oe="_Option_title_text_shadow_32y9w_35",Hoe="_Option_title_text_ts_32y9w_42",joe="_Options_main_content_32y9w_49",Woe="_Options_main_content_half_32y9w_55",Xoe="_Options_page_container_32y9w_75",Voe="_Options_button_list_32y9w_81",zoe="_Options_page_button_32y9w_85",Yoe="_Options_page_button_active_32y9w_97";var mn={Options_main:Uoe,Options_top:Boe,Options_title:Doe,Option_title_text:Moe,Elements_in:Goe,Option_title_text_shadow:$oe,Option_title_text_ts:Hoe,Options_main_content:joe,Options_main_content_half:Woe,Options_page_container:Xoe,Options_button_list:Voe,Options_page_button:zoe,Options_page_button_active:Yoe};function Yo(e){const[t,r]=be.exports.useState(e);return{value:t,set:function(n){this.value=n,r(n)}}}const qoe="_NormalOption_mh1vg_1",Koe="_Elements_in_mh1vg_1",Zoe="_NormalOption_title_mh1vg_10",Joe="_NormalOption_title_bef_mh1vg_19",Qoe="_NormalOption_title_sd_mh1vg_29",eae="_NormalOption_buttonList_mh1vg_39";var Qm={NormalOption:qoe,Elements_in:Koe,NormalOption_title:Zoe,NormalOption_title_bef:Joe,NormalOption_title_sd:Qoe,NormalOption_buttonList:eae};const xi=e=>ye("div",{className:Qm.NormalOption,children:[L("div",{className:Qm.NormalOption_title,children:e.title}),L("div",{className:Qm.NormalOption_buttonList,children:e.children})]}),tae="_NormalButton_1y8da_1",rae="_NormalButtonChecked_1y8da_17";var eg={NormalButton:tae,NormalButtonChecked:rae};const iu=e=>{const t=e.textList.length,r=[];for(let n=0;n<t;n++)if(n===e.currentChecked){const i=L("div",{className:eg.NormalButton+" "+eg.NormalButtonChecked,onClick:e.functionList[n],children:e.textList[n]},e.textList[n]+n+e);r.push(i)}else{const i=L("div",{className:eg.NormalButton,onClick:e.functionList[n],children:e.textList[n]},e.textList[n]+n);r.push(i)}return L(xn,{children:r})};function nae(){const e=pt(r=>r.userData),t=un();return ye("div",{className:mn.Options_main_content_half,children:[L(xi,{title:"\u81EA\u52A8\u64AD\u653E\u901F\u5EA6",children:L(iu,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{t(nn({key:"autoSpeed",value:Ki.slow})),or()},()=>{t(nn({key:"autoSpeed",value:Ki.normal})),or()},()=>{t(nn({key:"autoSpeed",value:Ki.fast})),or()}],currentChecked:e.optionData.autoSpeed})},"option1"),L(xi,{title:"\u6E05\u9664\u6216\u8FD8\u539F\u6570\u636E",children:L(iu,{textList:["\u6E05\u9664\u6240\u6709\u5B58\u6863","\u8FD8\u539F\u9ED8\u8BA4\u8BBE\u7F6E"],functionList:[()=>{zd({title:"\u786E\u5B9A\u8981\u6E05\u9664\u5B58\u6863\u5417",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{t(q6()),Yg()},rightFunc:()=>{}})},()=>{zd({title:"\u786E\u5B9A\u8981\u8FD8\u539F\u9ED8\u8BA4\u8BBE\u7F6E\u5417",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{t(Y6()),Yg()},rightFunc:()=>{}})}],currentChecked:2})},"option2"),L(xi,{title:"\u5BFC\u5165\u6216\u5BFC\u51FA\u5B58\u6863\u4E0E\u9009\u9879",children:L(iu,{textList:["\u5BFC\u51FA\u5B58\u6863\u4E0E\u9009\u9879","\u5BFC\u5165\u5B58\u6863\u4E0E\u9009\u9879"],functionList:[iae,oae],currentChecked:2})},"option3")]})}function iae(){or(),up.getItem(Nr.gameKey).then(e=>{const t=JSON.stringify(e);if(t!==null){const r=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download="saves.json",i.click(),i.remove()}})}function oae(){const e=document.createElement("input");e.type="file",e.onchange=aae,e.click()}function aae(e){const t=e.target.files[0],r=new FileReader;r.onload=n=>{const i=n.target.result;try{const o=JSON.parse(i);zd({title:"\u786E\u5B9A\u8981\u5BFC\u5165\u5B58\u6863\u4E0E\u9009\u9879\u5417",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{up.setItem(Nr.gameKey,o).then(()=>{Re.info("\u5BFC\u5165\u5B58\u6863")}),vf()},rightFunc:()=>{}})}catch(o){Re.error("\u5B58\u6863\u89E3\u6790\u5931\u8D25",o)}},r.readAsText(t,"UTF-8")}const sae="_textPreviewMain_1hgdd_1",uae="_singleText_1hgdd_10",lae="_TextDelayShow_1hgdd_1";var g2={textPreviewMain:sae,singleText:uae,TextDelayShow:lae};function HP(){const e=pt(r=>r.userData.optionData.textboxFont);function t(){return e===fu.song?'"\u601D\u6E90\u5B8B\u4F53", serif':'"WebgalUI", serif'}return t()}const fae=e=>{const t=pt(l=>l.userData),r=Hf.textInitialDelay-20*t.optionData.textSpeed,n="\u73B0\u5728\u9884\u89C8\u7684\u662F\u6587\u672C\u6846\u5B57\u4F53\u5927\u5C0F\u548C\u64AD\u653E\u901F\u5EA6\u7684\u60C5\u51B5\uFF0C\u60A8\u53EF\u4EE5\u6839\u636E\u60A8\u7684\u89C2\u611F\u8C03\u6574\u4E0A\u9762\u7684\u9009\u9879\u3002",i=t.optionData.textSize*50+200+"%",o=HP();let a=g2.singleText;const s=n.split("").map((l,c)=>L("span",{id:r+"text"+c,style:{fontSize:i,animationDelay:String(c*r)+"ms",fontFamily:o},className:a,children:l},l+c+t.optionData.textSpeed));return L("div",{className:g2.textPreviewMain,children:s})};function cae(){const e=pt(r=>r.userData),t=un();return ye("div",{className:mn.Options_main_content_half,children:[L(xi,{title:"\u6587\u5B57\u663E\u793A\u901F\u5EA6",children:L(iu,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{t(nn({key:"textSpeed",value:Ki.slow})),or()},()=>{t(nn({key:"textSpeed",value:Ki.normal})),or()},()=>{t(nn({key:"textSpeed",value:Ki.fast})),or()}],currentChecked:e.optionData.textSpeed})},"option0"),L(xi,{title:"\u6587\u672C\u5927\u5C0F",children:L(iu,{textList:["\u5C0F","\u4E2D","\u5927"],functionList:[()=>{t(nn({key:"textSize",value:Xl.small})),or()},()=>{t(nn({key:"textSize",value:Xl.medium})),or()},()=>{t(nn({key:"textSize",value:Xl.large})),or()}],currentChecked:e.optionData.textSize})},"option1"),L(xi,{title:"\u6587\u672C\u5B57\u4F53",children:L(iu,{textList:["\u601D\u6E90\u5B8B\u4F53","\u9ED1\u4F53"],functionList:[()=>{t(nn({key:"textboxFont",value:fu.song})),or()},()=>{t(nn({key:"textboxFont",value:fu.hei})),or()}],currentChecked:e.optionData.textboxFont})},"option2"),L(xi,{title:"\u6587\u672C\u663E\u793A\u9884\u89C8",children:L(fae,{})},"option3")]})}const tg=e=>(be.exports.useEffect(()=>{setTimeout(()=>{const t=document.getElementById(e.uniqueID);t!==null&&t.setAttribute("value",e.initValue.toString())},1)},[]),L("div",{className:"Option_WebGAL_slider",children:L("input",{id:e.uniqueID,type:"range",onChange:e.onChange})}));function hae(){const e=pt(r=>r.userData),t=un();return ye("div",{className:mn.Options_main_content_half,children:[L(xi,{title:"\u4E3B\u97F3\u91CF",children:L(tg,{initValue:e.optionData.volumeMain,uniqueID:"\u4E3B\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(nn({key:"volumeMain",value:Number(n)})),or(),nd()}})},"option4"),L(xi,{title:"\u8BED\u97F3\u97F3\u91CF",children:L(tg,{initValue:e.optionData.vocalVolume,uniqueID:"\u8BED\u97F3\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(nn({key:"vocalVolume",value:Number(n)})),or(),nd()}})},"option5"),L(xi,{title:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",children:L(tg,{initValue:e.optionData.bgmVolume,uniqueID:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(nn({key:"bgmVolume",value:Number(n)})),or(),nd()}})},"option6")]})}const dae=()=>{const e=Yo(0);be.exports.useEffect(vf,[]);function t(r){return r===e.value?mn.Options_page_button+" "+mn.Options_page_button_active:mn.Options_page_button}return ye("div",{className:mn.Options_main,children:[L("div",{className:mn.Options_top,children:L("div",{className:mn.Options_title,children:L("div",{className:mn.Option_title_text,children:"\u9009\u9879"})})}),ye("div",{className:mn.Options_page_container,children:[ye("div",{className:mn.Options_button_list,children:[L("div",{onClick:()=>e.set(0),className:t(0),children:"\u7CFB\u7EDF"}),L("div",{onClick:()=>e.set(1),className:t(1),children:"\u663E\u793A"}),L("div",{onClick:()=>e.set(2),className:t(2),children:"\u97F3\u9891"})]}),ye("div",{className:mn.Options_main_content,children:[e.value===1&&L(cae,{}),e.value===0&&L(nae,{}),e.value===2&&L(hae,{})]})]})]})},pae=()=>{const e=pt(r=>r.GUI);let t;switch(e.currentMenuTag){case xt.Save:t=L(koe,{});break;case xt.Load:t=L(Foe,{});break;case xt.Option:t=L(dae,{});break}return L(xn,{children:e.showMenuPanel&&ye("div",{className:p2.Menu_main,children:[L("div",{className:p2.Menu_TagContent,children:t}),L(qie,{})]})})},vae=()=>{const e=pt(s=>s.stage),t=pt(s=>s.userData);be.exports.useEffect(()=>{});const r=Hf.textInitialDelay-20*t.optionData.textSpeed,n=t.optionData.textSize*50+200+"%",i=HP(),a=e.showText.split("").map((s,l)=>{let c=l*r,h=e.currentConcatDialogPrev.length;return e.currentConcatDialogPrev!==""&&l>=h&&(c=c-h*r),l<h?L("span",{"data-text":s,id:`${c}`,className:ei.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:s},e.currentDialogKey+l):L("span",{"data-text":s,id:`${c}`,className:ei.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:s},e.currentDialogKey+l)});return ye("div",{id:"textBoxMain",className:ei.TextBox_main,style:{fontFamily:i},children:[L("div",{id:"miniAvatar",className:ei.miniAvatarContainer,children:e.miniAvatar!==""&&L("img",{className:ei.miniAvatarImg,alt:"miniAvatar",src:e.miniAvatar})}),e.showName!==""&&L("div",{className:ei.TextBox_showName,style:{fontSize:"200%"},children:e.showName}),L("div",{style:{fontSize:n,wordBreak:"break-word"},children:a})]})},_ae=()=>{const e=pt(t=>t.stage);return ye("div",{children:[L("audio",{id:"currentBgm",src:e.bgm,loop:!0,autoPlay:!0}),L("audio",{id:"currentVocal",src:e.vocal})]})},mae=()=>{const e=pt(i=>i.stage);let t="100%",r="100%",n="0";return e.enableFilm!==""&&(r="76%",n="12%"),ye("div",{className:_f.FullScreenPerform_main,style:{width:t,height:r,top:n},children:[L("div",{id:"videoContainer"}),L("div",{className:_f.introContainer,id:"introContainer"}),L("div",{id:"pixiContianer"}),L("div",{id:"chooseContainer"})]})},gae=()=>{const e=pt(a=>a.stage),t=pt(a=>a.userData);be.exports.useEffect(()=>{});const r=Hf.textInitialDelay-20*t.optionData.textSpeed,n=t.optionData.textSize*50+200+"%",o=e.showText.split("").map((a,s)=>{let l=s*r,c=e.currentConcatDialogPrev.length;return e.currentConcatDialogPrev!==""&&s>=c&&(l=l-c*r),s<c?L("span",{id:`${l}`,className:ed.TextBox_textElement_Settled,style:{animationDelay:`${l}ms`},children:a},e.currentDialogKey+s):L("span",{id:`${l}`,className:ed.TextBox_textElement_start,style:{animationDelay:`${l}ms`},children:a},e.currentDialogKey+s)});return L("div",{id:"textBoxMain",className:ed.TextBox_main,children:L("div",{style:{fontSize:n},children:o})})};function yae(e){const t=e.bgName;be.exports.useEffect(()=>{var n,i,o;const r="bg-main";if(t!==""){const a=(n=Z.pixiStage)==null?void 0:n.getStageObjByKey(r);a&&a.sourceUrl!==t&&y2(a),(i=Z.pixiStage)==null||i.addBg(r,t),Re.debug("\u91CD\u8BBE\u80CC\u666F"),Z.pixiStage.registerPresetAnimation(ql(r,1e3),"bg-main-softin",r,e.effects),setTimeout(()=>Z.pixiStage.removeAnimation("bg-main-softin"),1e3)}else{const a=(o=Z.pixiStage)==null?void 0:o.getStageObjByKey(r);a&&y2(a)}},[t])}function y2(e){var r,n;(r=Z.pixiStage)==null||r.removeAnimationWithSetEffects("bg-main-softin");const t=e.key;e.key="bg-main-off",(n=Z.pixiStage)==null||n.removeStageObjectByKey(t),Z.pixiStage.registerAnimation(X1("bg-main-off",1e3),"bg-main-softoff","bg-main-off"),setTimeout(()=>{var i,o;(i=Z.pixiStage)==null||i.removeAnimation("bg-main-softoff"),(o=Z.pixiStage)==null||o.removeStageObjectByKey("bg-main-off")},1e3)}function xae(e){const{figNameLeft:t,figName:r,figNameRight:n}=e;be.exports.useEffect(()=>{var a,s,l;const i="fig-center",o="fig-center-softin";if(r!==""){const c=(a=Z.pixiStage)==null?void 0:a.getStageObjByKey(i);c&&c.sourceUrl!==r&&ws(c,o,e.effects),(s=Z.pixiStage)==null||s.addFigure(i,r,"center"),Re.debug("\u4E2D\u7ACB\u7ED8\u5DF2\u91CD\u8BBE"),Z.pixiStage.registerPresetAnimation(ql(i,300),o,i,e.effects),setTimeout(()=>Z.pixiStage.removeAnimation(o),300)}else{Re.debug("\u79FB\u9664\u4E2D\u7ACB\u7ED8");const c=(l=Z.pixiStage)==null?void 0:l.getStageObjByKey(i);c&&c.sourceUrl!==r&&ws(c,o,e.effects)}},[r]),be.exports.useEffect(()=>{var a,s,l;const i="fig-left",o="fig-left-softin";if(t!==""){const c=(a=Z.pixiStage)==null?void 0:a.getStageObjByKey(i);c&&c.sourceUrl!==t&&ws(c,o,e.effects),(s=Z.pixiStage)==null||s.addFigure(i,t,"left"),Re.debug("\u5DE6\u7ACB\u7ED8\u5DF2\u91CD\u8BBE"),Z.pixiStage.registerPresetAnimation(ql(i,300),o,i,e.effects),setTimeout(()=>Z.pixiStage.removeAnimation(o),300)}else{const c=(l=Z.pixiStage)==null?void 0:l.getStageObjByKey(i);c&&c.sourceUrl!==t&&ws(c,o,e.effects)}},[t]),be.exports.useEffect(()=>{var a,s,l;const i="fig-right",o="fig-right-softin";if(n!==""){const c=(a=Z.pixiStage)==null?void 0:a.getStageObjByKey(i);c&&c.sourceUrl!==n&&ws(c,o,e.effects),(s=Z.pixiStage)==null||s.addFigure(i,n,"right"),Re.debug("\u53F3\u7ACB\u7ED8\u5DF2\u91CD\u8BBE"),Z.pixiStage.registerPresetAnimation(ql(i,300),o,i,e.effects),setTimeout(()=>Z.pixiStage.removeAnimation(o),300)}else{const c=(l=Z.pixiStage)==null?void 0:l.getStageObjByKey(i);c&&c.sourceUrl!==n&&ws(c,o,e.effects)}},[n])}function ws(e,t,r){var a,s;(a=Z.pixiStage)==null||a.removeAnimationWithSetEffects(t);const n=e.key;e.key=e.key+"-off",(s=Z.pixiStage)==null||s.removeStageObjectByKey(n);const i=e.key,o=i+"-softoff";Z.pixiStage.registerPresetAnimation(X1(i,200),o,i,r),setTimeout(()=>{var l,c;(l=Z.pixiStage)==null||l.removeAnimation(o),(c=Z.pixiStage)==null||c.removeStageObjectByKey(i)},250)}const bae={alpha:1,scale:{x:1,y:1},pivot:{x:.5,y:.5},position:{x:0,y:0},rotation:0};function Eae(e){const t=e.effects;setTimeout(()=>{var n,i,o,a,s,l;const r=(i=(n=Z.pixiStage)==null?void 0:n.getAllStageObj())!=null?i:[];for(const c of r){const h=c.key,p=t.find(_=>_.target===h);if(!((a=(o=Z.pixiStage)==null?void 0:o.getAllLockedObject())!=null?a:[]).includes(h))if(p){const _=(s=Z.pixiStage)==null?void 0:s.getStageObjByKey(h);if(_){const y=_.pixiContainer;Object.assign(y,p.transform)}}else{const _=(l=Z.pixiStage)==null?void 0:l.getStageObjByKey(h);if(_){const y=_.pixiContainer;Object.assign(y,bae)}}}},10)}function Tae(){const e=pt(t=>t.stage);return yae(e),xae(e),Eae(e),L("div",{style:{display:"none"}})}const wae=()=>{const e=pt(n=>n.stage),t=pt(n=>n.GUI),r=un();return eie(),ye("div",{className:iR.MainStage_main,children:[L(mae,{}),L(Tae,{}),t.showTextBox&&e.enableFilm===""&&!e.isDisableTextbox&&L(vae,{}),t.showTextBox&&e.enableFilm!==""&&L(gae,{}),L(_ae,{}),L("div",{onClick:()=>{if(!t.showTextBox){r(Lt({component:"showTextBox",visibility:!0}));return}RP(),Hr()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"}})]})},jP=()=>{const e=de.getState().GUI,t=de.dispatch;Nr.prevBgm=de.getState().stage.bgm,Qs(e.titleBgm),Z1(),wP(),nu(),t(Lt({component:"showTitle",visibility:!0}))},Sae=()=>{const r=pt(s=>s.GUI),n=pt(s=>s.stage),i=un(),o=(s,l)=>{i(Lt({component:s,visibility:l}))},a=s=>{i(Na(s))};return L("div",{className:et.ToCenter,children:r.showTextBox&&n.enableFilm===""&&ye("div",{className:et.main,children:[r.showTextBox&&ye("span",{className:et.singleButton,onClick:()=>o("showTextBox",!1),children:[L(Hie,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u9690\u85CF"})]}),!r.showTextBox&&ye("span",{className:et.singleButton,onClick:()=>o("showTextBox",!0),children:[L(jie,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u663E\u793A"})]}),ye("span",{className:et.singleButton,onClick:()=>{o("showBacklog",!0),o("showTextBox",!1)},children:[L(Fie,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u56DE\u60F3"})]}),ye("span",{className:et.singleButton,onClick:()=>{let s=document.getElementById("currentVocal");s!==null&&(s.currentTime=0,s.pause(),s.play())},children:[L(Wie,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u91CD\u64AD"})]}),ye("span",{id:"Button_ControlPanel_auto",className:et.singleButton,onClick:SP,children:[L(MP,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u81EA\u52A8"})]}),ye("span",{id:"Button_ControlPanel_fast",className:et.singleButton,onClick:NP,children:[L(Uie,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u5FEB\u8FDB"})]}),ye("span",{className:et.singleButton,onClick:()=>{a(xt.Save),o("showMenuPanel",!0)},children:[L(GP,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u5B58\u6863"})]}),ye("span",{className:et.singleButton,onClick:()=>{a(xt.Load),o("showMenuPanel",!0)},children:[L(BP,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u8BFB\u6863"})]}),ye("span",{className:et.singleButton,onClick:()=>{a(xt.Option),o("showMenuPanel",!0)},children:[L($P,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u9009\u9879"})]}),ye("span",{className:et.singleButton,onClick:()=>{jP()},children:[L(DP,{className:et.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),L("span",{className:et.button_text,children:"\u6807\u9898"})]})]})})},Cae=()=>{var c,h,p;const e=pt(v=>v.GUI),t=un(),r="0.8em",[n,i]=be.exports.useState(!1),[o,a]=be.exports.useState(!1);let s=be.exports.useRef();const l=be.exports.useMemo(()=>{let v=[];for(let _=0;_<tr.length;_++){const y=tr[_],x=ye("div",{className:Tr.backlog_item,style:{animationDelay:`${20*(tr.length-_)}ms`},children:[ye("div",{className:Tr.backlog_func_area,children:[ye("div",{className:Tr.backlog_item_button_list,children:[L("div",{onClick:m=>{Jre(_),m.preventDefault(),m.stopPropagation()},className:Tr.backlog_item_button_element,children:L(Xie,{theme:"outline",size:r,fill:"#ffffff",strokeWidth:3})}),y.currentStageState.vocal?L("div",{onClick:()=>{const m=document.getElementById("backlog_audio_play_element_"+_);if(m){m.currentTime=0;const b=de.getState().userData,T=b.optionData.volumeMain;m.volume=T*.01*b.optionData.vocalVolume*.01,m.play()}},className:Tr.backlog_item_button_element,children:L(zie,{theme:"outline",size:r,fill:"#ffffff",strokeWidth:3})}):null]}),L("div",{className:Tr.backlog_item_content_name,children:y.currentStageState.showName})]}),L("div",{className:Tr.backlog_item_content,children:L("span",{className:Tr.backlog_item_content_text,children:y.currentStageState.showText})}),L("audio",{id:"backlog_audio_play_element_"+_,src:y.currentStageState.vocal})]},"backlogItem"+y.currentStageState.showText+y.saveScene.currentSentenceId);v.unshift(x)}return v},[(p=(h=(c=tr[tr.length-1])==null?void 0:c.saveScene)==null?void 0:h.currentSentenceId)!=null?p:0]);return be.exports.useEffect(()=>{e.showBacklog?(s.current&&clearTimeout(s.current),i(!1),a(!0),setTimeout(()=>{a(!1)},0)):s.current=setTimeout(()=>{i(!0),s.current=void 0},700+80)},[e.showBacklog]),L(xn,{children:ye("div",{className:`
          ${e.showBacklog?Tr.Backlog_main:Tr.Backlog_main_out}
          ${n?Tr.Backlog_main_out_IndexHide:""}
          `,children:[ye("div",{className:Tr.backlog_top,children:[L(UP,{className:Tr.backlog_top_icon,onClick:()=>{t(Lt({component:"showBacklog",visibility:!1})),t(Lt({component:"showTextBox",visibility:!0}))},theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),L("div",{className:Tr.backlog_title,onClick:()=>{Re.info("Rua! Testing")},children:"\u56DE\u60F3"})]}),e.showBacklog&&L("div",{className:`${Tr.backlog_content} ${o?Tr.Backlog_main_DisableScroll:""}`,children:l})]})})},Iae="_extra_pvbbl_2",Aae="_extra_top_pvbbl_14",Rae="_extra_top_icon_pvbbl_20",Nae="_extra_icon_softin_pvbbl_1",Pae="_extra_title_pvbbl_40",Oae="_mainContainer_pvbbl_51",Lae="_bgmContainer_pvbbl_59",kae="_bgmListContainer_pvbbl_76",Fae="_bgmPlayerMain_pvbbl_91",Uae="_bgmControlButton_pvbbl_95",Bae="_bgmName_pvbbl_110",Dae="_bgmElement_pvbbl_118",Mae="_bgmElement_active_pvbbl_148",Gae="_cgMain_pvbbl_153",$ae="_cgContainer_pvbbl_158",Hae="_cgElement_pvbbl_170",jae="_cgShowDiv_pvbbl_185",Wae="_cgShowDivWarpper_pvbbl_194",Xae="_cgNav_pvbbl_203",Vae="_cgNav_active_pvbbl_222",zae="_showFullContainer_pvbbl_233",Yae="_showFullCgMain_pvbbl_246",qae="_fullCgIn_pvbbl_1",Kae="_bgmElement_In_pvbbl_1";var Pt={extra:Iae,extra_top:Aae,extra_top_icon:Rae,extra_icon_softin:Nae,extra_title:Pae,mainContainer:Oae,bgmContainer:Lae,bgmListContainer:kae,bgmPlayerMain:Fae,bgmControlButton:Uae,bgmName:Bae,bgmElement:Dae,bgmElement_active:Mae,cgMain:Gae,cgContainer:$ae,cgElement:Hae,cgShowDiv:jae,cgShowDivWarpper:Wae,cgNav:Xae,cgNav_active:Vae,showFullContainer:zae,showFullCgMain:Yae,fullCgIn:qae,bgmElement_In:Kae};function Zae(){const e=pt(v=>v.stage.bgm),t=pt(v=>v.userData.appreciationData),r=Yo(!1);let n="init_bgm_find_var_WebGAL_4.2.1",i=-1;const o=39,a=r.value?"80%":"10%",s=t.bgm.length;t.bgm.forEach((v,_)=>{v.url===e&&(n=v.name,i=_)});const l=Yo("");n!=="init_bgm_find_var_WebGAL_4.2.1"&&n!==l.value&&l.set(n);const c=un();function h(v){const _=t.bgm[v];l.set(_.name),c(Yt({key:"bgm",value:_.url}))}const p=t.bgm.map((v,_)=>{let y=Pt.bgmElement;return v.name===l.value&&(y=y+" "+Pt.bgmElement_active),L("div",{onClick:()=>{l.set(v.name),c(Yt({key:"bgm",value:v.url}))},className:y,style:{animationDelay:`${_*150}ms`},children:v.name},v.name)});return ye("div",{className:Pt.bgmContainer,style:{maxHeight:a},children:[ye("div",{className:Pt.bgmPlayerMain,children:[L("div",{onClick:()=>{i<=0?h(s-1):h(i-1)},className:Pt.bgmControlButton,children:L(Die,{theme:"filled",size:o,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),L("div",{onClick:()=>{document.getElementById("currentBgm").play().then()},className:Pt.bgmControlButton,children:L(MP,{theme:"filled",size:o,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),L("div",{onClick:()=>{i>=s-1?h(0):h(i+1)},className:Pt.bgmControlButton,children:L(Bie,{theme:"filled",size:o,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),L("div",{onClick:()=>{document.getElementById("currentBgm").pause()},className:Pt.bgmControlButton,children:L(Vie,{theme:"filled",size:o,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),L("div",{className:Pt.bgmName,children:n}),L("div",{onClick:()=>{r.set(!r.value)},className:Pt.bgmControlButton,style:{marginLeft:"auto"},children:L($ie,{theme:"filled",size:o,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})})]}),r.value&&ye("div",{className:Pt.bgmListContainer,children:[" ",p]})]})}function Jae(e){const t=Yo(!1);return ye(xn,{children:[t.value&&L("div",{onClick:()=>t.set(!t.value),className:Pt.showFullContainer,children:L("div",{className:Pt.showFullCgMain,children:L("div",{style:{backgroundImage:`url('${e.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),L("div",{onClick:()=>t.set(!t.value),style:{animation:`cg_softIn_${e.transformDeg} 1.5s ease-out ${100+e.index*100}ms forwards `},className:Pt.cgElement,children:L("div",{style:{backgroundImage:`url('${e.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})},e.name)]})}function Qae(){const t=pt(s=>s.userData.appreciationData),r=Math.ceil(t.cg.length/8),n=Yo(1),i=[],o=t.cg.length;for(let s=(n.value-1)*8;s<Math.min(o,(n.value-1)*8+8);s++){const l=s-(n.value-1)*8,c=ese(-5,5),h=L(Jae,{name:t.cg[s].name,imgUrl:t.cg[s].url,transformDeg:c,index:l},l.toString()+t.cg[s].url);i.push(h)}const a=[];for(let s=1;s<=r;s++){let l=Pt.cgNav;n.value===s&&(l=l+" "+Pt.cgNav_active);const c=L("div",{onClick:()=>n.set(s),className:l,children:s},"nav"+s);a.push(c)}return ye("div",{className:Pt.cgMain,children:[L("div",{className:Pt.cgShowDiv,children:L("div",{className:Pt.cgShowDivWarpper,children:a})}),L("div",{className:Pt.cgContainer,children:i})]})}function ese(e,t){return Math.round(Math.random()*(t-e))+e}function tse(){const e=pt(r=>r.GUI.showExtra),t=un();return L(xn,{children:e&&ye("div",{className:Pt.extra,children:[ye("div",{className:Pt.extra_top,children:[L(UP,{className:Pt.extra_top_icon,onClick:()=>{t(Lt({component:"showExtra",visibility:!1}))},theme:"outline",size:"4em",fill:"#fff",strokeWidth:3}),L("div",{className:Pt.extra_title,children:"\u9274\u8D4F\u6A21\u5F0F"})]}),ye("div",{className:Pt.mainContainer,children:[L(Qae,{}),L(Zae,{})]})]})})}const rse="_tag_yghix_2",nse="_container_yghix_17",ise="_showContainer_yghix_1",ose="_singleButton_yghix_33",ase="_button_text_yghix_37";var vr={tag:rse,container:nse,showContainer:ise,singleButton:ose,button_text:ase};const sse=()=>{const e=Yo(!1),t=pt(o=>o.stage),r=un(),n=(o,a)=>{r(Lt({component:o,visibility:a}))},i=o=>{r(Na(o))};return L(xn,{children:t.enableFilm!==""&&ye(xn,{children:[L("div",{className:vr.tag,onClick:()=>{e.set(!e.value)},children:L(Mie,{theme:"outline",size:"32",fill:"#fff"})}),e.value&&ye("div",{className:vr.container,children:[L("span",{className:vr.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),e.set(!e.value)},children:L("span",{className:vr.button_text,children:"\u5267\u60C5\u56DE\u60F3 / BACKLOG"})}),L("span",{className:vr.singleButton,onClick:()=>{e.set(!e.value);let o=document.getElementById("currentVocal");o!==null&&(o.currentTime=0,o.pause(),o.play())},children:L("span",{className:vr.button_text,children:"\u91CD\u64AD\u8BED\u97F3 / REPLAY VOICE"})}),L("span",{id:"Button_ControlPanel_auto",className:vr.singleButton,onClick:()=>{SP(),e.set(!e.value)},children:L("span",{className:vr.button_text,children:"\u81EA\u52A8\u6A21\u5F0F / AUTO"})}),L("span",{id:"Button_ControlPanel_fast",className:vr.singleButton,onClick:()=>{NP(),e.set(!e.value)},children:L("span",{className:vr.button_text,children:"\u5FEB\u8FDB / FAST"})}),L("span",{className:vr.singleButton,onClick:()=>{e.set(!e.value),i(xt.Save),n("showMenuPanel",!0)},children:L("span",{className:vr.button_text,children:"\u5B58\u6863 / SAVE"})}),L("span",{className:vr.singleButton,onClick:()=>{e.set(!e.value),i(xt.Load),n("showMenuPanel",!0)},children:L("span",{className:vr.button_text,children:"\u8BFB\u6863 / LOAD"})}),L("span",{className:vr.singleButton,onClick:()=>{e.set(!e.value),i(xt.Option),n("showMenuPanel",!0)},children:L("span",{className:vr.button_text,children:"\u9009\u9879 / OPTIONS"})}),L("span",{className:vr.singleButton,onClick:()=>{e.set(!e.value),jP()},children:L("span",{className:vr.button_text,children:"\u6807\u9898 / TITLE"})})]})]})})},use="_devPanelMain_11x6i_1",lse="_devPanelOpener_11x6i_13";var x2={devPanelMain:use,devPanelOpener:lse};function fse(){document.getElementById("pixiCanvas").toBlob(t=>{if(t){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(t),r.click(),r.remove()}},"image/png")}function cse(){function e(){return!!window.location.hash.match(/dev/)}const t=Yo(!1),r=Yo(window.location.hash),n=pt(a=>a.stage);be.exports.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=e(),o=ye(xn,{children:[L("div",{onClick:()=>fse(),children:"Save PIXI Screenshot"}),L("div",{onClick:()=>{var a;return(a=Z.pixiStage)==null?void 0:a.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),L("div",{children:"Stage State"}),L("div",{children:JSON.stringify(n,null,"  ")})]});return ye(xn,{children:[i&&t.value&&ye("div",{className:x2.devPanelMain,children:[ye("div",{style:{display:"flex",alignItems:"center"},children:[L("div",{onClick:()=>t.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:"\xD7"}),L("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),L("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:o})]}),!t.value&&i&&L("div",{onClick:()=>t.set(!0),className:x2.devPanelOpener,children:"Open Dev Panel"})]})}function hse(){return be.exports.useEffect(()=>{xie()},[]),L("div",{className:"App",style:{height:"100%",width:"100%",background:"rgba(0, 0, 0, 1)"},children:ye(Gre,{store:de,children:[L(cse,{}),L(tse,{}),L(vie,{}),L(pae,{}),L(wae,{}),L(Sae,{}),L(sse,{}),L(Cae,{}),L(Loe,{})]})})}Ua.render(L(ve.StrictMode,{children:L(hse,{})}),document.getElementById("root"));
